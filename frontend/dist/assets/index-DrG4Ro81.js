function q$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Me(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var XP={exports:{}},Rh={},YP={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=Symbol.for("react.element"),K$=Symbol.for("react.portal"),G$=Symbol.for("react.fragment"),X$=Symbol.for("react.strict_mode"),Y$=Symbol.for("react.profiler"),Q$=Symbol.for("react.provider"),Z$=Symbol.for("react.context"),J$=Symbol.for("react.forward_ref"),eD=Symbol.for("react.suspense"),tD=Symbol.for("react.memo"),rD=Symbol.for("react.lazy"),Xj=Symbol.iterator;function nD(e){return e===null||typeof e!="object"?null:(e=Xj&&e[Xj]||e["@@iterator"],typeof e=="function"?e:null)}var QP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZP=Object.assign,JP={};function zo(e,t,r){this.props=e,this.context=t,this.refs=JP,this.updater=r||QP}zo.prototype.isReactComponent={};zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eO(){}eO.prototype=zo.prototype;function _y(e,t,r){this.props=e,this.context=t,this.refs=JP,this.updater=r||QP}var Ey=_y.prototype=new eO;Ey.constructor=_y;ZP(Ey,zo.prototype);Ey.isPureReactComponent=!0;var Yj=Array.isArray,tO=Object.prototype.hasOwnProperty,$y={current:null},rO={key:!0,ref:!0,__self:!0,__source:!0};function nO(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)tO.call(t,n)&&!rO.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:vd,type:e,key:i,ref:o,props:s,_owner:$y.current}}function aD(e,t){return{$$typeof:vd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dy(e){return typeof e=="object"&&e!==null&&e.$$typeof===vd}function sD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qj=/\/+/g;function dp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sD(""+e.key):t.toString(36)}function Tu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vd:case K$:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+dp(o,0):n,Yj(s)?(r="",e!=null&&(r=e.replace(Qj,"$&/")+"/"),Tu(s,t,r,"",function(d){return d})):s!=null&&(Dy(s)&&(s=aD(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Qj,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Yj(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+dp(i,l);o+=Tu(i,t,r,c,s)}else if(c=nD(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+dp(i,l++),o+=Tu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hd(e,t,r){if(e==null)return e;var n=[],s=0;return Tu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function iD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dr={current:null},Cu={transition:null},oD={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:$y};function aO(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Hd,forEach:function(e,t,r){Hd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hd(e,function(){t++}),t},toArray:function(e){return Hd(e,function(t){return t})||[]},only:function(e){if(!Dy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=zo;ke.Fragment=G$;ke.Profiler=Y$;ke.PureComponent=_y;ke.StrictMode=X$;ke.Suspense=eD;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oD;ke.act=aO;ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZP({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$y.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tO.call(t,c)&&!rO.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:vd,type:e.type,key:s,ref:i,props:n,_owner:o}};ke.createContext=function(e){return e={$$typeof:Z$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q$,_context:e},e.Consumer=e};ke.createElement=nO;ke.createFactory=function(e){var t=nO.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:J$,render:e}};ke.isValidElement=Dy;ke.lazy=function(e){return{$$typeof:rD,_payload:{_status:-1,_result:e},_init:iD}};ke.memo=function(e,t){return{$$typeof:tD,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=Cu.transition;Cu.transition={};try{e()}finally{Cu.transition=t}};ke.unstable_act=aO;ke.useCallback=function(e,t){return dr.current.useCallback(e,t)};ke.useContext=function(e){return dr.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return dr.current.useDeferredValue(e)};ke.useEffect=function(e,t){return dr.current.useEffect(e,t)};ke.useId=function(){return dr.current.useId()};ke.useImperativeHandle=function(e,t,r){return dr.current.useImperativeHandle(e,t,r)};ke.useInsertionEffect=function(e,t){return dr.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return dr.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return dr.current.useMemo(e,t)};ke.useReducer=function(e,t,r){return dr.current.useReducer(e,t,r)};ke.useRef=function(e){return dr.current.useRef(e)};ke.useState=function(e){return dr.current.useState(e)};ke.useSyncExternalStore=function(e,t,r){return dr.current.useSyncExternalStore(e,t,r)};ke.useTransition=function(){return dr.current.useTransition()};ke.version="18.3.1";YP.exports=ke;var N=YP.exports;const R=Me(N),lD=q$({__proto__:null,default:R},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD=N,dD=Symbol.for("react.element"),uD=Symbol.for("react.fragment"),fD=Object.prototype.hasOwnProperty,hD=cD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mD={key:!0,ref:!0,__self:!0,__source:!0};function sO(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)fD.call(t,n)&&!mD.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:dD,type:e,key:i,ref:o,props:s,_owner:hD.current}}Rh.Fragment=uD;Rh.jsx=sO;Rh.jsxs=sO;XP.exports=Rh;var a=XP.exports,_g={},iO={exports:{}},Lr={},oO={exports:{}},lO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,_){var U=$.length;$.push(_);e:for(;0<U;){var I=U-1>>>1,B=$[I];if(0<s(B,_))$[I]=_,$[U]=B,U=I;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var _=$[0],U=$.pop();if(U!==_){$[0]=U;e:for(var I=0,B=$.length,q=B>>>1;I<q;){var Y=2*(I+1)-1,re=$[Y],J=Y+1,ve=$[J];if(0>s(re,U))J<B&&0>s(ve,re)?($[I]=ve,$[J]=U,I=J):($[I]=re,$[Y]=U,I=Y);else if(J<B&&0>s(ve,U))$[I]=ve,$[J]=U,I=J;else break e}}return _}function s($,_){var U=$.sortIndex-_.sortIndex;return U!==0?U:$.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,p=!1,m=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var _=r(d);_!==null;){if(_.callback===null)n(d);else if(_.startTime<=$)n(d),_.sortIndex=_.expirationTime,t(c,_);else break;_=r(d)}}function w($){if(x=!1,b($),!m)if(r(c)!==null)m=!0,L(j);else{var _=r(d);_!==null&&V(w,_.startTime-$)}}function j($,_){m=!1,x&&(x=!1,g(S),S=-1),p=!0;var U=h;try{for(b(_),f=r(c);f!==null&&(!(f.expirationTime>_)||$&&!C());){var I=f.callback;if(typeof I=="function"){f.callback=null,h=f.priorityLevel;var B=I(f.expirationTime<=_);_=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),b(_)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var Y=r(d);Y!==null&&V(w,Y.startTime-_),q=!1}return q}finally{f=null,h=U,p=!1}}var k=!1,P=null,S=-1,O=5,A=-1;function C(){return!(e.unstable_now()-A<O)}function T(){if(P!==null){var $=e.unstable_now();A=$;var _=!0;try{_=P(!0,$)}finally{_?F():(k=!1,P=null)}}else k=!1}var F;if(typeof v=="function")F=function(){v(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,M=z.port2;z.port1.onmessage=T,F=function(){M.postMessage(null)}}else F=function(){y(T,0)};function L($){P=$,k||(k=!0,F())}function V($,_){S=y(function(){$(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(j))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var U=h;h=_;try{return $()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,_){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var U=h;h=$;try{return _()}finally{h=U}},e.unstable_scheduleCallback=function($,_,U){var I=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?I+U:I):U=I,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=U+B,$={id:u++,callback:_,priorityLevel:$,startTime:U,expirationTime:B,sortIndex:-1},U>I?($.sortIndex=U,t(d,$),r(c)===null&&$===r(d)&&(x?(g(S),S=-1):x=!0,V(w,U-I))):($.sortIndex=B,t(c,$),m||p||(m=!0,L(j))),$},e.unstable_shouldYield=C,e.unstable_wrapCallback=function($){var _=h;return function(){var U=h;h=_;try{return $.apply(this,arguments)}finally{h=U}}}})(lO);oO.exports=lO;var pD=oO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=N,Ir=pD;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cO=new Set,cc={};function ii(e,t){eo(e,t),eo(e+"Capture",t)}function eo(e,t){for(cc[e]=t,e=0;e<t.length;e++)cO.add(t[e])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,xD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zj={},Jj={};function yD(e){return Eg.call(Jj,e)?!0:Eg.call(Zj,e)?!1:xD.test(e)?Jj[e]=!0:(Zj[e]=!0,!1)}function vD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bD(e,t,r,n){if(t===null||typeof t>"u"||vD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ur(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new ur(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new ur(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new ur(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new ur(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new ur(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new ur(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new ur(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new ur(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new ur(e,5,!1,e.toLowerCase(),null,!1,!1)});var My=/[\-:]([a-z])/g;function Iy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(My,Iy);Wt[t]=new ur(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(My,Iy);Wt[t]=new ur(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(My,Iy);Wt[t]=new ur(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new ur(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new ur(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ry(e,t,r,n){var s=Wt.hasOwnProperty(t)?Wt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bD(t,r,s,n)&&(r=null),n||s===null?yD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ka=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qd=Symbol.for("react.element"),ji=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),$g=Symbol.for("react.profiler"),dO=Symbol.for("react.provider"),uO=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Mg=Symbol.for("react.suspense_list"),By=Symbol.for("react.memo"),$a=Symbol.for("react.lazy"),fO=Symbol.for("react.offscreen"),e1=Symbol.iterator;function gl(e){return e===null||typeof e!="object"?null:(e=e1&&e[e1]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,up;function Rl(e){if(up===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);up=t&&t[1]||""}return`
`+up+e}var fp=!1;function hp(e,t){if(!e||fp)return"";fp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{fp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function jD(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=hp(e.type,!1),e;case 11:return e=hp(e.type.render,!1),e;case 1:return e=hp(e.type,!0),e;default:return""}}function Ig(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wi:return"Fragment";case ji:return"Portal";case $g:return"Profiler";case Ly:return"StrictMode";case Dg:return"Suspense";case Mg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uO:return(e.displayName||"Context")+".Consumer";case dO:return(e._context.displayName||"Context")+".Provider";case Fy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case By:return t=e.displayName||null,t!==null?t:Ig(e.type)||"Memo";case $a:t=e._payload,e=e._init;try{return Ig(e(t))}catch{}}return null}function wD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ig(t);case 8:return t===Ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ND(e){var t=hO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kd(e){e._valueTracker||(e._valueTracker=ND(e))}function mO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rg(e,t){var r=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function t1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=es(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pO(e,t){t=t.checked,t!=null&&Ry(e,"checked",t,!1)}function Lg(e,t){pO(e,t);var r=es(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fg(e,t.type,es(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function r1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fg(e,t,r){(t!=="number"||Qu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ll=Array.isArray;function Wi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+es(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function n1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Ll(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:es(r)}}function gO(e,t){var r=es(t.value),n=es(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function a1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gd,yO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gd=Gd||document.createElement("div"),Gd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kD=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(e){kD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vl[t]=Vl[e]})});function vO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vl.hasOwnProperty(e)&&Vl[e]?(""+t).trim():t+"px"}function bO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vO(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var SD=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ug(e,t){if(t){if(SD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Vg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wg=null;function zy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hg=null,Hi=null,qi=null;function s1(e){if(e=wd(e)){if(typeof Hg!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Uh(t),Hg(e.stateNode,e.type,t))}}function jO(e){Hi?qi?qi.push(e):qi=[e]:Hi=e}function wO(){if(Hi){var e=Hi,t=qi;if(qi=Hi=null,s1(e),t)for(e=0;e<t.length;e++)s1(t[e])}}function NO(e,t){return e(t)}function kO(){}var mp=!1;function SO(e,t,r){if(mp)return e(t,r);mp=!0;try{return NO(e,t,r)}finally{mp=!1,(Hi!==null||qi!==null)&&(kO(),wO())}}function uc(e,t){var r=e.stateNode;if(r===null)return null;var n=Uh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var qg=!1;if(ma)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){qg=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{qg=!1}function PD(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Wl=!1,Zu=null,Ju=!1,Kg=null,OD={onError:function(e){Wl=!0,Zu=e}};function AD(e,t,r,n,s,i,o,l,c){Wl=!1,Zu=null,PD.apply(OD,arguments)}function TD(e,t,r,n,s,i,o,l,c){if(AD.apply(this,arguments),Wl){if(Wl){var d=Zu;Wl=!1,Zu=null}else throw Error(Q(198));Ju||(Ju=!0,Kg=d)}}function oi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function PO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function i1(e){if(oi(e)!==e)throw Error(Q(188))}function CD(e){var t=e.alternate;if(!t){if(t=oi(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return i1(s),e;if(i===n)return i1(s),t;i=i.sibling}throw Error(Q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function OO(e){return e=CD(e),e!==null?AO(e):null}function AO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=AO(e);if(t!==null)return t;e=e.sibling}return null}var TO=Ir.unstable_scheduleCallback,o1=Ir.unstable_cancelCallback,_D=Ir.unstable_shouldYield,ED=Ir.unstable_requestPaint,ht=Ir.unstable_now,$D=Ir.unstable_getCurrentPriorityLevel,Uy=Ir.unstable_ImmediatePriority,CO=Ir.unstable_UserBlockingPriority,ef=Ir.unstable_NormalPriority,DD=Ir.unstable_LowPriority,_O=Ir.unstable_IdlePriority,Lh=null,Bn=null;function MD(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Lh,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:LD,ID=Math.log,RD=Math.LN2;function LD(e){return e>>>=0,e===0?32:31-(ID(e)/RD|0)|0}var Xd=64,Yd=4194304;function Fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Fl(l):(i&=o,i!==0&&(n=Fl(i)))}else o=r&~s,o!==0?n=Fl(o):i!==0&&(n=Fl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nn(t),s=1<<r,n|=e[r],t&=~s;return n}function FD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Nn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=FD(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Gg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EO(){var e=Xd;return Xd<<=1,!(Xd&4194240)&&(Xd=64),e}function pp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=r}function zD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Nn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Vy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var De=0;function $O(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DO,Wy,MO,IO,RO,Xg=!1,Qd=[],Wa=null,Ha=null,qa=null,fc=new Map,hc=new Map,Ia=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l1(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function yl(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=wd(t),t!==null&&Wy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function VD(e,t,r,n,s){switch(t){case"focusin":return Wa=yl(Wa,e,t,r,n,s),!0;case"dragenter":return Ha=yl(Ha,e,t,r,n,s),!0;case"mouseover":return qa=yl(qa,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return fc.set(i,yl(fc.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,hc.set(i,yl(hc.get(i)||null,e,t,r,n,s)),!0}return!1}function LO(e){var t=Os(e.target);if(t!==null){var r=oi(t);if(r!==null){if(t=r.tag,t===13){if(t=PO(r),t!==null){e.blockedOn=t,RO(e.priority,function(){MO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wg=n,r.target.dispatchEvent(n),Wg=null}else return t=wd(r),t!==null&&Wy(t),e.blockedOn=r,!1;t.shift()}return!0}function c1(e,t,r){_u(e)&&r.delete(t)}function WD(){Xg=!1,Wa!==null&&_u(Wa)&&(Wa=null),Ha!==null&&_u(Ha)&&(Ha=null),qa!==null&&_u(qa)&&(qa=null),fc.forEach(c1),hc.forEach(c1)}function vl(e,t){e.blockedOn===t&&(e.blockedOn=null,Xg||(Xg=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,WD)))}function mc(e){function t(s){return vl(s,e)}if(0<Qd.length){vl(Qd[0],e);for(var r=1;r<Qd.length;r++){var n=Qd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wa!==null&&vl(Wa,e),Ha!==null&&vl(Ha,e),qa!==null&&vl(qa,e),fc.forEach(t),hc.forEach(t),r=0;r<Ia.length;r++)n=Ia[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ia.length&&(r=Ia[0],r.blockedOn===null);)LO(r),r.blockedOn===null&&Ia.shift()}var Ki=ka.ReactCurrentBatchConfig,rf=!0;function HD(e,t,r,n){var s=De,i=Ki.transition;Ki.transition=null;try{De=1,Hy(e,t,r,n)}finally{De=s,Ki.transition=i}}function qD(e,t,r,n){var s=De,i=Ki.transition;Ki.transition=null;try{De=4,Hy(e,t,r,n)}finally{De=s,Ki.transition=i}}function Hy(e,t,r,n){if(rf){var s=Yg(e,t,r,n);if(s===null)Sp(e,t,n,nf,r),l1(e,n);else if(VD(s,e,t,r,n))n.stopPropagation();else if(l1(e,n),t&4&&-1<UD.indexOf(e)){for(;s!==null;){var i=wd(s);if(i!==null&&DO(i),i=Yg(e,t,r,n),i===null&&Sp(e,t,n,nf,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Sp(e,t,n,null,r)}}var nf=null;function Yg(e,t,r,n){if(nf=null,e=zy(n),e=Os(e),e!==null)if(t=oi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=PO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nf=e,null}function FO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($D()){case Uy:return 1;case CO:return 4;case ef:case DD:return 16;case _O:return 536870912;default:return 16}default:return 16}}var Ba=null,qy=null,Eu=null;function BO(){if(Eu)return Eu;var e,t=qy,r=t.length,n,s="value"in Ba?Ba.value:Ba.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Eu=s.slice(e,1<n?1-n:void 0)}function $u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zd(){return!0}function d1(){return!1}function Fr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zd:d1,this.isPropagationStopped=d1,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),t}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ky=Fr(Uo),jd=ct({},Uo,{view:0,detail:0}),KD=Fr(jd),gp,xp,bl,Fh=ct({},jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bl&&(bl&&e.type==="mousemove"?(gp=e.screenX-bl.screenX,xp=e.screenY-bl.screenY):xp=gp=0,bl=e),gp)},movementY:function(e){return"movementY"in e?e.movementY:xp}}),u1=Fr(Fh),GD=ct({},Fh,{dataTransfer:0}),XD=Fr(GD),YD=ct({},jd,{relatedTarget:0}),yp=Fr(YD),QD=ct({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),ZD=Fr(QD),JD=ct({},Uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e6=Fr(JD),t6=ct({},Uo,{data:0}),f1=Fr(t6),r6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a6[e])?!!t[e]:!1}function Gy(){return s6}var i6=ct({},jd,{key:function(e){if(e.key){var t=r6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gy,charCode:function(e){return e.type==="keypress"?$u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o6=Fr(i6),l6=ct({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h1=Fr(l6),c6=ct({},jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gy}),d6=Fr(c6),u6=ct({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),f6=Fr(u6),h6=ct({},Fh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m6=Fr(h6),p6=[9,13,27,32],Xy=ma&&"CompositionEvent"in window,Hl=null;ma&&"documentMode"in document&&(Hl=document.documentMode);var g6=ma&&"TextEvent"in window&&!Hl,zO=ma&&(!Xy||Hl&&8<Hl&&11>=Hl),m1=" ",p1=!1;function UO(e,t){switch(e){case"keyup":return p6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function x6(e,t){switch(e){case"compositionend":return VO(t);case"keypress":return t.which!==32?null:(p1=!0,m1);case"textInput":return e=t.data,e===m1&&p1?null:e;default:return null}}function y6(e,t){if(Ni)return e==="compositionend"||!Xy&&UO(e,t)?(e=BO(),Eu=qy=Ba=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zO&&t.locale!=="ko"?null:t.data;default:return null}}var v6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v6[e.type]:t==="textarea"}function WO(e,t,r,n){jO(n),t=af(t,"onChange"),0<t.length&&(r=new Ky("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ql=null,pc=null;function b6(e){tA(e,0)}function Bh(e){var t=Pi(e);if(mO(t))return e}function j6(e,t){if(e==="change")return t}var HO=!1;if(ma){var vp;if(ma){var bp="oninput"in document;if(!bp){var x1=document.createElement("div");x1.setAttribute("oninput","return;"),bp=typeof x1.oninput=="function"}vp=bp}else vp=!1;HO=vp&&(!document.documentMode||9<document.documentMode)}function y1(){ql&&(ql.detachEvent("onpropertychange",qO),pc=ql=null)}function qO(e){if(e.propertyName==="value"&&Bh(pc)){var t=[];WO(t,pc,e,zy(e)),SO(b6,t)}}function w6(e,t,r){e==="focusin"?(y1(),ql=t,pc=r,ql.attachEvent("onpropertychange",qO)):e==="focusout"&&y1()}function N6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bh(pc)}function k6(e,t){if(e==="click")return Bh(t)}function S6(e,t){if(e==="input"||e==="change")return Bh(t)}function P6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pn=typeof Object.is=="function"?Object.is:P6;function gc(e,t){if(Pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Eg.call(t,s)||!Pn(e[s],t[s]))return!1}return!0}function v1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function b1(e,t){var r=v1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=v1(r)}}function KO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GO(){for(var e=window,t=Qu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qu(e.document)}return t}function Yy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O6(e){var t=GO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&KO(r.ownerDocument.documentElement,r)){if(n!==null&&Yy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=b1(r,i);var o=b1(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var A6=ma&&"documentMode"in document&&11>=document.documentMode,ki=null,Qg=null,Kl=null,Zg=!1;function j1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zg||ki==null||ki!==Qu(n)||(n=ki,"selectionStart"in n&&Yy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kl&&gc(Kl,n)||(Kl=n,n=af(Qg,"onSelect"),0<n.length&&(t=new Ky("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ki)))}function Jd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Si={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},jp={},XO={};ma&&(XO=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function zh(e){if(jp[e])return jp[e];if(!Si[e])return e;var t=Si[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in XO)return jp[e]=t[r];return e}var YO=zh("animationend"),QO=zh("animationiteration"),ZO=zh("animationstart"),JO=zh("transitionend"),eA=new Map,w1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(e,t){eA.set(e,t),ii(t,[e])}for(var wp=0;wp<w1.length;wp++){var Np=w1[wp],T6=Np.toLowerCase(),C6=Np[0].toUpperCase()+Np.slice(1);ss(T6,"on"+C6)}ss(YO,"onAnimationEnd");ss(QO,"onAnimationIteration");ss(ZO,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(JO,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function N1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TD(n,t,void 0,e),e.currentTarget=null}function tA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;N1(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;N1(s,l,d),i=c}}}if(Ju)throw e=Kg,Ju=!1,Kg=null,e}function Ge(e,t){var r=t[n0];r===void 0&&(r=t[n0]=new Set);var n=e+"__bubble";r.has(n)||(rA(t,e,2,!1),r.add(n))}function kp(e,t,r){var n=0;t&&(n|=4),rA(r,e,n,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[eu]){e[eu]=!0,cO.forEach(function(r){r!=="selectionchange"&&(_6.has(r)||kp(r,!1,e),kp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eu]||(t[eu]=!0,kp("selectionchange",!1,t))}}function rA(e,t,r,n){switch(FO(t)){case 1:var s=HD;break;case 4:s=qD;break;default:s=Hy}r=s.bind(null,t,r,e),s=void 0,!qg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Sp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Os(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}SO(function(){var d=i,u=zy(r),f=[];e:{var h=eA.get(e);if(h!==void 0){var p=Ky,m=e;switch(e){case"keypress":if($u(r)===0)break e;case"keydown":case"keyup":p=o6;break;case"focusin":m="focus",p=yp;break;case"focusout":m="blur",p=yp;break;case"beforeblur":case"afterblur":p=yp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=u1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=XD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=d6;break;case YO:case QO:case ZO:p=ZD;break;case JO:p=f6;break;case"scroll":p=KD;break;case"wheel":p=m6;break;case"copy":case"cut":case"paste":p=e6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=h1}var x=(t&4)!==0,y=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var v=d,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,g!==null&&(w=uc(v,g),w!=null&&x.push(yc(v,w,b)))),y)break;v=v.return}0<x.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Wg&&(m=r.relatedTarget||r.fromElement)&&(Os(m)||m[pa]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=d,m=m?Os(m):null,m!==null&&(y=oi(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=d),p!==m)){if(x=u1,w="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=h1,w="onPointerLeave",g="onPointerEnter",v="pointer"),y=p==null?h:Pi(p),b=m==null?h:Pi(m),h=new x(w,v+"leave",p,r,u),h.target=y,h.relatedTarget=b,w=null,Os(u)===d&&(x=new x(g,v+"enter",m,r,u),x.target=b,x.relatedTarget=y,w=x),y=w,p&&m)t:{for(x=p,g=m,v=0,b=x;b;b=gi(b))v++;for(b=0,w=g;w;w=gi(w))b++;for(;0<v-b;)x=gi(x),v--;for(;0<b-v;)g=gi(g),b--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=gi(x),g=gi(g)}x=null}else x=null;p!==null&&k1(f,h,p,x,!1),m!==null&&y!==null&&k1(f,y,m,x,!0)}}e:{if(h=d?Pi(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=j6;else if(g1(h))if(HO)j=S6;else{j=N6;var k=w6}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=k6);if(j&&(j=j(e,d))){WO(f,j,r,u);break e}k&&k(e,h,d),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Fg(h,"number",h.value)}switch(k=d?Pi(d):window,e){case"focusin":(g1(k)||k.contentEditable==="true")&&(ki=k,Qg=d,Kl=null);break;case"focusout":Kl=Qg=ki=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,j1(f,r,u);break;case"selectionchange":if(A6)break;case"keydown":case"keyup":j1(f,r,u)}var P;if(Xy)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ni?UO(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(zO&&r.locale!=="ko"&&(Ni||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ni&&(P=BO()):(Ba=u,qy="value"in Ba?Ba.value:Ba.textContent,Ni=!0)),k=af(d,S),0<k.length&&(S=new f1(S,e,null,r,u),f.push({event:S,listeners:k}),P?S.data=P:(P=VO(r),P!==null&&(S.data=P)))),(P=g6?x6(e,r):y6(e,r))&&(d=af(d,"onBeforeInput"),0<d.length&&(u=new f1("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=P))}tA(f,t)})}function yc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function af(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uc(e,r),i!=null&&n.unshift(yc(e,i,s)),i=uc(e,t),i!=null&&n.push(yc(e,i,s))),e=e.return}return n}function gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function k1(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=uc(r,i),c!=null&&o.unshift(yc(r,c,l))):s||(c=uc(r,i),c!=null&&o.push(yc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var E6=/\r\n?/g,$6=/\u0000|\uFFFD/g;function S1(e){return(typeof e=="string"?e:""+e).replace(E6,`
`).replace($6,"")}function tu(e,t,r){if(t=S1(t),S1(e)!==t&&r)throw Error(Q(425))}function sf(){}var Jg=null,e0=null;function t0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var r0=typeof setTimeout=="function"?setTimeout:void 0,D6=typeof clearTimeout=="function"?clearTimeout:void 0,P1=typeof Promise=="function"?Promise:void 0,M6=typeof queueMicrotask=="function"?queueMicrotask:typeof P1<"u"?function(e){return P1.resolve(null).then(e).catch(I6)}:r0;function I6(e){setTimeout(function(){throw e})}function Pp(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),mc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);mc(t)}function Ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Vo,vc="__reactProps$"+Vo,pa="__reactContainer$"+Vo,n0="__reactEvents$"+Vo,R6="__reactListeners$"+Vo,L6="__reactHandles$"+Vo;function Os(e){var t=e[Rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[Rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=O1(e);e!==null;){if(r=e[Rn])return r;e=O1(e)}return t}e=r,r=e.parentNode}return null}function wd(e){return e=e[Rn]||e[pa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Uh(e){return e[vc]||null}var a0=[],Oi=-1;function is(e){return{current:e}}function Qe(e){0>Oi||(e.current=a0[Oi],a0[Oi]=null,Oi--)}function He(e,t){Oi++,a0[Oi]=e.current,e.current=t}var ts={},Jt=is(ts),gr=is(!1),Hs=ts;function to(e,t){var r=e.type.contextTypes;if(!r)return ts;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xr(e){return e=e.childContextTypes,e!=null}function of(){Qe(gr),Qe(Jt)}function A1(e,t,r){if(Jt.current!==ts)throw Error(Q(168));He(Jt,t),He(gr,r)}function nA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Q(108,wD(e)||"Unknown",s));return ct({},r,n)}function lf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ts,Hs=Jt.current,He(Jt,e),He(gr,gr.current),!0}function T1(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=nA(e,t,Hs),n.__reactInternalMemoizedMergedChildContext=e,Qe(gr),Qe(Jt),He(Jt,e)):Qe(gr),He(gr,r)}var aa=null,Vh=!1,Op=!1;function aA(e){aa===null?aa=[e]:aa.push(e)}function F6(e){Vh=!0,aA(e)}function os(){if(!Op&&aa!==null){Op=!0;var e=0,t=De;try{var r=aa;for(De=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}aa=null,Vh=!1}catch(s){throw aa!==null&&(aa=aa.slice(e+1)),TO(Uy,os),s}finally{De=t,Op=!1}}return null}var Ai=[],Ti=0,cf=null,df=0,qr=[],Kr=0,qs=null,sa=1,ia="";function bs(e,t){Ai[Ti++]=df,Ai[Ti++]=cf,cf=e,df=t}function sA(e,t,r){qr[Kr++]=sa,qr[Kr++]=ia,qr[Kr++]=qs,qs=e;var n=sa;e=ia;var s=32-Nn(n)-1;n&=~(1<<s),r+=1;var i=32-Nn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,sa=1<<32-Nn(t)+s|r<<s|n,ia=i+e}else sa=1<<i|r<<s|n,ia=e}function Qy(e){e.return!==null&&(bs(e,1),sA(e,1,0))}function Zy(e){for(;e===cf;)cf=Ai[--Ti],Ai[Ti]=null,df=Ai[--Ti],Ai[Ti]=null;for(;e===qs;)qs=qr[--Kr],qr[Kr]=null,ia=qr[--Kr],qr[Kr]=null,sa=qr[--Kr],qr[Kr]=null}var $r=null,Er=null,et=!1,jn=null;function iA(e,t){var r=Xr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function C1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$r=e,Er=Ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$r=e,Er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qs!==null?{id:sa,overflow:ia}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$r=e,Er=null,!0):!1;default:return!1}}function s0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function i0(e){if(et){var t=Er;if(t){var r=t;if(!C1(e,t)){if(s0(e))throw Error(Q(418));t=Ka(r.nextSibling);var n=$r;t&&C1(e,t)?iA(n,r):(e.flags=e.flags&-4097|2,et=!1,$r=e)}}else{if(s0(e))throw Error(Q(418));e.flags=e.flags&-4097|2,et=!1,$r=e}}}function _1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$r=e}function ru(e){if(e!==$r)return!1;if(!et)return _1(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!t0(e.type,e.memoizedProps)),t&&(t=Er)){if(s0(e))throw oA(),Error(Q(418));for(;t;)iA(e,t),t=Ka(t.nextSibling)}if(_1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Er=Ka(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Er=null}}else Er=$r?Ka(e.stateNode.nextSibling):null;return!0}function oA(){for(var e=Er;e;)e=Ka(e.nextSibling)}function ro(){Er=$r=null,et=!1}function Jy(e){jn===null?jn=[e]:jn.push(e)}var B6=ka.ReactCurrentBatchConfig;function jl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function nu(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function E1(e){var t=e._init;return t(e._payload)}function lA(e){function t(g,v){if(e){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Qa(g,v),g.index=0,g.sibling=null,g}function i(g,v,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,b,w){return v===null||v.tag!==6?(v=Dp(b,g.mode,w),v.return=g,v):(v=s(v,b),v.return=g,v)}function c(g,v,b,w){var j=b.type;return j===wi?u(g,v,b.props.children,w,b.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$a&&E1(j)===v.type)?(w=s(v,b.props),w.ref=jl(g,v,b),w.return=g,w):(w=Bu(b.type,b.key,b.props,null,g.mode,w),w.ref=jl(g,v,b),w.return=g,w)}function d(g,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Mp(b,g.mode,w),v.return=g,v):(v=s(v,b.children||[]),v.return=g,v)}function u(g,v,b,w,j){return v===null||v.tag!==7?(v=Fs(b,g.mode,w,j),v.return=g,v):(v=s(v,b),v.return=g,v)}function f(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dp(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qd:return b=Bu(v.type,v.key,v.props,null,g.mode,b),b.ref=jl(g,null,v),b.return=g,b;case ji:return v=Mp(v,g.mode,b),v.return=g,v;case $a:var w=v._init;return f(g,w(v._payload),b)}if(Ll(v)||gl(v))return v=Fs(v,g.mode,b,null),v.return=g,v;nu(g,v)}return null}function h(g,v,b,w){var j=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(g,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qd:return b.key===j?c(g,v,b,w):null;case ji:return b.key===j?d(g,v,b,w):null;case $a:return j=b._init,h(g,v,j(b._payload),w)}if(Ll(b)||gl(b))return j!==null?null:u(g,v,b,w,null);nu(g,b)}return null}function p(g,v,b,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(b)||null,l(v,g,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qd:return g=g.get(w.key===null?b:w.key)||null,c(v,g,w,j);case ji:return g=g.get(w.key===null?b:w.key)||null,d(v,g,w,j);case $a:var k=w._init;return p(g,v,b,k(w._payload),j)}if(Ll(w)||gl(w))return g=g.get(b)||null,u(v,g,w,j,null);nu(v,w)}return null}function m(g,v,b,w){for(var j=null,k=null,P=v,S=v=0,O=null;P!==null&&S<b.length;S++){P.index>S?(O=P,P=null):O=P.sibling;var A=h(g,P,b[S],w);if(A===null){P===null&&(P=O);break}e&&P&&A.alternate===null&&t(g,P),v=i(A,v,S),k===null?j=A:k.sibling=A,k=A,P=O}if(S===b.length)return r(g,P),et&&bs(g,S),j;if(P===null){for(;S<b.length;S++)P=f(g,b[S],w),P!==null&&(v=i(P,v,S),k===null?j=P:k.sibling=P,k=P);return et&&bs(g,S),j}for(P=n(g,P);S<b.length;S++)O=p(P,g,S,b[S],w),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?S:O.key),v=i(O,v,S),k===null?j=O:k.sibling=O,k=O);return e&&P.forEach(function(C){return t(g,C)}),et&&bs(g,S),j}function x(g,v,b,w){var j=gl(b);if(typeof j!="function")throw Error(Q(150));if(b=j.call(b),b==null)throw Error(Q(151));for(var k=j=null,P=v,S=v=0,O=null,A=b.next();P!==null&&!A.done;S++,A=b.next()){P.index>S?(O=P,P=null):O=P.sibling;var C=h(g,P,A.value,w);if(C===null){P===null&&(P=O);break}e&&P&&C.alternate===null&&t(g,P),v=i(C,v,S),k===null?j=C:k.sibling=C,k=C,P=O}if(A.done)return r(g,P),et&&bs(g,S),j;if(P===null){for(;!A.done;S++,A=b.next())A=f(g,A.value,w),A!==null&&(v=i(A,v,S),k===null?j=A:k.sibling=A,k=A);return et&&bs(g,S),j}for(P=n(g,P);!A.done;S++,A=b.next())A=p(P,g,S,A.value,w),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?S:A.key),v=i(A,v,S),k===null?j=A:k.sibling=A,k=A);return e&&P.forEach(function(T){return t(g,T)}),et&&bs(g,S),j}function y(g,v,b,w){if(typeof b=="object"&&b!==null&&b.type===wi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case qd:e:{for(var j=b.key,k=v;k!==null;){if(k.key===j){if(j=b.type,j===wi){if(k.tag===7){r(g,k.sibling),v=s(k,b.props.children),v.return=g,g=v;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$a&&E1(j)===k.type){r(g,k.sibling),v=s(k,b.props),v.ref=jl(g,k,b),v.return=g,g=v;break e}r(g,k);break}else t(g,k);k=k.sibling}b.type===wi?(v=Fs(b.props.children,g.mode,w,b.key),v.return=g,g=v):(w=Bu(b.type,b.key,b.props,null,g.mode,w),w.ref=jl(g,v,b),w.return=g,g=w)}return o(g);case ji:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(g,v.sibling),v=s(v,b.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Mp(b,g.mode,w),v.return=g,g=v}return o(g);case $a:return k=b._init,y(g,v,k(b._payload),w)}if(Ll(b))return m(g,v,b,w);if(gl(b))return x(g,v,b,w);nu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(g,v.sibling),v=s(v,b),v.return=g,g=v):(r(g,v),v=Dp(b,g.mode,w),v.return=g,g=v),o(g)):r(g,v)}return y}var no=lA(!0),cA=lA(!1),uf=is(null),ff=null,Ci=null,ev=null;function tv(){ev=Ci=ff=null}function rv(e){var t=uf.current;Qe(uf),e._currentValue=t}function o0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gi(e,t){ff=e,ev=Ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(ev!==e)if(e={context:e,memoizedValue:t,next:null},Ci===null){if(ff===null)throw Error(Q(308));Ci=e,ff.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var As=null;function nv(e){As===null?As=[e]:As.push(e)}function dA(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,nv(t)):(r.next=s.next,s.next=r),t.interleaved=r,ga(e,n)}function ga(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Da=!1;function av(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ga(e,r)}return s=n.interleaved,s===null?(t.next=t,nv(n)):(t.next=s.next,s.next=t),n.interleaved=t,ga(e,r)}function Du(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vy(e,r)}}function $1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hf(e,t,r,n){var s=e.updateQueue;Da=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,x=l;switch(h=t,p=r,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ct({},f,h);break e;case 2:Da=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gs|=o,e.lanes=o,e.memoizedState=f}}function D1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Q(191,s));s.call(n)}}}var Nd={},zn=is(Nd),bc=is(Nd),jc=is(Nd);function Ts(e){if(e===Nd)throw Error(Q(174));return e}function sv(e,t){switch(He(jc,t),He(bc,e),He(zn,Nd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zg(t,e)}Qe(zn),He(zn,t)}function ao(){Qe(zn),Qe(bc),Qe(jc)}function fA(e){Ts(jc.current);var t=Ts(zn.current),r=zg(t,e.type);t!==r&&(He(bc,e),He(zn,r))}function iv(e){bc.current===e&&(Qe(zn),Qe(bc))}var st=is(0);function mf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ap=[];function ov(){for(var e=0;e<Ap.length;e++)Ap[e]._workInProgressVersionPrimary=null;Ap.length=0}var Mu=ka.ReactCurrentDispatcher,Tp=ka.ReactCurrentBatchConfig,Ks=0,lt=null,St=null,$t=null,pf=!1,Gl=!1,wc=0,z6=0;function qt(){throw Error(Q(321))}function lv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pn(e[r],t[r]))return!1;return!0}function cv(e,t,r,n,s,i){if(Ks=i,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mu.current=e===null||e.memoizedState===null?H6:q6,e=r(n,s),Gl){i=0;do{if(Gl=!1,wc=0,25<=i)throw Error(Q(301));i+=1,$t=St=null,t.updateQueue=null,Mu.current=K6,e=r(n,s)}while(Gl)}if(Mu.current=gf,t=St!==null&&St.next!==null,Ks=0,$t=St=lt=null,pf=!1,t)throw Error(Q(300));return e}function dv(){var e=wc!==0;return wc=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?lt.memoizedState=$t=e:$t=$t.next=e,$t}function an(){if(St===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=$t===null?lt.memoizedState:$t.next;if(t!==null)$t=t,St=e;else{if(e===null)throw Error(Q(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},$t===null?lt.memoizedState=$t=e:$t=$t.next=e}return $t}function Nc(e,t){return typeof t=="function"?t(e):t}function Cp(e){var t=an(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=St,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ks&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,lt.lanes|=u,Gs|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Pn(n,t.memoizedState)||(hr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,lt.lanes|=i,Gs|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _p(e){var t=an(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Pn(i,t.memoizedState)||(hr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function hA(){}function mA(e,t){var r=lt,n=an(),s=t(),i=!Pn(n.memoizedState,s);if(i&&(n.memoizedState=s,hr=!0),n=n.queue,uv(xA.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,kc(9,gA.bind(null,r,n,s,t),void 0,null),Mt===null)throw Error(Q(349));Ks&30||pA(r,t,s)}return s}function pA(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gA(e,t,r,n){t.value=r,t.getSnapshot=n,yA(t)&&vA(e)}function xA(e,t,r){return r(function(){yA(t)&&vA(e)})}function yA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pn(e,r)}catch{return!0}}function vA(e){var t=ga(e,1);t!==null&&kn(t,e,1,-1)}function M1(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:e},t.queue=e,e=e.dispatch=W6.bind(null,lt,e),[t.memoizedState,e]}function kc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bA(){return an().memoizedState}function Iu(e,t,r,n){var s=In();lt.flags|=e,s.memoizedState=kc(1|t,r,void 0,n===void 0?null:n)}function Wh(e,t,r,n){var s=an();n=n===void 0?null:n;var i=void 0;if(St!==null){var o=St.memoizedState;if(i=o.destroy,n!==null&&lv(n,o.deps)){s.memoizedState=kc(t,r,i,n);return}}lt.flags|=e,s.memoizedState=kc(1|t,r,i,n)}function I1(e,t){return Iu(8390656,8,e,t)}function uv(e,t){return Wh(2048,8,e,t)}function jA(e,t){return Wh(4,2,e,t)}function wA(e,t){return Wh(4,4,e,t)}function NA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kA(e,t,r){return r=r!=null?r.concat([e]):null,Wh(4,4,NA.bind(null,t,e),r)}function fv(){}function SA(e,t){var r=an();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function PA(e,t){var r=an();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function OA(e,t,r){return Ks&21?(Pn(r,t)||(r=EO(),lt.lanes|=r,Gs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=r)}function U6(e,t){var r=De;De=r!==0&&4>r?r:4,e(!0);var n=Tp.transition;Tp.transition={};try{e(!1),t()}finally{De=r,Tp.transition=n}}function AA(){return an().memoizedState}function V6(e,t,r){var n=Ya(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},TA(e))CA(t,r);else if(r=dA(e,t,r,n),r!==null){var s=sr();kn(r,e,n,s),_A(r,t,n)}}function W6(e,t,r){var n=Ya(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(TA(e))CA(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Pn(l,o)){var c=t.interleaved;c===null?(s.next=s,nv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=dA(e,t,s,n),r!==null&&(s=sr(),kn(r,e,n,s),_A(r,t,n))}}function TA(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function CA(e,t){Gl=pf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _A(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vy(e,r)}}var gf={readContext:nn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},H6={readContext:nn,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:I1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Iu(4194308,4,NA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Iu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Iu(4,2,e,t)},useMemo:function(e,t){var r=In();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=In();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=V6.bind(null,lt,e),[n.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:M1,useDebugValue:fv,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=M1(!1),t=e[0];return e=U6.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lt,s=In();if(et){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),Mt===null)throw Error(Q(349));Ks&30||pA(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,I1(xA.bind(null,n,i,e),[e]),n.flags|=2048,kc(9,gA.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=In(),t=Mt.identifierPrefix;if(et){var r=ia,n=sa;r=(n&~(1<<32-Nn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=z6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q6={readContext:nn,useCallback:SA,useContext:nn,useEffect:uv,useImperativeHandle:kA,useInsertionEffect:jA,useLayoutEffect:wA,useMemo:PA,useReducer:Cp,useRef:bA,useState:function(){return Cp(Nc)},useDebugValue:fv,useDeferredValue:function(e){var t=an();return OA(t,St.memoizedState,e)},useTransition:function(){var e=Cp(Nc)[0],t=an().memoizedState;return[e,t]},useMutableSource:hA,useSyncExternalStore:mA,useId:AA,unstable_isNewReconciler:!1},K6={readContext:nn,useCallback:SA,useContext:nn,useEffect:uv,useImperativeHandle:kA,useInsertionEffect:jA,useLayoutEffect:wA,useMemo:PA,useReducer:_p,useRef:bA,useState:function(){return _p(Nc)},useDebugValue:fv,useDeferredValue:function(e){var t=an();return St===null?t.memoizedState=e:OA(t,St.memoizedState,e)},useTransition:function(){var e=_p(Nc)[0],t=an().memoizedState;return[e,t]},useMutableSource:hA,useSyncExternalStore:mA,useId:AA,unstable_isNewReconciler:!1};function xn(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function l0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ct({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hh={isMounted:function(e){return(e=e._reactInternals)?oi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sr(),s=Ya(e),i=da(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ga(e,i,s),t!==null&&(kn(t,e,s,n),Du(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sr(),s=Ya(e),i=da(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ga(e,i,s),t!==null&&(kn(t,e,s,n),Du(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sr(),n=Ya(e),s=da(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ga(e,s,n),t!==null&&(kn(t,e,n,r),Du(t,e,n))}};function R1(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!gc(r,n)||!gc(s,i):!0}function EA(e,t,r){var n=!1,s=ts,i=t.contextType;return typeof i=="object"&&i!==null?i=nn(i):(s=xr(t)?Hs:Jt.current,n=t.contextTypes,i=(n=n!=null)?to(e,s):ts),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function L1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hh.enqueueReplaceState(t,t.state,null)}function c0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},av(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nn(i):(i=xr(t)?Hs:Jt.current,s.context=to(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(l0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hh.enqueueReplaceState(s,s.state,null),hf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function so(e,t){try{var r="",n=t;do r+=jD(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ep(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function d0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var G6=typeof WeakMap=="function"?WeakMap:Map;function $A(e,t,r){r=da(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yf||(yf=!0,b0=n),d0(e,t)},r}function DA(e,t,r){r=da(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){d0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){d0(e,t),typeof n!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function F1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new G6;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=lM.bind(null,e,t,r),t.then(e,e))}function B1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function z1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=da(-1,1),t.tag=2,Ga(r,t,1))),r.lanes|=1),e)}var X6=ka.ReactCurrentOwner,hr=!1;function er(e,t,r,n){t.child=e===null?cA(t,null,r,n):no(t,e.child,r,n)}function U1(e,t,r,n,s){r=r.render;var i=t.ref;return Gi(t,s),n=cv(e,t,r,n,i,s),r=dv(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xa(e,t,s)):(et&&r&&Qy(t),t.flags|=1,er(e,t,n,s),t.child)}function V1(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!bv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,MA(e,t,i,n,s)):(e=Bu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gc,r(o,n)&&e.ref===t.ref)return xa(e,t,s)}return t.flags|=1,e=Qa(i,n),e.ref=t.ref,e.return=t,t.child=e}function MA(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(gc(i,n)&&e.ref===t.ref)if(hr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,xa(e,t,s)}return u0(e,t,r,n,s)}function IA(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ei,Ar),Ar|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(Ei,Ar),Ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,He(Ei,Ar),Ar|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,He(Ei,Ar),Ar|=n;return er(e,t,s,r),t.child}function RA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function u0(e,t,r,n,s){var i=xr(r)?Hs:Jt.current;return i=to(t,i),Gi(t,s),r=cv(e,t,r,n,i,s),n=dv(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xa(e,t,s)):(et&&n&&Qy(t),t.flags|=1,er(e,t,r,s),t.child)}function W1(e,t,r,n,s){if(xr(r)){var i=!0;lf(t)}else i=!1;if(Gi(t,s),t.stateNode===null)Ru(e,t),EA(t,r,n),c0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=nn(d):(d=xr(r)?Hs:Jt.current,d=to(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&L1(t,o,n,d),Da=!1;var h=t.memoizedState;o.state=h,hf(t,n,o,s),c=t.memoizedState,l!==n||h!==c||gr.current||Da?(typeof u=="function"&&(l0(t,r,u,n),c=t.memoizedState),(l=Da||R1(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,uA(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:xn(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=nn(c):(c=xr(r)?Hs:Jt.current,c=to(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&L1(t,o,n,c),Da=!1,h=t.memoizedState,o.state=h,hf(t,n,o,s);var m=t.memoizedState;l!==f||h!==m||gr.current||Da?(typeof p=="function"&&(l0(t,r,p,n),m=t.memoizedState),(d=Da||R1(t,r,d,n,h,m,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return f0(e,t,r,n,i,s)}function f0(e,t,r,n,s,i){RA(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&T1(t,r,!1),xa(e,t,i);n=t.stateNode,X6.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=no(t,e.child,null,i),t.child=no(t,null,l,i)):er(e,t,l,i),t.memoizedState=n.state,s&&T1(t,r,!0),t.child}function LA(e){var t=e.stateNode;t.pendingContext?A1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&A1(e,t.context,!1),sv(e,t.containerInfo)}function H1(e,t,r,n,s){return ro(),Jy(s),t.flags|=256,er(e,t,r,n),t.child}var h0={dehydrated:null,treeContext:null,retryLane:0};function m0(e){return{baseLanes:e,cachePool:null,transitions:null}}function FA(e,t,r){var n=t.pendingProps,s=st.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),He(st,s&1),e===null)return i0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gh(o,n,0,null),e=Fs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=m0(r),t.memoizedState=h0,e):hv(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Y6(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Qa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qa(l,i):(i=Fs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?m0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=h0,n}return i=e.child,e=i.sibling,n=Qa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hv(e,t){return t=Gh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function au(e,t,r,n){return n!==null&&Jy(n),no(t,e.child,null,r),e=hv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y6(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ep(Error(Q(422))),au(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Gh({mode:"visible",children:n.children},s,0,null),i=Fs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&no(t,e.child,null,o),t.child.memoizedState=m0(o),t.memoizedState=h0,i);if(!(t.mode&1))return au(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Q(419)),n=Ep(i,n,void 0),au(e,t,o,n)}if(l=(o&e.childLanes)!==0,hr||l){if(n=Mt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ga(e,s),kn(n,e,s,-1))}return vv(),n=Ep(Error(Q(421))),au(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cM.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Er=Ka(s.nextSibling),$r=t,et=!0,jn=null,e!==null&&(qr[Kr++]=sa,qr[Kr++]=ia,qr[Kr++]=qs,sa=e.id,ia=e.overflow,qs=t),t=hv(t,n.children),t.flags|=4096,t)}function q1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),o0(e.return,t,r)}function $p(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function BA(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(er(e,t,n.children,r),n=st.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q1(e,r,t);else if(e.tag===19)q1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(st,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$p(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$p(t,!0,r,null,i);break;case"together":$p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ru(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=Qa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Q6(e,t,r){switch(t.tag){case 3:LA(t),ro();break;case 5:fA(t);break;case 1:xr(t.type)&&lf(t);break;case 4:sv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;He(uf,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(st,st.current&1),t.flags|=128,null):r&t.child.childLanes?FA(e,t,r):(He(st,st.current&1),e=xa(e,t,r),e!==null?e.sibling:null);He(st,st.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return BA(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(st,st.current),n)break;return null;case 22:case 23:return t.lanes=0,IA(e,t,r)}return xa(e,t,r)}var zA,p0,UA,VA;zA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};p0=function(){};UA=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ts(zn.current);var i=null;switch(r){case"input":s=Rg(e,s),n=Rg(e,n),i=[];break;case"select":s=ct({},s,{value:void 0}),n=ct({},n,{value:void 0}),i=[];break;case"textarea":s=Bg(e,s),n=Bg(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sf)}Ug(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(cc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(cc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};VA=function(e,t,r,n){r!==n&&(t.flags|=4)};function wl(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Z6(e,t,r){var n=t.pendingProps;switch(Zy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return xr(t.type)&&of(),Kt(t),null;case 3:return n=t.stateNode,ao(),Qe(gr),Qe(Jt),ov(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ru(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(N0(jn),jn=null))),p0(e,t),Kt(t),null;case 5:iv(t);var s=Ts(jc.current);if(r=t.type,e!==null&&t.stateNode!=null)UA(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return Kt(t),null}if(e=Ts(zn.current),ru(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Rn]=t,n[vc]=i,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(s=0;s<Bl.length;s++)Ge(Bl[s],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":t1(n,i),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",n);break;case"textarea":n1(n,i),Ge("invalid",n)}Ug(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&tu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&tu(n.textContent,l,e),s=["children",""+l]):cc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",n)}switch(r){case"input":Kd(n),r1(n,i,!0);break;case"textarea":Kd(n),a1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=sf)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xO(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Rn]=t,e[vc]=n,zA(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vg(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),s=n;break;case"iframe":case"object":case"embed":Ge("load",e),s=n;break;case"video":case"audio":for(s=0;s<Bl.length;s++)Ge(Bl[s],e);s=n;break;case"source":Ge("error",e),s=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),s=n;break;case"details":Ge("toggle",e),s=n;break;case"input":t1(e,n),s=Rg(e,n),Ge("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ct({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":n1(e,n),s=Bg(e,n),Ge("invalid",e);break;default:s=n}Ug(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?bO(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yO(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dc(e,c):typeof c=="number"&&dc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",e):c!=null&&Ry(e,i,c,o))}switch(r){case"input":Kd(e),r1(e,n,!1);break;case"textarea":Kd(e),a1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+es(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=sf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)VA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=Ts(jc.current),Ts(zn.current),ru(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rn]=t,(i=n.nodeValue!==r)&&(e=$r,e!==null))switch(e.tag){case 3:tu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rn]=t,t.stateNode=n}return Kt(t),null;case 13:if(Qe(st),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&Er!==null&&t.mode&1&&!(t.flags&128))oA(),ro(),t.flags|=98560,i=!1;else if(i=ru(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Rn]=t}else ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),i=!1}else jn!==null&&(N0(jn),jn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?Tt===0&&(Tt=3):vv())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return ao(),p0(e,t),e===null&&xc(t.stateNode.containerInfo),Kt(t),null;case 10:return rv(t.type._context),Kt(t),null;case 17:return xr(t.type)&&of(),Kt(t),null;case 19:if(Qe(st),i=t.memoizedState,i===null)return Kt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)wl(i,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mf(e),o!==null){for(t.flags|=128,wl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(st,st.current&1|2),t.child}e=e.sibling}i.tail!==null&&ht()>io&&(t.flags|=128,n=!0,wl(i,!1),t.lanes=4194304)}else{if(!n)if(e=mf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Kt(t),null}else 2*ht()-i.renderingStartTime>io&&r!==1073741824&&(t.flags|=128,n=!0,wl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ht(),t.sibling=null,r=st.current,He(st,n?r&1|2:r&1),t):(Kt(t),null);case 22:case 23:return yv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ar&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function J6(e,t){switch(Zy(t),t.tag){case 1:return xr(t.type)&&of(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ao(),Qe(gr),Qe(Jt),ov(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return iv(t),null;case 13:if(Qe(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(st),null;case 4:return ao(),null;case 10:return rv(t.type._context),null;case 22:case 23:return yv(),null;case 24:return null;default:return null}}var su=!1,Xt=!1,eM=typeof WeakSet=="function"?WeakSet:Set,oe=null;function _i(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ut(e,t,n)}else r.current=null}function g0(e,t,r){try{r()}catch(n){ut(e,t,n)}}var K1=!1;function tM(e,t){if(Jg=rf,e=GO(),Yy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++d===s&&(l=o),h===i&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(e0={focusedElem:e,selectionRange:r},rf=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,y=m.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:xn(t.type,x),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(w){ut(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return m=K1,K1=!1,m}function Xl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&g0(t,r,i)}s=s.next}while(s!==n)}}function qh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function x0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function WA(e){var t=e.alternate;t!==null&&(e.alternate=null,WA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[vc],delete t[n0],delete t[R6],delete t[L6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HA(e){return e.tag===5||e.tag===3||e.tag===4}function G1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function y0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sf));else if(n!==4&&(e=e.child,e!==null))for(y0(e,t,r),e=e.sibling;e!==null;)y0(e,t,r),e=e.sibling}function v0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(v0(e,t,r),e=e.sibling;e!==null;)v0(e,t,r),e=e.sibling}var Bt=null,yn=!1;function _a(e,t,r){for(r=r.child;r!==null;)qA(e,t,r),r=r.sibling}function qA(e,t,r){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Lh,r)}catch{}switch(r.tag){case 5:Xt||_i(r,t);case 6:var n=Bt,s=yn;Bt=null,_a(e,t,r),Bt=n,yn=s,Bt!==null&&(yn?(e=Bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bt.removeChild(r.stateNode));break;case 18:Bt!==null&&(yn?(e=Bt,r=r.stateNode,e.nodeType===8?Pp(e.parentNode,r):e.nodeType===1&&Pp(e,r),mc(e)):Pp(Bt,r.stateNode));break;case 4:n=Bt,s=yn,Bt=r.stateNode.containerInfo,yn=!0,_a(e,t,r),Bt=n,yn=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&g0(r,t,o),s=s.next}while(s!==n)}_a(e,t,r);break;case 1:if(!Xt&&(_i(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ut(r,t,l)}_a(e,t,r);break;case 21:_a(e,t,r);break;case 22:r.mode&1?(Xt=(n=Xt)||r.memoizedState!==null,_a(e,t,r),Xt=n):_a(e,t,r);break;default:_a(e,t,r)}}function X1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eM),t.forEach(function(n){var s=dM.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function hn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bt=l.stateNode,yn=!1;break e;case 3:Bt=l.stateNode.containerInfo,yn=!0;break e;case 4:Bt=l.stateNode.containerInfo,yn=!0;break e}l=l.return}if(Bt===null)throw Error(Q(160));qA(i,o,s),Bt=null,yn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ut(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)KA(t,e),t=t.sibling}function KA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(t,e),Dn(e),n&4){try{Xl(3,e,e.return),qh(3,e)}catch(x){ut(e,e.return,x)}try{Xl(5,e,e.return)}catch(x){ut(e,e.return,x)}}break;case 1:hn(t,e),Dn(e),n&512&&r!==null&&_i(r,r.return);break;case 5:if(hn(t,e),Dn(e),n&512&&r!==null&&_i(r,r.return),e.flags&32){var s=e.stateNode;try{dc(s,"")}catch(x){ut(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&pO(s,i),Vg(l,o);var d=Vg(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?bO(s,f):u==="dangerouslySetInnerHTML"?yO(s,f):u==="children"?dc(s,f):Ry(s,u,f,d)}switch(l){case"input":Lg(s,i);break;case"textarea":gO(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Wi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Wi(s,!!i.multiple,i.defaultValue,!0):Wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[vc]=i}catch(x){ut(e,e.return,x)}}break;case 6:if(hn(t,e),Dn(e),n&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ut(e,e.return,x)}}break;case 3:if(hn(t,e),Dn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mc(t.containerInfo)}catch(x){ut(e,e.return,x)}break;case 4:hn(t,e),Dn(e);break;case 13:hn(t,e),Dn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gv=ht())),n&4&&X1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Xt=(d=Xt)||u,hn(t,e),Xt=d):hn(t,e),Dn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(oe=e,u=e.child;u!==null;){for(f=oe=u;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xl(4,h,h.return);break;case 1:_i(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){ut(n,r,x)}}break;case 5:_i(h,h.return);break;case 22:if(h.memoizedState!==null){Q1(f);continue}}p!==null?(p.return=h,oe=p):Q1(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vO("display",o))}catch(x){ut(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){ut(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hn(t,e),Dn(e),n&4&&X1(e);break;case 21:break;default:hn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(HA(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(dc(s,""),n.flags&=-33);var i=G1(e);v0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=G1(e);y0(e,l,o);break;default:throw Error(Q(161))}}catch(c){ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rM(e,t,r){oe=e,GA(e)}function GA(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||su;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Xt;l=su;var d=Xt;if(su=o,(Xt=c)&&!d)for(oe=s;oe!==null;)o=oe,c=o.child,o.tag===22&&o.memoizedState!==null?Z1(s):c!==null?(c.return=o,oe=c):Z1(s);for(;i!==null;)oe=i,GA(i),i=i.sibling;oe=s,su=l,Xt=d}Y1(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):Y1(e)}}function Y1(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||qh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:xn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&D1(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}D1(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Xt||t.flags&512&&x0(t)}catch(h){ut(t,t.return,h)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Q1(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Z1(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qh(4,t)}catch(c){ut(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ut(t,s,c)}}var i=t.return;try{x0(t)}catch(c){ut(t,i,c)}break;case 5:var o=t.return;try{x0(t)}catch(c){ut(t,o,c)}}}catch(c){ut(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var nM=Math.ceil,xf=ka.ReactCurrentDispatcher,mv=ka.ReactCurrentOwner,Zr=ka.ReactCurrentBatchConfig,Ae=0,Mt=null,yt=null,Vt=0,Ar=0,Ei=is(0),Tt=0,Sc=null,Gs=0,Kh=0,pv=0,Yl=null,fr=null,gv=0,io=1/0,ra=null,yf=!1,b0=null,Xa=null,iu=!1,za=null,vf=0,Ql=0,j0=null,Lu=-1,Fu=0;function sr(){return Ae&6?ht():Lu!==-1?Lu:Lu=ht()}function Ya(e){return e.mode&1?Ae&2&&Vt!==0?Vt&-Vt:B6.transition!==null?(Fu===0&&(Fu=EO()),Fu):(e=De,e!==0||(e=window.event,e=e===void 0?16:FO(e.type)),e):1}function kn(e,t,r,n){if(50<Ql)throw Ql=0,j0=null,Error(Q(185));bd(e,r,n),(!(Ae&2)||e!==Mt)&&(e===Mt&&(!(Ae&2)&&(Kh|=r),Tt===4&&Ra(e,Vt)),yr(e,n),r===1&&Ae===0&&!(t.mode&1)&&(io=ht()+500,Vh&&os()))}function yr(e,t){var r=e.callbackNode;BD(e,t);var n=tf(e,e===Mt?Vt:0);if(n===0)r!==null&&o1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&o1(r),t===1)e.tag===0?F6(J1.bind(null,e)):aA(J1.bind(null,e)),M6(function(){!(Ae&6)&&os()}),r=null;else{switch($O(n)){case 1:r=Uy;break;case 4:r=CO;break;case 16:r=ef;break;case 536870912:r=_O;break;default:r=ef}r=rT(r,XA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function XA(e,t){if(Lu=-1,Fu=0,Ae&6)throw Error(Q(327));var r=e.callbackNode;if(Xi()&&e.callbackNode!==r)return null;var n=tf(e,e===Mt?Vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bf(e,n);else{t=n;var s=Ae;Ae|=2;var i=QA();(Mt!==e||Vt!==t)&&(ra=null,io=ht()+500,Ls(e,t));do try{iM();break}catch(l){YA(e,l)}while(!0);tv(),xf.current=i,Ae=s,yt!==null?t=0:(Mt=null,Vt=0,t=Tt)}if(t!==0){if(t===2&&(s=Gg(e),s!==0&&(n=s,t=w0(e,s))),t===1)throw r=Sc,Ls(e,0),Ra(e,n),yr(e,ht()),r;if(t===6)Ra(e,n);else{if(s=e.current.alternate,!(n&30)&&!aM(s)&&(t=bf(e,n),t===2&&(i=Gg(e),i!==0&&(n=i,t=w0(e,i))),t===1))throw r=Sc,Ls(e,0),Ra(e,n),yr(e,ht()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:js(e,fr,ra);break;case 3:if(Ra(e,n),(n&130023424)===n&&(t=gv+500-ht(),10<t)){if(tf(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){sr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=r0(js.bind(null,e,fr,ra),t);break}js(e,fr,ra);break;case 4:if(Ra(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Nn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nM(n/1960))-n,10<n){e.timeoutHandle=r0(js.bind(null,e,fr,ra),n);break}js(e,fr,ra);break;case 5:js(e,fr,ra);break;default:throw Error(Q(329))}}}return yr(e,ht()),e.callbackNode===r?XA.bind(null,e):null}function w0(e,t){var r=Yl;return e.current.memoizedState.isDehydrated&&(Ls(e,t).flags|=256),e=bf(e,t),e!==2&&(t=fr,fr=r,t!==null&&N0(t)),e}function N0(e){fr===null?fr=e:fr.push.apply(fr,e)}function aM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Pn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ra(e,t){for(t&=~pv,t&=~Kh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nn(t),n=1<<r;e[r]=-1,t&=~n}}function J1(e){if(Ae&6)throw Error(Q(327));Xi();var t=tf(e,0);if(!(t&1))return yr(e,ht()),null;var r=bf(e,t);if(e.tag!==0&&r===2){var n=Gg(e);n!==0&&(t=n,r=w0(e,n))}if(r===1)throw r=Sc,Ls(e,0),Ra(e,t),yr(e,ht()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,fr,ra),yr(e,ht()),null}function xv(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(io=ht()+500,Vh&&os())}}function Xs(e){za!==null&&za.tag===0&&!(Ae&6)&&Xi();var t=Ae;Ae|=1;var r=Zr.transition,n=De;try{if(Zr.transition=null,De=1,e)return e()}finally{De=n,Zr.transition=r,Ae=t,!(Ae&6)&&os()}}function yv(){Ar=Ei.current,Qe(Ei)}function Ls(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,D6(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(Zy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&of();break;case 3:ao(),Qe(gr),Qe(Jt),ov();break;case 5:iv(n);break;case 4:ao();break;case 13:Qe(st);break;case 19:Qe(st);break;case 10:rv(n.type._context);break;case 22:case 23:yv()}r=r.return}if(Mt=e,yt=e=Qa(e.current,null),Vt=Ar=t,Tt=0,Sc=null,pv=Kh=Gs=0,fr=Yl=null,As!==null){for(t=0;t<As.length;t++)if(r=As[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}As=null}return e}function YA(e,t){do{var r=yt;try{if(tv(),Mu.current=gf,pf){for(var n=lt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pf=!1}if(Ks=0,$t=St=lt=null,Gl=!1,wc=0,mv.current=null,r===null||r.return===null){Tt=1,Sc=t,yt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=B1(o);if(p!==null){p.flags&=-257,z1(p,o,l,i,t),p.mode&1&&F1(i,d,t),t=p,c=d;var m=t.updateQueue;if(m===null){var x=new Set;x.add(c),t.updateQueue=x}else m.add(c);break e}else{if(!(t&1)){F1(i,d,t),vv();break e}c=Error(Q(426))}}else if(et&&l.mode&1){var y=B1(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),z1(y,o,l,i,t),Jy(so(c,l));break e}}i=c=so(c,l),Tt!==4&&(Tt=2),Yl===null?Yl=[i]:Yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=$A(i,c,t);$1(i,g);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xa===null||!Xa.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=DA(i,l,t);$1(i,w);break e}}i=i.return}while(i!==null)}JA(r)}catch(j){t=j,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(!0)}function QA(){var e=xf.current;return xf.current=gf,e===null?gf:e}function vv(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Mt===null||!(Gs&268435455)&&!(Kh&268435455)||Ra(Mt,Vt)}function bf(e,t){var r=Ae;Ae|=2;var n=QA();(Mt!==e||Vt!==t)&&(ra=null,Ls(e,t));do try{sM();break}catch(s){YA(e,s)}while(!0);if(tv(),Ae=r,xf.current=n,yt!==null)throw Error(Q(261));return Mt=null,Vt=0,Tt}function sM(){for(;yt!==null;)ZA(yt)}function iM(){for(;yt!==null&&!_D();)ZA(yt)}function ZA(e){var t=tT(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?JA(e):yt=t,mv.current=null}function JA(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=J6(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,yt=null;return}}else if(r=Z6(r,t,Ar),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);Tt===0&&(Tt=5)}function js(e,t,r){var n=De,s=Zr.transition;try{Zr.transition=null,De=1,oM(e,t,r,n)}finally{Zr.transition=s,De=n}return null}function oM(e,t,r,n){do Xi();while(za!==null);if(Ae&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(zD(e,i),e===Mt&&(yt=Mt=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||iu||(iu=!0,rT(ef,function(){return Xi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Zr.transition,Zr.transition=null;var o=De;De=1;var l=Ae;Ae|=4,mv.current=null,tM(e,r),KA(r,e),O6(e0),rf=!!Jg,e0=Jg=null,e.current=r,rM(r),ED(),Ae=l,De=o,Zr.transition=i}else e.current=r;if(iu&&(iu=!1,za=e,vf=s),i=e.pendingLanes,i===0&&(Xa=null),MD(r.stateNode),yr(e,ht()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yf)throw yf=!1,e=b0,b0=null,e;return vf&1&&e.tag!==0&&Xi(),i=e.pendingLanes,i&1?e===j0?Ql++:(Ql=0,j0=e):Ql=0,os(),null}function Xi(){if(za!==null){var e=$O(vf),t=Zr.transition,r=De;try{if(Zr.transition=null,De=16>e?16:e,za===null)var n=!1;else{if(e=za,za=null,vf=0,Ae&6)throw Error(Q(331));var s=Ae;for(Ae|=4,oe=e.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(oe=d;oe!==null;){var u=oe;switch(u.tag){case 0:case 11:case 15:Xl(8,u,i)}var f=u.child;if(f!==null)f.return=u,oe=f;else for(;oe!==null;){u=oe;var h=u.sibling,p=u.return;if(WA(u),u===d){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var m=i.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,oe=g;break e}oe=i.return}}var v=e.current;for(oe=v;oe!==null;){o=oe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,oe=b;else e:for(o=v;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qh(9,l)}}catch(j){ut(l,l.return,j)}if(l===o){oe=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,oe=w;break e}oe=l.return}}if(Ae=s,os(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Lh,e)}catch{}n=!0}return n}finally{De=r,Zr.transition=t}}return!1}function ew(e,t,r){t=so(r,t),t=$A(e,t,1),e=Ga(e,t,1),t=sr(),e!==null&&(bd(e,1,t),yr(e,t))}function ut(e,t,r){if(e.tag===3)ew(e,e,r);else for(;t!==null;){if(t.tag===3){ew(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xa===null||!Xa.has(n))){e=so(r,e),e=DA(t,e,1),t=Ga(t,e,1),e=sr(),t!==null&&(bd(t,1,e),yr(t,e));break}}t=t.return}}function lM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&r,Mt===e&&(Vt&r)===r&&(Tt===4||Tt===3&&(Vt&130023424)===Vt&&500>ht()-gv?Ls(e,0):pv|=r),yr(e,t)}function eT(e,t){t===0&&(e.mode&1?(t=Yd,Yd<<=1,!(Yd&130023424)&&(Yd=4194304)):t=1);var r=sr();e=ga(e,t),e!==null&&(bd(e,t,r),yr(e,r))}function cM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),eT(e,r)}function dM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),eT(e,r)}var tT;tT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hr=!1,Q6(e,t,r);hr=!!(e.flags&131072)}else hr=!1,et&&t.flags&1048576&&sA(t,df,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ru(e,t),e=t.pendingProps;var s=to(t,Jt.current);Gi(t,r),s=cv(null,t,n,e,s,r);var i=dv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(n)?(i=!0,lf(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,av(t),s.updater=Hh,t.stateNode=s,s._reactInternals=t,c0(t,n,e,r),t=f0(null,t,n,!0,i,r)):(t.tag=0,et&&i&&Qy(t),er(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ru(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=fM(n),e=xn(n,e),s){case 0:t=u0(null,t,n,e,r);break e;case 1:t=W1(null,t,n,e,r);break e;case 11:t=U1(null,t,n,e,r);break e;case 14:t=V1(null,t,n,xn(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xn(n,s),u0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xn(n,s),W1(e,t,n,s,r);case 3:e:{if(LA(t),e===null)throw Error(Q(387));n=t.pendingProps,i=t.memoizedState,s=i.element,uA(e,t),hf(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=so(Error(Q(423)),t),t=H1(e,t,n,r,s);break e}else if(n!==s){s=so(Error(Q(424)),t),t=H1(e,t,n,r,s);break e}else for(Er=Ka(t.stateNode.containerInfo.firstChild),$r=t,et=!0,jn=null,r=cA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ro(),n===s){t=xa(e,t,r);break e}er(e,t,n,r)}t=t.child}return t;case 5:return fA(t),e===null&&i0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,t0(n,s)?o=null:i!==null&&t0(n,i)&&(t.flags|=32),RA(e,t),er(e,t,o,r),t.child;case 6:return e===null&&i0(t),null;case 13:return FA(e,t,r);case 4:return sv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=no(t,null,n,r):er(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xn(n,s),U1(e,t,n,s,r);case 7:return er(e,t,t.pendingProps,r),t.child;case 8:return er(e,t,t.pendingProps.children,r),t.child;case 12:return er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,He(uf,n._currentValue),n._currentValue=o,i!==null)if(Pn(i.value,o)){if(i.children===s.children&&!gr.current){t=xa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=da(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),o0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),o0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}er(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Gi(t,r),s=nn(s),n=n(s),t.flags|=1,er(e,t,n,r),t.child;case 14:return n=t.type,s=xn(n,t.pendingProps),s=xn(n.type,s),V1(e,t,n,s,r);case 15:return MA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xn(n,s),Ru(e,t),t.tag=1,xr(n)?(e=!0,lf(t)):e=!1,Gi(t,r),EA(t,n,s),c0(t,n,s,r),f0(null,t,n,!0,e,r);case 19:return BA(e,t,r);case 22:return IA(e,t,r)}throw Error(Q(156,t.tag))};function rT(e,t){return TO(e,t)}function uM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(e,t,r,n){return new uM(e,t,r,n)}function bv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fM(e){if(typeof e=="function")return bv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fy)return 11;if(e===By)return 14}return 2}function Qa(e,t){var r=e.alternate;return r===null?(r=Xr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bu(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")bv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wi:return Fs(r.children,s,i,t);case Ly:o=8,s|=8;break;case $g:return e=Xr(12,r,t,s|2),e.elementType=$g,e.lanes=i,e;case Dg:return e=Xr(13,r,t,s),e.elementType=Dg,e.lanes=i,e;case Mg:return e=Xr(19,r,t,s),e.elementType=Mg,e.lanes=i,e;case fO:return Gh(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dO:o=10;break e;case uO:o=9;break e;case Fy:o=11;break e;case By:o=14;break e;case $a:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Xr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Fs(e,t,r,n){return e=Xr(7,e,n,t),e.lanes=r,e}function Gh(e,t,r,n){return e=Xr(22,e,n,t),e.elementType=fO,e.lanes=r,e.stateNode={isHidden:!1},e}function Dp(e,t,r){return e=Xr(6,e,null,t),e.lanes=r,e}function Mp(e,t,r){return t=Xr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hM(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jv(e,t,r,n,s,i,o,l,c){return e=new hM(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},av(i),e}function mM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function nT(e){if(!e)return ts;e=e._reactInternals;e:{if(oi(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(xr(r))return nA(e,r,t)}return t}function aT(e,t,r,n,s,i,o,l,c){return e=jv(r,n,!0,e,s,i,o,l,c),e.context=nT(null),r=e.current,n=sr(),s=Ya(r),i=da(n,s),i.callback=t??null,Ga(r,i,s),e.current.lanes=s,bd(e,s,n),yr(e,n),e}function Xh(e,t,r,n){var s=t.current,i=sr(),o=Ya(s);return r=nT(r),t.context===null?t.context=r:t.pendingContext=r,t=da(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ga(s,t,o),e!==null&&(kn(e,s,o,i),Du(e,s,o)),o}function jf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wv(e,t){tw(e,t),(e=e.alternate)&&tw(e,t)}function pM(){return null}var sT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nv(e){this._internalRoot=e}Yh.prototype.render=Nv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Xh(e,t,null,null)};Yh.prototype.unmount=Nv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xs(function(){Xh(null,e,null,null)}),t[pa]=null}};function Yh(e){this._internalRoot=e}Yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=IO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ia.length&&t!==0&&t<Ia[r].priority;r++);Ia.splice(r,0,e),r===0&&LO(e)}};function kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rw(){}function gM(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=jf(o);i.call(d)}}var o=aT(t,n,e,0,null,!1,!1,"",rw);return e._reactRootContainer=o,e[pa]=o.current,xc(e.nodeType===8?e.parentNode:e),Xs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=jf(c);l.call(d)}}var c=jv(e,0,!1,null,null,!1,!1,"",rw);return e._reactRootContainer=c,e[pa]=c.current,xc(e.nodeType===8?e.parentNode:e),Xs(function(){Xh(t,c,r,n)}),c}function Zh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=jf(o);l.call(c)}}Xh(t,o,e,s)}else o=gM(r,t,e,s,n);return jf(o)}DO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fl(t.pendingLanes);r!==0&&(Vy(t,r|1),yr(t,ht()),!(Ae&6)&&(io=ht()+500,os()))}break;case 13:Xs(function(){var n=ga(e,1);if(n!==null){var s=sr();kn(n,e,1,s)}}),wv(e,1)}};Wy=function(e){if(e.tag===13){var t=ga(e,134217728);if(t!==null){var r=sr();kn(t,e,134217728,r)}wv(e,134217728)}};MO=function(e){if(e.tag===13){var t=Ya(e),r=ga(e,t);if(r!==null){var n=sr();kn(r,e,t,n)}wv(e,t)}};IO=function(){return De};RO=function(e,t){var r=De;try{return De=e,t()}finally{De=r}};Hg=function(e,t,r){switch(t){case"input":if(Lg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Uh(n);if(!s)throw Error(Q(90));mO(n),Lg(n,s)}}}break;case"textarea":gO(e,r);break;case"select":t=r.value,t!=null&&Wi(e,!!r.multiple,t,!1)}};NO=xv;kO=Xs;var xM={usingClientEntryPoint:!1,Events:[wd,Pi,Uh,jO,wO,xv]},Nl={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yM={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=OO(e),e===null?null:e.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||pM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Lh=ou.inject(yM),Bn=ou}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xM;Lr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(t))throw Error(Q(200));return mM(e,t,null,r)};Lr.createRoot=function(e,t){if(!kv(e))throw Error(Q(299));var r=!1,n="",s=sT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jv(e,1,!1,null,null,r,!1,n,s),e[pa]=t.current,xc(e.nodeType===8?e.parentNode:e),new Nv(t)};Lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=OO(t),e=e===null?null:e.stateNode,e};Lr.flushSync=function(e){return Xs(e)};Lr.hydrate=function(e,t,r){if(!Qh(t))throw Error(Q(200));return Zh(null,e,t,!0,r)};Lr.hydrateRoot=function(e,t,r){if(!kv(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=sT;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=aT(t,null,e,1,r??null,s,!1,i,o),e[pa]=t.current,xc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Yh(t)};Lr.render=function(e,t,r){if(!Qh(t))throw Error(Q(200));return Zh(null,e,t,!1,r)};Lr.unmountComponentAtNode=function(e){if(!Qh(e))throw Error(Q(40));return e._reactRootContainer?(Xs(function(){Zh(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0):!1};Lr.unstable_batchedUpdates=xv;Lr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qh(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Zh(e,t,r,!1,n)};Lr.version="18.3.1-next-f1338f8080-20240426";function iT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iT)}catch(e){console.error(e)}}iT(),iO.exports=Lr;var vM=iO.exports,nw=vM;_g.createRoot=nw.createRoot,_g.hydrateRoot=nw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}var Ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ua||(Ua={}));const aw="popstate";function bM(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return k0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:wf(s)}return wM(t,r,null,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jM(){return Math.random().toString(36).substr(2,8)}function sw(e,t){return{usr:e.state,key:e.key,idx:t}}function k0(e,t,r,n){return r===void 0&&(r=null),Pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wo(t):t,{state:r,key:t&&t.key||n||jM()})}function wf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function wM(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ua.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Pc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Ua.Pop;let y=u(),g=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:g})}function h(y,g){l=Ua.Push;let v=k0(x.location,y,g);d=u()+1;let b=sw(v,d),w=x.createHref(v);try{o.pushState(b,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(w)}i&&c&&c({action:l,location:x.location,delta:1})}function p(y,g){l=Ua.Replace;let v=k0(x.location,y,g);d=u();let b=sw(v,d),w=x.createHref(v);o.replaceState(b,"",w),i&&c&&c({action:l,location:x.location,delta:0})}function m(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:wf(y);return v=v.replace(/ $/,"%20"),mt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let x={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(aw,f),c=y,()=>{s.removeEventListener(aw,f),c=null}},createHref(y){return t(s,y)},createURL:m,encodeLocation(y){let g=m(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return o.go(y)}};return x}var iw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iw||(iw={}));function NM(e,t,r){return r===void 0&&(r="/"),kM(e,t,r)}function kM(e,t,r,n){let s=typeof t=="string"?Wo(t):t,i=Pv(s.pathname||"/",r);if(i==null)return null;let o=oT(e);SM(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=RM(i);l=DM(o[c],d)}return l}function oT(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(mt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Za([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(mt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),oT(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:EM(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of lT(i.path))s(i,o,c)}),t}function lT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=lT(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function SM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$M(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const PM=/^:[\w-]+$/,OM=3,AM=2,TM=1,CM=10,_M=-2,ow=e=>e==="*";function EM(e,t){let r=e.split("/"),n=r.length;return r.some(ow)&&(n+=_M),t&&(n+=AM),r.filter(s=>!ow(s)).reduce((s,i)=>s+(PM.test(i)?OM:i===""?TM:CM),n)}function $M(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function DM(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=MM({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Za([i,f.pathname]),pathnameBase:UM(Za([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Za([i,f.pathnameBase]))}return o}function MM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=IM(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const m=l[f];return p&&!m?d[h]=void 0:d[h]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function IM(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Sv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function RM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const LM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FM=e=>LM.test(e);function BM(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Wo(e):e,i;if(r)if(FM(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Sv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=lw(r.substring(1),"/"):i=lw(r,t)}else i=t;return{pathname:i,search:VM(n),hash:WM(s)}}function lw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ip(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ov(e,t){let r=zM(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Av(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Wo(e):(s=Pc({},e),mt(!s.pathname||!s.pathname.includes("?"),Ip("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Ip("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Ip("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=BM(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Za=e=>e.join("/").replace(/\/\/+/g,"/"),UM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cT=["post","put","patch","delete"];new Set(cT);const qM=["get",...cT];new Set(qM);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}const Tv=N.createContext(null),KM=N.createContext(null),ls=N.createContext(null),Jh=N.createContext(null),Xn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),dT=N.createContext(null);function GM(e,t){let{relative:r}=t===void 0?{}:t;Ho()||mt(!1);let{basename:n,navigator:s}=N.useContext(ls),{hash:i,pathname:o,search:l}=fT(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Za([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Ho(){return N.useContext(Jh)!=null}function ln(){return Ho()||mt(!1),N.useContext(Jh).location}function uT(e){N.useContext(ls).static||N.useLayoutEffect(e)}function Se(){let{isDataRoute:e}=N.useContext(Xn);return e?cI():XM()}function XM(){Ho()||mt(!1);let e=N.useContext(Tv),{basename:t,future:r,navigator:n}=N.useContext(ls),{matches:s}=N.useContext(Xn),{pathname:i}=ln(),o=JSON.stringify(Ov(s,r.v7_relativeSplatPath)),l=N.useRef(!1);return uT(()=>{l.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=Av(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Za([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}const YM=N.createContext(null);function QM(e){let t=N.useContext(Xn).outlet;return t&&N.createElement(YM.Provider,{value:e},t)}function On(){let{matches:e}=N.useContext(Xn),t=e[e.length-1];return t?t.params:{}}function fT(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(ls),{matches:s}=N.useContext(Xn),{pathname:i}=ln(),o=JSON.stringify(Ov(s,n.v7_relativeSplatPath));return N.useMemo(()=>Av(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function ZM(e,t){return JM(e,t)}function JM(e,t,r,n){Ho()||mt(!1);let{navigator:s}=N.useContext(ls),{matches:i}=N.useContext(Xn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ln(),u;if(t){var f;let y=typeof t=="string"?Wo(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||mt(!1),u=y}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=NM(e,{pathname:p}),x=aI(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Za([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Za([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&x?N.createElement(Jh.Provider,{value:{location:Oc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ua.Pop}},x):x}function eI(){let e=lI(),t=HM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const tI=N.createElement(eI,null);class rI extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(Xn.Provider,{value:this.props.routeContext},N.createElement(dT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nI(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(Tv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Xn.Provider,{value:t},n)}function aI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||mt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,m=!1,x=null,y=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||tI,c&&(d<0&&h===0?(dI("route-fallback"),m=!0,y=null):d===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),v=()=>{let b;return p?b=x:m?b=y:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,N.createElement(nI,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(rI,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var hT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hT||{}),mT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mT||{});function sI(e){let t=N.useContext(Tv);return t||mt(!1),t}function iI(e){let t=N.useContext(KM);return t||mt(!1),t}function oI(e){let t=N.useContext(Xn);return t||mt(!1),t}function pT(e){let t=oI(),r=t.matches[t.matches.length-1];return r.route.id||mt(!1),r.route.id}function lI(){var e;let t=N.useContext(dT),r=iI(),n=pT();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cI(){let{router:e}=sI(hT.UseNavigateStable),t=pT(mT.UseNavigateStable),r=N.useRef(!1);return uT(()=>{r.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Oc({fromRouteId:t},i)))},[e,t])}const cw={};function dI(e,t,r){cw[e]||(cw[e]=!0)}function uI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Jr(e){let{to:t,replace:r,state:n,relative:s}=e;Ho()||mt(!1);let{future:i,static:o}=N.useContext(ls),{matches:l}=N.useContext(Xn),{pathname:c}=ln(),d=Se(),u=Av(t,Ov(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:s}),[d,f,s,r,n]),null}function Cv(e){return QM(e.context)}function de(e){mt(!1)}function fI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ua.Pop,navigator:i,static:o=!1,future:l}=e;Ho()&&mt(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:i,static:o,future:Oc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Wo(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,x=N.useMemo(()=>{let y=Pv(u,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:s}},[c,u,f,h,p,m,s]);return x==null?null:N.createElement(ls.Provider,{value:d},N.createElement(Jh.Provider,{children:r,value:x}))}function hI(e){let{children:t,location:r}=e;return ZM(S0(t),r)}new Promise(()=>{});function S0(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let i=[...t,s];if(n.type===N.Fragment){r.push.apply(r,S0(n.props.children,i));return}n.type!==de&&mt(!1),!n.props.index||!n.props.children||mt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=S0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function mI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function pI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gI(e,t){return e.button===0&&(!t||t==="_self")&&!pI(e)}function O0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function xI(e,t){let r=O0(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const yI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vI="6";try{window.__reactRouterVersion=vI}catch{}const bI="startTransition",dw=lD[bI];function jI(e){let{basename:t,children:r,future:n,window:s}=e,i=N.useRef();i.current==null&&(i.current=bM({window:s,v5Compat:!0}));let o=i.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=N.useCallback(f=>{d&&dw?dw(()=>c(f)):c(f)},[c,d]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.useEffect(()=>uI(n),[n]),N.createElement(fI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const wI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=N.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=mI(t,yI),{basename:p}=N.useContext(ls),m,x=!1;if(typeof d=="string"&&NI.test(d)&&(m=d,wI))try{let b=new URL(window.location.href),w=d.startsWith("//")?new URL(b.protocol+d):new URL(d),j=Pv(w.pathname,p);w.origin===b.origin&&j!=null?d=j+w.search+w.hash:x=!0}catch{}let y=GM(d,{relative:s}),g=kI(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||g(b)}return N.createElement("a",P0({},h,{href:m||y,onClick:x||i?n:v,ref:r,target:c}))});var uw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uw||(uw={}));var fw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fw||(fw={}));function kI(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Se(),d=ln(),u=fT(e,{relative:o});return N.useCallback(f=>{if(gI(f,r)){f.preventDefault();let h=n!==void 0?n:wf(d)===wf(u);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}function em(e){let t=N.useRef(O0(e)),r=N.useRef(!1),n=ln(),s=N.useMemo(()=>xI(n.search,r.current?null:t.current),[n.search]),i=Se(),o=N.useCallback((l,c)=>{const d=O0(typeof l=="function"?l(s):l);r.current=!0,i("?"+d,c)},[i,s]);return[s,o]}let SI={data:""},PI=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||SI},OI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AI=/\/\*[^]*?\*\/|  +/g,hw=/\n+/g,La=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?La(o,i):i+"{"+La(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=La(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=La.p?La.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Jn={},gT=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+gT(e[r]);return t}return e},TI=(e,t,r,n,s)=>{let i=gT(e),o=Jn[i]||(Jn[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Jn[o]){let c=i!==e?e:(d=>{let u,f,h=[{}];for(;u=OI.exec(d.replace(AI,""));)u[4]?h.shift():u[3]?(f=u[3].replace(hw," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(hw," ").trim();return h[0]})(e);Jn[o]=La(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Jn.g?Jn.g:null;return r&&(Jn.g=Jn[o]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Jn[o],t,n,l),o},CI=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":La(l,""):l===!1?"":l}return n+s+(o??"")},"");function tm(e){let t=this||{},r=e.call?e(t.p):e;return TI(r.unshift?r.raw?CI(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,PI(t.target),t.g,t.o,t.k)}let xT,A0,T0;tm.bind({g:1});let ya=tm.bind({k:1});function _I(e,t,r,n){La.p=t,xT=e,A0=r,T0=n}function cs(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:A0&&A0()},l),r.o=/ *go\d+/.test(c),l.className=tm.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),T0&&d[0]&&T0(l),xT(d,l)}return s}}var EI=e=>typeof e=="function",Nf=(e,t)=>EI(e)?e(t):e,$I=(()=>{let e=0;return()=>(++e).toString()})(),yT=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),DI=20,_v="default",vT=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return vT(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},zu=[],bT={toasts:[],pausedAt:void 0,settings:{toastLimit:DI}},Ln={},jT=(e,t=_v)=>{Ln[t]=vT(Ln[t]||bT,e),zu.forEach(([r,n])=>{r===t&&n(Ln[t])})},wT=e=>Object.keys(Ln).forEach(t=>jT(e,t)),MI=e=>Object.keys(Ln).find(t=>Ln[t].toasts.some(r=>r.id===e)),rm=(e=_v)=>t=>{jT(t,e)},II={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},RI=(e={},t=_v)=>{let[r,n]=N.useState(Ln[t]||bT),s=N.useRef(Ln[t]);N.useEffect(()=>(s.current!==Ln[t]&&n(Ln[t]),zu.push([t,n]),()=>{let o=zu.findIndex(([l])=>l===t);o>-1&&zu.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var l,c,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||II[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...r,toasts:i}},LI=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||$I()}),kd=e=>(t,r)=>{let n=LI(t,e,r);return rm(n.toasterId||MI(n.id))({type:2,toast:n}),n.id},Pt=(e,t)=>kd("blank")(e,t);Pt.error=kd("error");Pt.success=kd("success");Pt.loading=kd("loading");Pt.custom=kd("custom");Pt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?rm(t)(r):wT(r)};Pt.dismissAll=e=>Pt.dismiss(void 0,e);Pt.remove=(e,t)=>{let r={type:4,toastId:e};t?rm(t)(r):wT(r)};Pt.removeAll=e=>Pt.remove(void 0,e);Pt.promise=(e,t,r)=>{let n=Pt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Nf(t.success,s):void 0;return i?Pt.success(i,{id:n,...r,...r==null?void 0:r.success}):Pt.dismiss(n),s}).catch(s=>{let i=t.error?Nf(t.error,s):void 0;i?Pt.error(i,{id:n,...r,...r==null?void 0:r.error}):Pt.dismiss(n)}),e};var FI=1e3,BI=(e,t="default")=>{let{toasts:r,pausedAt:n}=RI(e,t),s=N.useRef(new Map).current,i=N.useCallback((f,h=FI)=>{if(s.has(f))return;let p=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},h);s.set(f,p)},[]);N.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(m<0){p.visible&&Pt.dismiss(p.id);return}return setTimeout(()=>Pt.dismiss(p.id,t),m)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[r,n,t]);let o=N.useCallback(rm(t),[t]),l=N.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=N.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),d=N.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),u=N.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:x}=h||{},y=r.filter(b=>(b.position||x)===(f.position||x)&&b.height),g=y.findIndex(b=>b.id===f.id),v=y.filter((b,w)=>w<g&&b.visible).length;return y.filter(b=>b.visible).slice(...p?[v+1]:[0,v]).reduce((b,w)=>b+(w.height||0)+m,0)},[r]);return N.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},zI=ya`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,UI=ya`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VI=ya`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WI=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${UI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${VI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HI=ya`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qI=cs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${HI} 1s linear infinite;
`,KI=ya`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GI=ya`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XI=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,YI=cs("div")`
  position: absolute;
`,QI=cs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZI=ya`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JI=cs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,e5=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(JI,null,t):t:r==="blank"?null:N.createElement(QI,null,N.createElement(qI,{...n}),r!=="loading"&&N.createElement(YI,null,r==="error"?N.createElement(WI,{...n}):N.createElement(XI,{...n})))},t5=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,r5=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,n5="0%{opacity:0;} 100%{opacity:1;}",a5="0%{opacity:1;} 100%{opacity:0;}",s5=cs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,i5=cs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,o5=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=yT()?[n5,a5]:[t5(r),r5(r)];return{animation:t?`${ya(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ya(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},l5=N.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?o5(e.position||t||"top-center",e.visible):{opacity:0},i=N.createElement(e5,{toast:e}),o=N.createElement(i5,{...e.ariaProps},Nf(e.message,e));return N.createElement(s5,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):N.createElement(N.Fragment,null,i,o))});_I(N.createElement);var c5=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=N.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:i,className:t,style:r},s)},d5=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},u5=tm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,lu=16,f5=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=BI(r,i);return N.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:lu,left:lu,right:lu,bottom:lu,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let f=u.position||t,h=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),p=d5(f,h);return N.createElement(c5,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?u5:"",style:p},u.type==="custom"?Nf(u.message,u):s?s(u):N.createElement(l5,{toast:u,position:f}))}))},E=Pt;function NT(e,t){return function(){return e.apply(t,arguments)}}const{toString:h5}=Object.prototype,{getPrototypeOf:Ev}=Object,{iterator:nm,toStringTag:kT}=Symbol,am=(e=>t=>{const r=h5.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),An=e=>(e=e.toLowerCase(),t=>am(t)===e),sm=e=>t=>typeof t===e,{isArray:qo}=Array,oo=sm("undefined");function Sd(e){return e!==null&&!oo(e)&&e.constructor!==null&&!oo(e.constructor)&&vr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ST=An("ArrayBuffer");function m5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ST(e.buffer),t}const p5=sm("string"),vr=sm("function"),PT=sm("number"),Pd=e=>e!==null&&typeof e=="object",g5=e=>e===!0||e===!1,Uu=e=>{if(am(e)!=="object")return!1;const t=Ev(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(kT in e)&&!(nm in e)},x5=e=>{if(!Pd(e)||Sd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},y5=An("Date"),v5=An("File"),b5=An("Blob"),j5=An("FileList"),w5=e=>Pd(e)&&vr(e.pipe),N5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||vr(e.append)&&((t=am(e))==="formdata"||t==="object"&&vr(e.toString)&&e.toString()==="[object FormData]"))},k5=An("URLSearchParams"),[S5,P5,O5,A5]=["ReadableStream","Request","Response","Headers"].map(An),T5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Od(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),qo(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Sd(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function OT(e,t){if(Sd(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,AT=e=>!oo(e)&&e!==Cs;function C0(){const{caseless:e,skipUndefined:t}=AT(this)&&this||{},r={},n=(s,i)=>{const o=e&&OT(r,i)||i;Uu(r[o])&&Uu(s)?r[o]=C0(r[o],s):Uu(s)?r[o]=C0({},s):qo(s)?r[o]=s.slice():(!t||!oo(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Od(arguments[s],n);return r}const C5=(e,t,r,{allOwnKeys:n}={})=>(Od(t,(s,i)=>{r&&vr(s)?e[i]=NT(s,r):e[i]=s},{allOwnKeys:n}),e),_5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),E5=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},$5=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Ev(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},D5=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},M5=e=>{if(!e)return null;if(qo(e))return e;let t=e.length;if(!PT(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},I5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ev(Uint8Array)),R5=(e,t)=>{const n=(e&&e[nm]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},L5=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},F5=An("HTMLFormElement"),B5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),mw=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),z5=An("RegExp"),TT=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Od(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},U5=e=>{TT(e,(t,r)=>{if(vr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(vr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},V5=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return qo(e)?n(e):n(String(e).split(t)),r},W5=()=>{},H5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function q5(e){return!!(e&&vr(e.append)&&e[kT]==="FormData"&&e[nm])}const K5=e=>{const t=new Array(10),r=(n,s)=>{if(Pd(n)){if(t.indexOf(n)>=0)return;if(Sd(n))return n;if(!("toJSON"in n)){t[s]=n;const i=qo(n)?[]:{};return Od(n,(o,l)=>{const c=r(o,s+1);!oo(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},G5=An("AsyncFunction"),X5=e=>e&&(Pd(e)||vr(e))&&vr(e.then)&&vr(e.catch),CT=((e,t)=>e?setImmediate:t?((r,n)=>(Cs.addEventListener("message",({source:s,data:i})=>{s===Cs&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Cs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",vr(Cs.postMessage)),Y5=typeof queueMicrotask<"u"?queueMicrotask.bind(Cs):typeof process<"u"&&process.nextTick||CT,Q5=e=>e!=null&&vr(e[nm]),H={isArray:qo,isArrayBuffer:ST,isBuffer:Sd,isFormData:N5,isArrayBufferView:m5,isString:p5,isNumber:PT,isBoolean:g5,isObject:Pd,isPlainObject:Uu,isEmptyObject:x5,isReadableStream:S5,isRequest:P5,isResponse:O5,isHeaders:A5,isUndefined:oo,isDate:y5,isFile:v5,isBlob:b5,isRegExp:z5,isFunction:vr,isStream:w5,isURLSearchParams:k5,isTypedArray:I5,isFileList:j5,forEach:Od,merge:C0,extend:C5,trim:T5,stripBOM:_5,inherits:E5,toFlatObject:$5,kindOf:am,kindOfTest:An,endsWith:D5,toArray:M5,forEachEntry:R5,matchAll:L5,isHTMLForm:F5,hasOwnProperty:mw,hasOwnProp:mw,reduceDescriptors:TT,freezeMethods:U5,toObjectSet:V5,toCamelCase:B5,noop:W5,toFiniteNumber:H5,findKey:OT,global:Cs,isContextDefined:AT,isSpecCompliantForm:q5,toJSONObject:K5,isAsyncFn:G5,isThenable:X5,setImmediate:CT,asap:Y5,isIterable:Q5};function je(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}H.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const _T=je.prototype,ET={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ET[e]={value:e}});Object.defineProperties(je,ET);Object.defineProperty(_T,"isAxiosError",{value:!0});je.from=(e,t,r,n,s,i)=>{const o=Object.create(_T);H.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return je.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Z5=null;function _0(e){return H.isPlainObject(e)||H.isArray(e)}function $T(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function pw(e,t,r){return e?e.concat(t).map(function(s,i){return s=$T(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function J5(e){return H.isArray(e)&&!e.some(_0)}const eR=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function im(e,t,r){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=H.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!H.isUndefined(y[x])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(H.isDate(m))return m.toISOString();if(H.isBoolean(m))return m.toString();if(!c&&H.isBlob(m))throw new je("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(m)||H.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,x,y){let g=m;if(m&&!y&&typeof m=="object"){if(H.endsWith(x,"{}"))x=n?x:x.slice(0,-2),m=JSON.stringify(m);else if(H.isArray(m)&&J5(m)||(H.isFileList(m)||H.endsWith(x,"[]"))&&(g=H.toArray(m)))return x=$T(x),g.forEach(function(b,w){!(H.isUndefined(b)||b===null)&&t.append(o===!0?pw([x],w,i):o===null?x:x+"[]",d(b))}),!1}return _0(m)?!0:(t.append(pw(y,x,i),d(m)),!1)}const f=[],h=Object.assign(eR,{defaultVisitor:u,convertValue:d,isVisitable:_0});function p(m,x){if(!H.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(m),H.forEach(m,function(g,v){(!(H.isUndefined(g)||g===null)&&s.call(t,g,H.isString(v)?v.trim():v,x,h))===!0&&p(g,x?x.concat(v):[v])}),f.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return p(e),t}function gw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function $v(e,t){this._pairs=[],e&&im(e,this,t)}const DT=$v.prototype;DT.append=function(t,r){this._pairs.push([t,r])};DT.toString=function(t){const r=t?function(n){return t.call(this,n,gw)}:gw;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function tR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function MT(e,t,r){if(!t)return e;const n=r&&r.encode||tR;H.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=H.isURLSearchParams(t)?t.toString():new $v(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class xw{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(n){n!==null&&t(n)})}}const IT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rR=typeof URLSearchParams<"u"?URLSearchParams:$v,nR=typeof FormData<"u"?FormData:null,aR=typeof Blob<"u"?Blob:null,sR={isBrowser:!0,classes:{URLSearchParams:rR,FormData:nR,Blob:aR},protocols:["http","https","file","blob","url","data"]},Dv=typeof window<"u"&&typeof document<"u",E0=typeof navigator=="object"&&navigator||void 0,iR=Dv&&(!E0||["ReactNative","NativeScript","NS"].indexOf(E0.product)<0),oR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lR=Dv&&window.location.href||"http://localhost",cR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dv,hasStandardBrowserEnv:iR,hasStandardBrowserWebWorkerEnv:oR,navigator:E0,origin:lR},Symbol.toStringTag,{value:"Module"})),Qt={...cR,...sR};function dR(e,t){return im(e,new Qt.classes.URLSearchParams,{visitor:function(r,n,s,i){return Qt.isNode&&H.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function uR(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fR(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function RT(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&H.isArray(s)?s.length:o,c?(H.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!H.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&H.isArray(s[o])&&(s[o]=fR(s[o])),!l)}if(H.isFormData(e)&&H.isFunction(e.entries)){const r={};return H.forEachEntry(e,(n,s)=>{t(uR(n),s,r,0)}),r}return null}function hR(e,t,r){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ad={transitional:IT,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=H.isObject(t);if(i&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return s?JSON.stringify(RT(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t)||H.isReadableStream(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dR(t,this.formSerializer).toString();if((l=H.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return im(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),hR(t)):t}],transformResponse:[function(t){const r=this.transitional||Ad.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(H.isResponse(t)||H.isReadableStream(t))return t;if(t&&H.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?je.from(l,je.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],e=>{Ad.headers[e]={}});const mR=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pR=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&mR[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},yw=Symbol("internals");function kl(e){return e&&String(e).trim().toLowerCase()}function Vu(e){return e===!1||e==null?e:H.isArray(e)?e.map(Vu):String(e)}function gR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const xR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rp(e,t,r,n,s){if(H.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!H.isString(t)){if(H.isString(n))return t.indexOf(n)!==-1;if(H.isRegExp(n))return n.test(t)}}function yR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function vR(e,t){const r=H.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let br=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,d){const u=kl(c);if(!u)throw new Error("header name must be a non-empty string");const f=H.findKey(s,u);(!f||s[f]===void 0||d===!0||d===void 0&&s[f]!==!1)&&(s[f||c]=Vu(l))}const o=(l,c)=>H.forEach(l,(d,u)=>i(d,u,c));if(H.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(H.isString(t)&&(t=t.trim())&&!xR(t))o(pR(t),r);else if(H.isObject(t)&&H.isIterable(t)){let l={},c,d;for(const u of t){if(!H.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?H.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=kl(t),t){const n=H.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return gR(s);if(H.isFunction(r))return r.call(this,s,n);if(H.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=kl(t),t){const n=H.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Rp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=kl(o),o){const l=H.findKey(n,o);l&&(!r||Rp(n,n[l],l,r))&&(delete n[l],s=!0)}}return H.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Rp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return H.forEach(this,(s,i)=>{const o=H.findKey(n,i);if(o){r[o]=Vu(s),delete r[i];return}const l=t?yR(i):String(i).trim();l!==i&&delete r[i],r[l]=Vu(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return H.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&H.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[yw]=this[yw]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=kl(o);n[l]||(vR(s,o),n[l]=!0)}return H.isArray(t)?t.forEach(i):i(t),this}};br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(br.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});H.freezeMethods(br);function Lp(e,t){const r=this||Ad,n=t||r,s=br.from(n.headers);let i=n.data;return H.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function LT(e){return!!(e&&e.__CANCEL__)}function Ko(e,t,r){je.call(this,e??"canceled",je.ERR_CANCELED,t,r),this.name="CanceledError"}H.inherits(Ko,je,{__CANCEL__:!0});function FT(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new je("Request failed with status code "+r.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function bR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function jR(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[s]=c,n[s]=d;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<t)return;const p=u&&d-u;return p?Math.round(h*1e3/p):void 0}}function wR(e,t){let r=0,n=1e3/t,s,i;const o=(d,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=n?o(d,u):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const kf=(e,t,r=3)=>{let n=0;const s=jR(50,250);return wR(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=s(c),u=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},vw=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},bw=e=>(...t)=>H.asap(()=>e(...t)),NR=Qt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Qt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,kR=Qt.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];H.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),H.isString(n)&&l.push(`path=${n}`),H.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),H.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function SR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function PR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function BT(e,t,r){let n=!SR(t);return e&&(n||r==!1)?PR(e,t):t}const jw=e=>e instanceof br?{...e}:e;function Ys(e,t){t=t||{};const r={};function n(d,u,f,h){return H.isPlainObject(d)&&H.isPlainObject(u)?H.merge.call({caseless:h},d,u):H.isPlainObject(u)?H.merge({},u):H.isArray(u)?u.slice():u}function s(d,u,f,h){if(H.isUndefined(u)){if(!H.isUndefined(d))return n(void 0,d,f,h)}else return n(d,u,f,h)}function i(d,u){if(!H.isUndefined(u))return n(void 0,u)}function o(d,u){if(H.isUndefined(u)){if(!H.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,f){if(f in t)return n(d,u);if(f in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>s(jw(d),jw(u),f,!0)};return H.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||s,h=f(e[u],t[u],u);H.isUndefined(h)&&f!==l||(r[u]=h)}),r}const zT=e=>{const t=Ys({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=br.from(o),t.url=MT(BT(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),H.isFormData(r)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(H.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(Qt.hasStandardBrowserEnv&&(n&&H.isFunction(n)&&(n=n(t)),n||n!==!1&&NR(t.url))){const c=s&&i&&kR.read(i);c&&o.set(s,c)}return t},OR=typeof XMLHttpRequest<"u",AR=OR&&function(e){return new Promise(function(r,n){const s=zT(e);let i=s.data;const o=br.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=s,u,f,h,p,m;function x(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function g(){if(!y)return;const b=br.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:e,request:y};FT(function(P){r(P),x()},function(P){n(P),x()},j),y=null}"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(g)},y.onabort=function(){y&&(n(new je("Request aborted",je.ECONNABORTED,e,y)),y=null)},y.onerror=function(w){const j=w&&w.message?w.message:"Network Error",k=new je(j,je.ERR_NETWORK,e,y);k.event=w||null,n(k),y=null},y.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||IT;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new je(w,j.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&H.forEach(o.toJSON(),function(w,j){y.setRequestHeader(j,w)}),H.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),d&&([h,m]=kf(d,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,p]=kf(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=b=>{y&&(n(!b||b.type?new Ko(null,e,y):b),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const v=bR(s.url);if(v&&Qt.protocols.indexOf(v)===-1){n(new je("Unsupported protocol "+v+":",je.ERR_BAD_REQUEST,e));return}y.send(i||null)})},TR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof je?u:new Ko(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new je(`timeout ${t} of ms exceeded`,je.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>H.asap(l),c}},CR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},_R=async function*(e,t){for await(const r of ER(e))yield*CR(r,t)},ER=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},ww=(e,t,r,n)=>{const s=_R(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Nw=64*1024,{isFunction:cu}=H,$R=(({Request:e,Response:t})=>({Request:e,Response:t}))(H.global),{ReadableStream:kw,TextEncoder:Sw}=H.global,Pw=(e,...t)=>{try{return!!e(...t)}catch{return!1}},DR=e=>{e=H.merge.call({skipUndefined:!0},$R,e);const{fetch:t,Request:r,Response:n}=e,s=t?cu(t):typeof fetch=="function",i=cu(r),o=cu(n);if(!s)return!1;const l=s&&cu(kw),c=s&&(typeof Sw=="function"?(m=>x=>m.encode(x))(new Sw):async m=>new Uint8Array(await new r(m).arrayBuffer())),d=i&&l&&Pw(()=>{let m=!1;const x=new r(Qt.origin,{body:new kw,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!x}),u=o&&l&&Pw(()=>H.isReadableStream(new n("").body)),f={stream:u&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(x,y)=>{let g=x&&x[m];if(g)return g.call(x);throw new je(`Response type '${m}' is not supported`,je.ERR_NOT_SUPPORT,y)})});const h=async m=>{if(m==null)return 0;if(H.isBlob(m))return m.size;if(H.isSpecCompliantForm(m))return(await new r(Qt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(H.isArrayBufferView(m)||H.isArrayBuffer(m))return m.byteLength;if(H.isURLSearchParams(m)&&(m=m+""),H.isString(m))return(await c(m)).byteLength},p=async(m,x)=>{const y=H.toFiniteNumber(m.getContentLength());return y??h(x)};return async m=>{let{url:x,method:y,data:g,signal:v,cancelToken:b,timeout:w,onDownloadProgress:j,onUploadProgress:k,responseType:P,headers:S,withCredentials:O="same-origin",fetchOptions:A}=zT(m),C=t||fetch;P=P?(P+"").toLowerCase():"text";let T=TR([v,b&&b.toAbortSignal()],w),F=null;const z=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let M;try{if(k&&d&&y!=="get"&&y!=="head"&&(M=await p(S,g))!==0){let I=new r(x,{method:"POST",body:g,duplex:"half"}),B;if(H.isFormData(g)&&(B=I.headers.get("content-type"))&&S.setContentType(B),I.body){const[q,Y]=vw(M,kf(bw(k)));g=ww(I.body,Nw,q,Y)}}H.isString(O)||(O=O?"include":"omit");const L=i&&"credentials"in r.prototype,V={...A,signal:T,method:y.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:L?O:void 0};F=i&&new r(x,V);let $=await(i?C(F,A):C(x,V));const _=u&&(P==="stream"||P==="response");if(u&&(j||_&&z)){const I={};["status","statusText","headers"].forEach(re=>{I[re]=$[re]});const B=H.toFiniteNumber($.headers.get("content-length")),[q,Y]=j&&vw(B,kf(bw(j),!0))||[];$=new n(ww($.body,Nw,q,()=>{Y&&Y(),z&&z()}),I)}P=P||"text";let U=await f[H.findKey(f,P)||"text"]($,m);return!_&&z&&z(),await new Promise((I,B)=>{FT(I,B,{data:U,headers:br.from($.headers),status:$.status,statusText:$.statusText,config:m,request:F})})}catch(L){throw z&&z(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,m,F),{cause:L.cause||L}):je.from(L,L&&L.code,m,F)}}},MR=new Map,UT=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,d,u=MR;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:DR(t)),u=d;return d};UT();const Mv={http:Z5,xhr:AR,fetch:{get:UT}};H.forEach(Mv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ow=e=>`- ${e}`,IR=e=>H.isFunction(e)||e===null||e===!1;function RR(e,t){e=H.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!IR(n)&&(s=Mv[(l=String(n)).toLowerCase()],s===void 0))throw new je(`Unknown adapter '${l}'`);if(s&&(H.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Ow).join(`
`):" "+Ow(o[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const VT={getAdapter:RR,adapters:Mv};function Fp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ko(null,e)}function Aw(e){return Fp(e),e.headers=br.from(e.headers),e.data=Lp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),VT.getAdapter(e.adapter||Ad.adapter,e)(e).then(function(n){return Fp(e),n.data=Lp.call(e,e.transformResponse,n),n.headers=br.from(n.headers),n},function(n){return LT(n)||(Fp(e),n&&n.response&&(n.response.data=Lp.call(e,e.transformResponse,n.response),n.response.headers=br.from(n.response.headers))),Promise.reject(n)})}const WT="1.13.2",om={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{om[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Tw={};om.transitional=function(t,r,n){function s(i,o){return"[Axios v"+WT+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new je(s(o," has been removed"+(r?" in "+r:"")),je.ERR_DEPRECATED);return r&&!Tw[o]&&(Tw[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};om.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function LR(e,t,r){if(typeof e!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new je("option "+i+" must be "+c,je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new je("Unknown option "+i,je.ERR_BAD_OPTION)}}const Wu={assertOptions:LR,validators:om},Mn=Wu.validators;let Bs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new xw,response:new xw}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ys(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Wu.assertOptions(n,{silentJSONParsing:Mn.transitional(Mn.boolean),forcedJSONParsing:Mn.transitional(Mn.boolean),clarifyTimeoutError:Mn.transitional(Mn.boolean)},!1),s!=null&&(H.isFunction(s)?r.paramsSerializer={serialize:s}:Wu.assertOptions(s,{encode:Mn.function,serialize:Mn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Wu.assertOptions(r,{baseUrl:Mn.spelling("baseURL"),withXsrfToken:Mn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&H.merge(i.common,i[r.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=br.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,f=0,h;if(!c){const m=[Aw.bind(this),void 0];for(m.unshift(...l),m.push(...d),h=m.length,u=Promise.resolve(r);f<h;)u=u.then(m[f++],m[f++]);return u}h=l.length;let p=r;for(;f<h;){const m=l[f++],x=l[f++];try{p=m(p)}catch(y){x.call(this,y);break}}try{u=Aw.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Ys(this.defaults,t);const r=BT(t.baseURL,t.url,t.allowAbsoluteUrls);return MT(r,t.params,t.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(t){Bs.prototype[t]=function(r,n){return this.request(Ys(n||{},{method:t,url:r,data:(n||{}).data}))}});H.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Ys(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Bs.prototype[t]=r(),Bs.prototype[t+"Form"]=r(!0)});let FR=class HT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Ko(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new HT(function(s){t=s}),cancel:t}}};function BR(e){return function(r){return e.apply(null,r)}}function zR(e){return H.isObject(e)&&e.isAxiosError===!0}const $0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries($0).forEach(([e,t])=>{$0[t]=e});function qT(e){const t=new Bs(e),r=NT(Bs.prototype.request,t);return H.extend(r,Bs.prototype,t,{allOwnKeys:!0}),H.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return qT(Ys(e,s))},r}const Ze=qT(Ad);Ze.Axios=Bs;Ze.CanceledError=Ko;Ze.CancelToken=FR;Ze.isCancel=LT;Ze.VERSION=WT;Ze.toFormData=im;Ze.AxiosError=je;Ze.Cancel=Ze.CanceledError;Ze.all=function(t){return Promise.all(t)};Ze.spread=BR;Ze.isAxiosError=zR;Ze.mergeConfig=Ys;Ze.AxiosHeaders=br;Ze.formToJSON=e=>RT(H.isHTMLForm(e)?new FormData(e):e);Ze.getAdapter=VT.getAdapter;Ze.HttpStatusCode=$0;Ze.default=Ze;const{Axios:cge,AxiosError:dge,CanceledError:uge,isCancel:fge,CancelToken:hge,VERSION:mge,all:pge,Cancel:gge,isAxiosError:xge,spread:yge,toFormData:vge,AxiosHeaders:bge,HttpStatusCode:jge,formToJSON:wge,getAdapter:Nge,mergeConfig:kge}=Ze,UR="",Iv=`${UR.replace(/\/$/,"")}/api`,W=Ze.create({baseURL:Iv,headers:{"Content-Type":"application/json"}});W.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));W.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const KT=N.createContext(),cn=()=>{const e=N.useContext(KT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},VR=({children:e})=>{const[t,r]=N.useState(null),[n,s]=N.useState(!0);N.useEffect(()=>{localStorage.getItem("token")?i():s(!1)},[]);const i=async()=>{var c,d;try{const u=await W.get("/auth/me");r(u.data.user)}catch(u){((c=u.response)==null?void 0:c.status)===401||((d=u.response)==null?void 0:d.status)===403?(localStorage.removeItem("token"),r(null)):(u.code==="ECONNREFUSED"||u.code==="ERR_NETWORK"||!u.response)&&(console.warn("Backend not available, keeping token for retry"),localStorage.getItem("token")||r(null))}finally{s(!1)}},o=async(c,d)=>{var u,f;try{const h=await W.post("/auth/login",{email:c,password:d}),{token:p,user:m}=h.data;return localStorage.setItem("token",p),axios.defaults.headers.common.Authorization=`Bearer ${p}`,r(m),E.success("   "),{success:!0,user:m}}catch(h){const p=((f=(u=h.response)==null?void 0:u.data)==null?void 0:f.message)||"  ";return E.error(p),{success:!1,message:p}}},l=()=>{localStorage.removeItem("token"),r(null),E.success("  "),window.location.href="/login"};return a.jsx(KT.Provider,{value:{user:t,loading:n,login:o,logout:l},children:e})},GT=N.createContext(),Go=()=>{const e=N.useContext(GT);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},WR=({children:e})=>{const[t,r]=N.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":!1});N.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(!t)};return a.jsx(GT.Provider,{value:{isDark:t,toggleTheme:n},children:e})},Ve=Ze.create({baseURL:`${Iv}/client`,headers:{"Content-Type":"application/json"}});Ve.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ve.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&localStorage.removeItem("token"),Promise.reject(e)});const XT=N.createContext(),Xo=()=>{const e=N.useContext(XT);if(!e)throw new Error("useClientAuth must be used within ClientAuthProvider");return e},HR=({children:e})=>{const[t,r]=N.useState(null),[n,s]=N.useState(!0);Se();const i=ln();N.useEffect(()=>{if(i.pathname.startsWith("/pos")||i.pathname.startsWith("/admin")){s(!1);return}o()},[i.pathname]);const o=async()=>{const f=localStorage.getItem("token");if(f)try{Ve.defaults.headers.common.Authorization=`Bearer ${f}`,Ze.defaults.headers.common.Authorization=`Bearer ${f}`;const p=(await Ve.get("/auth/me")).data.user||{},m=p.role||"client";["cashier","store_cashier","saler","admin","commercial"].includes(m)?r(null):r({...p,role:m})}catch{r(null)}else r(null);s(!1)},u={user:t,loading:n,login:async(f,h)=>{var p,m;try{const x=await Ve.post("/auth/login",{email:f,password:h}),{token:y,user:g}=x.data;localStorage.setItem("token",y),Ve.defaults.headers.common.Authorization=`Bearer ${y}`,Ze.defaults.headers.common.Authorization=`Bearer ${y}`,r({...g||{},role:(g==null?void 0:g.role)||"client"});try{const b=(await Ve.get("/auth/me")).data.user||{};r({...b,role:b.role||"client"})}catch{}return E.success("   "),{success:!0,user:g}}catch(x){const y=((m=(p=x.response)==null?void 0:p.data)==null?void 0:m.message)||"  ";return E.error(y),{success:!1,message:y}}},logout:()=>{localStorage.removeItem("token"),delete Ve.defaults.headers.common.Authorization,delete Ze.defaults.headers.common.Authorization,r(null),E.success("  "),window.location.href="/login"},updateProfile:async f=>{var h,p;try{const m=await Ve.put("/auth/profile",f);return r(m.data.user),E.success("   "),{success:!0}}catch(m){const x=((p=(h=m.response)==null?void 0:h.data)==null?void 0:p.message)||"   ";return E.error(x),{success:!1,message:x}}},isAuthenticated:!!t};return a.jsx(XT.Provider,{value:u,children:e})},YT=N.createContext(),ds=()=>{const e=N.useContext(YT);if(!e)throw new Error("useCart must be used within CartProvider");return e},qR=({children:e})=>{const[t,r]=N.useState([]),[n,s]=N.useState(null);N.useEffect(()=>{const h=localStorage.getItem("cart");if(h)try{r(JSON.parse(h))}catch{}},[]),N.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const i=N.useCallback((h,p=!0)=>{r(m=>{var w,j;const x=(k,P)=>!k&&!P?!0:!k||!P?!1:k.value===P.value||k.name===P.name&&k.value===P.value,y=m.find(k=>k.productId!==h.productId||k.productType!==h.productType?!1:h.productType==="special"?JSON.stringify(k.selectedOptions)===JSON.stringify(h.selectedOptions):h.productType==="regular"?x(k.variant,h.variant):!0);if(y){const k=((w=h.variant)==null?void 0:w.stock)!==void 0?h.variant.stock:h.stock,P=y.quantity+(h.quantity||1);if(h.productType==="regular"&&k!==void 0&&P>k){if(k===0)return m;const O=k;return m.map(C=>C.productId!==h.productId||C.productType!==h.productType?C:h.productType==="regular"&&x(C.variant,h.variant)?{...C,quantity:O}:C)}const S=m.map(O=>{if(O.productId!==h.productId||O.productType!==h.productType)return O;if(h.productType==="special"){if(JSON.stringify(O.selectedOptions)===JSON.stringify(h.selectedOptions))return{...O,quantity:O.quantity+(h.quantity||1)}}else if(h.productType==="regular"){if(x(O.variant,h.variant))return{...O,quantity:O.quantity+(h.quantity||1)}}else return{...O,quantity:O.quantity+(h.quantity||1)};return O});return p&&(s({...h,action:"updated"}),setTimeout(()=>s(null),500)),S}const g=((j=h.variant)==null?void 0:j.stock)!==void 0?h.variant.stock:h.stock,v=h.quantity||1;if(h.productType==="regular"&&g!==void 0){if(g<=0)return m;if(v>g){const k={...h,quantity:g},P=[...m,k];return p&&(s({...k,action:"added"}),setTimeout(()=>s(null),500)),P}}const b=[...m,{...h,quantity:v}];return p&&(s({...h,action:"added"}),setTimeout(()=>s(null),500)),b})},[]),o=N.useCallback(h=>{r(p=>p.filter((m,x)=>x!==h))},[]),l=N.useCallback((h,p)=>{if(p<=0){o(h);return}r(m=>{var g;const x=m[h];if(!x)return m;const y=((g=x.variant)==null?void 0:g.stock)!==void 0?x.variant.stock:x.stock;return x.productType==="regular"&&y!==void 0&&p>y?m.map((v,b)=>b===h?{...v,quantity:y}:v):m.map((v,b)=>b===h?{...v,quantity:p}:v)})},[o]),c=N.useCallback(()=>{r([])},[]),d=N.useCallback(()=>t.reduce((h,p)=>h+p.price*p.quantity,0),[t]),u=N.useCallback(()=>t.reduce((h,p)=>h+p.quantity,0),[t]),f={cartItems:t,addToCart:i,removeFromCart:o,updateQuantity:l,clearCart:c,getCartTotal:d,getCartItemsCount:u,lastAddedItem:n};return a.jsx(YT.Provider,{value:f,children:e})},Rv=N.createContext({});function Lv(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Fv=typeof window<"u",QT=Fv?N.useLayoutEffect:N.useEffect,lm=N.createContext(null);function Bv(e,t){e.indexOf(t)===-1&&e.push(t)}function zv(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const va=(e,t,r)=>r>t?t:r<e?e:r;let Uv=()=>{};const ba={},ZT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function JT(e){return typeof e=="object"&&e!==null}const e4=e=>/^0[^.\s]+$/u.test(e);function Vv(e){let t;return()=>(t===void 0&&(t=e()),t)}const en=e=>e,KR=(e,t)=>r=>t(e(r)),Td=(...e)=>e.reduce(KR),Ac=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Wv{constructor(){this.subscriptions=[]}add(t){return Bv(this.subscriptions,t),()=>zv(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Un=e=>e*1e3,Yr=e=>e/1e3;function t4(e,t){return t?e*(1e3/t):0}const r4=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,GR=1e-7,XR=12;function YR(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=r4(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>GR&&++l<XR);return o}function Cd(e,t,r,n){if(e===t&&r===n)return en;const s=i=>YR(i,0,1,e,r);return i=>i===0||i===1?i:r4(s(i),t,n)}const n4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,a4=e=>t=>1-e(1-t),s4=Cd(.33,1.53,.69,.99),Hv=a4(s4),i4=n4(Hv),o4=e=>(e*=2)<1?.5*Hv(e):.5*(2-Math.pow(2,-10*(e-1))),qv=e=>1-Math.sin(Math.acos(e)),l4=a4(qv),c4=n4(qv),QR=Cd(.42,0,1,1),ZR=Cd(0,0,.58,1),d4=Cd(.42,0,.58,1),JR=e=>Array.isArray(e)&&typeof e[0]!="number",u4=e=>Array.isArray(e)&&typeof e[0]=="number",eL={linear:en,easeIn:QR,easeInOut:d4,easeOut:ZR,circIn:qv,circInOut:c4,circOut:l4,backIn:Hv,backInOut:i4,backOut:s4,anticipate:o4},tL=e=>typeof e=="string",Cw=e=>{if(u4(e)){Uv(e.length===4);const[t,r,n,s]=e;return Cd(t,r,n,s)}else if(tL(e))return eL[e];return e},du=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rL(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,f=!1,h=!1)=>{const m=h&&s?r:n;return f&&o.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,d.process(u))}};return d}const nL=40;function f4(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=du.reduce((b,w)=>(b[w]=rL(i),b),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:h,render:p,postRender:m}=o,x=()=>{const b=ba.useManualTiming?s.timestamp:performance.now();r=!1,ba.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,nL),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),u.process(s),f.process(s),h.process(s),p.process(s),m.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(x))},y=()=>{r=!0,n=!0,s.isProcessing||e(x)};return{schedule:du.reduce((b,w)=>{const j=o[w];return b[w]=(k,P=!1,S=!1)=>(r||y(),j.schedule(k,P,S)),b},{}),cancel:b=>{for(let w=0;w<du.length;w++)o[du[w]].cancel(b)},state:s,steps:o}}const{schedule:tt,cancel:rs,state:zt,steps:Bp}=f4(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0);let Hu;function aL(){Hu=void 0}const mr={now:()=>(Hu===void 0&&mr.set(zt.isProcessing||ba.useManualTiming?zt.timestamp:performance.now()),Hu),set:e=>{Hu=e,queueMicrotask(aL)}},h4=e=>t=>typeof t=="string"&&t.startsWith(e),Kv=h4("--"),sL=h4("var(--"),Gv=e=>sL(e)?iL.test(e.split("/*")[0].trim()):!1,iL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Tc={...Yo,transform:e=>va(0,1,e)},uu={...Yo,default:1},Zl=e=>Math.round(e*1e5)/1e5,Xv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oL(e){return e==null}const lL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yv=(e,t)=>r=>!!(typeof r=="string"&&lL.test(r)&&r.startsWith(e)||t&&!oL(r)&&Object.prototype.hasOwnProperty.call(r,t)),m4=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(Xv);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},cL=e=>va(0,255,e),zp={...Yo,transform:e=>Math.round(cL(e))},_s={test:Yv("rgb","red"),parse:m4("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+zp.transform(e)+", "+zp.transform(t)+", "+zp.transform(r)+", "+Zl(Tc.transform(n))+")"};function dL(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const D0={test:Yv("#"),parse:dL,transform:_s.transform},_d=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ea=_d("deg"),Vn=_d("%"),pe=_d("px"),uL=_d("vh"),fL=_d("vw"),_w={...Vn,parse:e=>Vn.parse(e)/100,transform:e=>Vn.transform(e*100)},$i={test:Yv("hsl","hue"),parse:m4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Vn.transform(Zl(t))+", "+Vn.transform(Zl(r))+", "+Zl(Tc.transform(n))+")"},xt={test:e=>_s.test(e)||D0.test(e)||$i.test(e),parse:e=>_s.test(e)?_s.parse(e):$i.test(e)?$i.parse(e):D0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_s.transform(e):$i.transform(e),getAnimatableNone:e=>{const t=xt.parse(e);return t.alpha=0,xt.transform(t)}},hL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mL(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Xv))==null?void 0:t.length)||0)+(((r=e.match(hL))==null?void 0:r.length)||0)>0}const p4="number",g4="color",pL="var",gL="var(",Ew="${}",xL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cc(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(xL,c=>(xt.test(c)?(n.color.push(i),s.push(g4),r.push(xt.parse(c))):c.startsWith(gL)?(n.var.push(i),s.push(pL),r.push(c)):(n.number.push(i),s.push(p4),r.push(parseFloat(c))),++i,Ew)).split(Ew);return{values:r,split:l,indexes:n,types:s}}function x4(e){return Cc(e).values}function y4(e){const{split:t,types:r}=Cc(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===p4?i+=Zl(s[o]):l===g4?i+=xt.transform(s[o]):i+=s[o]}return i}}const yL=e=>typeof e=="number"?0:xt.test(e)?xt.getAnimatableNone(e):e;function vL(e){const t=x4(e);return y4(e)(t.map(yL))}const ns={test:mL,parse:x4,createTransformer:y4,getAnimatableNone:vL};function Up(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function bL({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Up(c,l,e+1/3),i=Up(c,l,e),o=Up(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Sf(e,t){return r=>r>0?t:e}const ot=(e,t,r)=>e+(t-e)*r,Vp=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},jL=[D0,_s,$i],wL=e=>jL.find(t=>t.test(e));function $w(e){const t=wL(e);if(!t)return!1;let r=t.parse(e);return t===$i&&(r=bL(r)),r}const Dw=(e,t)=>{const r=$w(e),n=$w(t);if(!r||!n)return Sf(e,t);const s={...r};return i=>(s.red=Vp(r.red,n.red,i),s.green=Vp(r.green,n.green,i),s.blue=Vp(r.blue,n.blue,i),s.alpha=ot(r.alpha,n.alpha,i),_s.transform(s))},M0=new Set(["none","hidden"]);function NL(e,t){return M0.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function kL(e,t){return r=>ot(e,t,r)}function Qv(e){return typeof e=="number"?kL:typeof e=="string"?Gv(e)?Sf:xt.test(e)?Dw:OL:Array.isArray(e)?v4:typeof e=="object"?xt.test(e)?Dw:SL:Sf}function v4(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>Qv(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function SL(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Qv(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function PL(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],l=e.values[o]??0;r[s]=l,n[i]++}return r}const OL=(e,t)=>{const r=ns.createTransformer(t),n=Cc(e),s=Cc(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?M0.has(e)&&!s.values.length||M0.has(t)&&!n.values.length?NL(e,t):Td(v4(PL(n,s),s.values),r):Sf(e,t)};function b4(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ot(e,t,r):Qv(e)(e,t)}const AL=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>tt.update(t,r),stop:()=>rs(t),now:()=>zt.isProcessing?zt.timestamp:mr.now()}},j4=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Pf=2e4;function Zv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Pf;)t+=r,n=e.next(t);return t>=Pf?1/0:t}function TL(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(Zv(n),Pf);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Yr(s)}}const CL=5;function w4(e,t,r){const n=Math.max(t-CL,0);return t4(r-e(n),t-n)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wp=.001;function _L({duration:e=dt.duration,bounce:t=dt.bounce,velocity:r=dt.velocity,mass:n=dt.mass}){let s,i,o=1-t;o=va(dt.minDamping,dt.maxDamping,o),e=va(dt.minDuration,dt.maxDuration,Yr(e)),o<1?(s=d=>{const u=d*o,f=u*e,h=u-r,p=I0(d,o),m=Math.exp(-f);return Wp-h/p*m},i=d=>{const f=d*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(d,2)*e,m=Math.exp(-f),x=I0(Math.pow(d,2),o);return(-s(d)+Wp>0?-1:1)*((h-p)*m)/x}):(s=d=>{const u=Math.exp(-d*e),f=(d-r)*e+1;return-Wp+u*f},i=d=>{const u=Math.exp(-d*e),f=(r-d)*(e*e);return u*f});const l=5/e,c=$L(s,i,l);if(e=Un(e),isNaN(c))return{stiffness:dt.stiffness,damping:dt.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const EL=12;function $L(e,t,r){let n=r;for(let s=1;s<EL;s++)n=n-e(n)/t(n);return n}function I0(e,t){return e*Math.sqrt(1-t*t)}const DL=["duration","bounce"],ML=["stiffness","damping","mass"];function Mw(e,t){return t.some(r=>e[r]!==void 0)}function IL(e){let t={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...e};if(!Mw(e,ML)&&Mw(e,DL))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*va(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:dt.mass,stiffness:s,damping:i}}else{const r=_L(e);t={...t,...r,mass:dt.mass},t.isResolvedFromDuration=!0}return t}function Of(e=dt.visualDuration,t=dt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=IL({...r,velocity:-Yr(r.velocity||0)}),m=h||0,x=d/(2*Math.sqrt(c*u)),y=o-i,g=Yr(Math.sqrt(c/u)),v=Math.abs(y)<5;n||(n=v?dt.restSpeed.granular:dt.restSpeed.default),s||(s=v?dt.restDelta.granular:dt.restDelta.default);let b;if(x<1){const j=I0(g,x);b=k=>{const P=Math.exp(-x*g*k);return o-P*((m+x*g*y)/j*Math.sin(j*k)+y*Math.cos(j*k))}}else if(x===1)b=j=>o-Math.exp(-g*j)*(y+(m+g*y)*j);else{const j=g*Math.sqrt(x*x-1);b=k=>{const P=Math.exp(-x*g*k),S=Math.min(j*k,300);return o-P*((m+x*g*y)*Math.sinh(S)+j*y*Math.cosh(S))/j}}const w={calculatedDuration:p&&f||null,next:j=>{const k=b(j);if(p)l.done=j>=f;else{let P=j===0?m:0;x<1&&(P=j===0?Un(m):w4(b,j,k));const S=Math.abs(P)<=n,O=Math.abs(o-k)<=s;l.done=S&&O}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(Zv(w),Pf),k=j4(P=>w.next(j*P).value,j,30);return j+"ms "+k},toTransition:()=>{}};return w}Of.applyToOptions=e=>{const t=TL(e,100,Of);return e.ease=t.ease,e.duration=Un(t.duration),e.type="keyframes",e};function R0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=S=>l!==void 0&&S<l||c!==void 0&&S>c,m=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let x=r*t;const y=f+x,g=o===void 0?y:o(y);g!==y&&(x=g-f);const v=S=>-x*Math.exp(-S/n),b=S=>g+v(S),w=S=>{const O=v(S),A=b(S);h.done=Math.abs(O)<=d,h.value=h.done?g:A};let j,k;const P=S=>{p(h.value)&&(j=S,k=Of({keyframes:[h.value,m(h.value)],velocity:w4(b,S,h.value),damping:s,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:S=>{let O=!1;return!k&&j===void 0&&(O=!0,w(S),P(S)),j!==void 0&&S>=j?k.next(S-j):(!O&&w(S),h)}}}function RL(e,t,r){const n=[],s=r||ba.mix||b4,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||en:t;l=Td(c,l)}n.push(l)}return n}function LL(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Uv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=RL(t,n,s),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Ac(e[f],e[f+1],u);return l[f](h)};return r?u=>d(va(e[0],e[i-1],u)):d}function FL(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ac(0,t,n);e.push(ot(r,1,s))}}function BL(e){const t=[0];return FL(t,e.length-1),t}function zL(e,t){return e.map(r=>r*t)}function UL(e,t){return e.map(()=>t||d4).splice(0,e.length-1)}function Jl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=JR(n)?n.map(Cw):Cw(n),i={done:!1,value:t[0]},o=zL(r&&r.length===t.length?r:BL(t),e),l=LL(o,t,{ease:Array.isArray(s)?s:UL(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const VL=e=>e!==null;function Jv(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(VL),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const WL={decay:R0,inertia:R0,tween:Jl,keyframes:Jl,spring:Of};function N4(e){typeof e.type=="string"&&(e.type=WL[e.type])}class eb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const HL=e=>e/100;class tb extends eb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==mr.now()&&this.tick(mr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;N4(t);const{type:r=Jl,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||Jl;c!==Jl&&typeof l[0]!="number"&&(this.mixKeyframes=Td(HL,b4(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Zv(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,w=n;if(f){const S=Math.min(this.currentTime,s)/l;let O=Math.floor(S),A=S%1;!A&&S>=1&&(A=1),A===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(h==="reverse"?(A=1-A,p&&(A-=p/l)):h==="mirror"&&(w=o)),b=va(0,1,A)*l}const j=v?{done:!1,value:u[0]}:w.next(b);i&&(j.value=i(j.value));let{done:k}=j;!v&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&m!==R0&&(j.value=Jv(u,this.options,y,this.speed)),x&&x(j.value),P&&this.finish(),j}then(t,r){return this.finished.then(t,r)}get duration(){return Yr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yr(t)}get time(){return Yr(this.currentTime)}set time(t){var r;t=Un(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Yr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=AL,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function qL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Es=e=>e*180/Math.PI,L0=e=>{const t=Es(Math.atan2(e[1],e[0]));return F0(t)},KL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:L0,rotateZ:L0,skewX:e=>Es(Math.atan(e[1])),skewY:e=>Es(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},F0=e=>(e=e%360,e<0&&(e+=360),e),Iw=L0,Rw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Lw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),GL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Rw,scaleY:Lw,scale:e=>(Rw(e)+Lw(e))/2,rotateX:e=>F0(Es(Math.atan2(e[6],e[5]))),rotateY:e=>F0(Es(Math.atan2(-e[2],e[0]))),rotateZ:Iw,rotate:Iw,skewX:e=>Es(Math.atan(e[4])),skewY:e=>Es(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function B0(e){return e.includes("scale")?1:0}function z0(e,t){if(!e||e==="none")return B0(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=GL,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=KL,s=l}if(!s)return B0(t);const i=n[t],o=s[1].split(",").map(YL);return typeof i=="function"?i(o):o[i]}const XL=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return z0(r,t)};function YL(e){return parseFloat(e.trim())}const Qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set(Qo),Fw=e=>e===Yo||e===pe,QL=new Set(["x","y","z"]),ZL=Qo.filter(e=>!QL.has(e));function JL(e){const t=[];return ZL.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const zs={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>z0(t,"x"),y:(e,{transform:t})=>z0(t,"y")};zs.translateX=zs.x;zs.translateY=zs.y;const Us=new Set;let U0=!1,V0=!1,W0=!1;function k4(){if(V0){const e=Array.from(Us).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=JL(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}V0=!1,U0=!1,Us.forEach(e=>e.complete(W0)),Us.clear()}function S4(){Us.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(V0=!0)})}function e7(){W0=!0,S4(),k4(),W0=!1}class rb{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Us.add(this),U0||(U0=!0,tt.read(S4),tt.resolveKeyframes(k4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}qL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Us.delete(this)}cancel(){this.state==="scheduled"&&(Us.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const t7=e=>e.startsWith("--");function r7(e,t,r){t7(t)?e.style.setProperty(t,r):e.style[t]=r}const n7=Vv(()=>window.ScrollTimeline!==void 0),a7={};function s7(e,t){const r=Vv(e);return()=>a7[t]??r()}const P4=s7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Bw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zl([0,.65,.55,1]),circOut:zl([.55,0,1,.45]),backIn:zl([.31,.01,.66,-.59]),backOut:zl([.33,1.53,.69,.99])};function O4(e,t){if(e)return typeof e=="function"?P4()?j4(e,t):"ease-out":u4(e)?zl(e):Array.isArray(e)?e.map(r=>O4(r,t)||Bw.easeOut):Bw[e]}function i7(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:r};c&&(u.offset=c);const f=O4(l,s);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(u,h)}function A4(e){return typeof e=="function"&&"applyToOptions"in e}function o7({type:e,...t}){return A4(e)&&P4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class l7 extends eb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Uv(typeof t.type!="string");const d=o7(t);this.animation=i7(r,n,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Jv(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):r7(r,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Yr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yr(t)}get time(){return Yr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Un(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&n7()?(this.animation.timeline=t,en):r(this)}}const T4={anticipate:o4,backInOut:i4,circInOut:c4};function c7(e){return e in T4}function d7(e){typeof e.ease=="string"&&c7(e.ease)&&(e.ease=T4[e.ease])}const zw=10;class u7 extends l7{constructor(t){d7(t),N4(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new tb({...o,autoplay:!1}),c=Un(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-zw).value,l.sample(c).value,zw),l.stop()}}const Uw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ns.test(e)||e==="0")&&!e.startsWith("url("));function f7(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function h7(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Uw(s,t),l=Uw(i,t);return!o||!l?!1:f7(e)||(r==="spring"||A4(r))&&n}function H0(e){e.duration=0,e.type="keyframes"}const m7=new Set(["opacity","clipPath","filter","transform"]),p7=Vv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function g7(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return p7()&&r&&m7.has(r)&&(r!=="transform"||!d)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const x7=40;class y7 extends eb{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var m;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=mr.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||rb;this.keyframeResolver=new p(l,(x,y,g)=>this.onKeyframesResolved(x,y,h,!g),c,d,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=mr.now(),h7(t,i,o,l)||((ba.instantAnimations||!c)&&(u==null||u(Jv(t,n,r))),t[0]=t[t.length-1],H0(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>x7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!d&&g7(h)?new u7({...h,element:h.motionValue.owner.current}):new tb(h);p.finished.then(()=>this.notifyFinished()).catch(en),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),e7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const v7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b7(e){const t=v7.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function C4(e,t,r=1){const[n,s]=b7(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return ZT(o)?parseFloat(o):o}return Gv(s)?C4(s,t,r+1):s}function nb(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const _4=new Set(["width","height","top","left","right","bottom",...Qo]),j7={test:e=>e==="auto",parse:e=>e},E4=e=>t=>t.test(e),$4=[Yo,pe,Vn,Ea,fL,uL,j7],Vw=e=>$4.find(E4(e));function w7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||e4(e):!0}const N7=new Set(["brightness","contrast","saturate","opacity"]);function k7(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Xv)||[];if(!n)return e;const s=r.replace(n,"");let i=N7.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const S7=/\b([a-z-]*)\(.*?\)/gu,q0={...ns,getAnimatableNone:e=>{const t=e.match(S7);return t?t.map(k7).join(" "):e}},Ww={...Yo,transform:Math.round},P7={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:uu,scaleX:uu,scaleY:uu,scaleZ:uu,skew:Ea,skewX:Ea,skewY:Ea,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Tc,originX:_w,originY:_w,originZ:pe},ab={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe,...P7,zIndex:Ww,fillOpacity:Tc,strokeOpacity:Tc,numOctaves:Ww},O7={...ab,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:q0,WebkitFilter:q0},D4=e=>O7[e];function M4(e,t){let r=D4(e);return r!==q0&&(r=ns),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const A7=new Set(["auto","none","0"]);function T7(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!A7.has(i)&&Cc(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=M4(r,s)}class C7 extends rb{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Gv(d))){const u=C4(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!_4.has(n)||t.length!==2)return;const[s,i]=t,o=Vw(s),l=Vw(i);if(o!==l)if(Fw(o)&&Fw(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else zs[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||w7(t[s]))&&n.push(s);n.length&&T7(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=zs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function _7(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const I4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function R4(e){return JT(e)&&"offsetHeight"in e}const Hw=30,E7=e=>!isNaN(parseFloat(e));class $7{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=mr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=E7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Wv);const n=this.events[t].add(r);return t==="change"?()=>{n(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Hw);return t4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lo(e,t){return new $7(e,t)}const{schedule:sb}=f4(queueMicrotask,!1),gn={x:!1,y:!1};function L4(){return gn.x||gn.y}function D7(e){return e==="x"||e==="y"?gn[e]?null:(gn[e]=!0,()=>{gn[e]=!1}):gn.x||gn.y?null:(gn.x=gn.y=!0,()=>{gn.x=gn.y=!1})}function F4(e,t){const r=_7(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function qw(e){return!(e.pointerType==="touch"||L4())}function M7(e,t,r={}){const[n,s,i]=F4(e,r),o=l=>{if(!qw(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=f=>{qw(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const B4=(e,t)=>t?e===t?!0:B4(e,t.parentElement):!1,ib=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,I7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R7(e){return I7.has(e.tagName)||e.tabIndex!==-1}const qu=new WeakSet;function Kw(e){return t=>{t.key==="Enter"&&e(t)}}function Hp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const L7=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Kw(()=>{if(qu.has(r))return;Hp(r,"down");const s=Kw(()=>{Hp(r,"up")}),i=()=>Hp(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Gw(e){return ib(e)&&!L4()}function F7(e,t,r={}){const[n,s,i]=F4(e,r),o=l=>{const c=l.currentTarget;if(!Gw(l))return;qu.add(c);const d=t(c,l),u=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),qu.has(c)&&qu.delete(c),Gw(p)&&typeof d=="function"&&d(p,{success:m})},f=p=>{u(p,c===window||c===document||r.useGlobalTarget||B4(c,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),R4(l)&&(l.addEventListener("focus",d=>L7(d,s)),!R7(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function z4(e){return JT(e)&&"ownerSVGElement"in e}function B7(e){return z4(e)&&e.tagName==="svg"}const Zt=e=>!!(e&&e.getVelocity),z7=[...$4,xt,ns],U7=e=>z7.find(E4(e)),ob=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Xw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function V7(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Xw(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Xw(e[s],null)}}}}function W7(...e){return N.useCallback(V7(...e),e)}class H7 extends N.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=R4(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function q7({children:e,isPresent:t,anchorX:r,root:n}){const s=N.useId(),i=N.useRef(null),o=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=N.useContext(ob),c=W7(i,e==null?void 0:e.ref);return N.useInsertionEffect(()=>{const{width:d,height:u,top:f,left:h,right:p}=o.current;if(t||!i.current||!d||!u)return;const m=r==="left"?`left: ${h}`:`right: ${p}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const y=n??document.head;return y.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${f}px !important;
          }
        `),()=>{y.contains(x)&&y.removeChild(x)}},[t]),a.jsx(H7,{isPresent:t,childRef:i,sizeRef:o,children:N.cloneElement(e,{ref:c})})}const K7=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=Lv(G7),u=N.useId();let f=!0,h=N.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:r,custom:s,onExitComplete:p=>{d.set(p,!0);for(const m of d.values())if(!m)return;n&&n()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[r,d,n]);return i&&f&&(h={...h}),N.useMemo(()=>{d.forEach((p,m)=>d.set(m,!1))},[r]),N.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(q7,{isPresent:r,anchorX:l,root:c,children:e})),a.jsx(lm.Provider,{value:h,children:e})};function G7(){return new Map}function U4(e=!0){const t=N.useContext(lm);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=N.useId();N.useEffect(()=>{if(e)return s(i)},[e]);const o=N.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const fu=e=>e.key||"";function Yw(e){const t=[];return N.Children.forEach(e,r=>{N.isValidElement(r)&&t.push(r)}),t}const $s=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=U4(o),f=N.useMemo(()=>Yw(e),[e]),h=o&&!d?[]:f.map(fu),p=N.useRef(!0),m=N.useRef(f),x=Lv(()=>new Map),[y,g]=N.useState(f),[v,b]=N.useState(f);QT(()=>{p.current=!1,m.current=f;for(let k=0;k<v.length;k++){const P=fu(v[k]);h.includes(P)?x.delete(P):x.get(P)!==!0&&x.set(P,!1)}},[v,h.length,h.join("-")]);const w=[];if(f!==y){let k=[...f];for(let P=0;P<v.length;P++){const S=v[P],O=fu(S);h.includes(O)||(k.splice(P,0,S),w.push(S))}return i==="wait"&&w.length&&(k=w),b(Yw(k)),g(f),null}const{forceRender:j}=N.useContext(Rv);return a.jsx(a.Fragment,{children:v.map(k=>{const P=fu(k),S=o&&!d?!1:f===v||h.includes(P),O=()=>{if(x.has(P))x.set(P,!0);else return;let A=!0;x.forEach(C=>{C||(A=!1)}),A&&(j==null||j(),b(m.current),o&&(u==null||u()),n&&n())};return a.jsx(K7,{isPresent:S,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:S?void 0:O,anchorX:l,children:k},P)})})},V4=N.createContext({strict:!1}),Qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},co={};for(const e in Qw)co[e]={isEnabled:t=>Qw[e].some(r=>!!t[r])};function X7(e){for(const t in e)co[t]={...co[t],...e[t]}}const Y7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Af(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Y7.has(e)}let W4=e=>!Af(e);function Q7(e){typeof e=="function"&&(W4=t=>t.startsWith("on")?!Af(t):e(t))}try{Q7(require("@emotion/is-prop-valid").default)}catch{}function Z7(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(W4(s)||r===!0&&Af(s)||!t&&!Af(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const cm=N.createContext({});function dm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _c(e){return typeof e=="string"||Array.isArray(e)}const lb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cb=["initial",...lb];function um(e){return dm(e.animate)||cb.some(t=>_c(e[t]))}function H4(e){return!!(um(e)||e.variants)}function J7(e,t){if(um(e)){const{initial:r,animate:n}=e;return{initial:r===!1||_c(r)?r:void 0,animate:_c(n)?n:void 0}}return e.inherit!==!1?t:{}}function e9(e){const{initial:t,animate:r}=J7(e,N.useContext(cm));return N.useMemo(()=>({initial:t,animate:r}),[Zw(t),Zw(r)])}function Zw(e){return Array.isArray(e)?e.join(" "):e}const Ec={};function t9(e){for(const t in e)Ec[t]=e[t],Kv(t)&&(Ec[t].isCSSVariable=!0)}function q4(e,{layout:t,layoutId:r}){return Zo.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ec[e]||e==="opacity")}const r9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n9=Qo.length;function a9(e,t,r){let n="",s=!0;for(let i=0;i<n9;i++){const o=Qo[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=I4(l,ab[o]);if(!c){s=!1;const u=r9[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function db(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Zo.has(c)){o=!0;continue}else if(Kv(c)){s[c]=d;continue}else{const u=I4(d,ab[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=a9(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const ub=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function K4(e,t,r){for(const n in t)!Zt(t[n])&&!q4(n,r)&&(e[n]=t[n])}function s9({transformTemplate:e},t){return N.useMemo(()=>{const r=ub();return db(r,t,e),Object.assign({},r.vars,r.style)},[t])}function i9(e,t){const r=e.style||{},n={};return K4(n,r,e),Object.assign(n,s9(e,t)),n}function o9(e,t){const r={},n=i9(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const l9={offset:"stroke-dashoffset",array:"stroke-dasharray"},c9={offset:"strokeDashoffset",array:"strokeDasharray"};function d9(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?l9:c9;e[i.offset]=pe.transform(-n);const o=pe.transform(t),l=pe.transform(r);e[i.array]=`${o} ${l}`}function G4(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(db(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&d9(f,s,i,o,!1)}const X4=()=>({...ub(),attrs:{}}),Y4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function u9(e,t,r,n){const s=N.useMemo(()=>{const i=X4();return G4(i,t,Y4(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};K4(i,e.style,e),s.style={...i,...s.style}}return s}const f9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fb(e){return typeof e!="string"||e.includes("-")?!1:!!(f9.indexOf(e)>-1||/[A-Z]/u.test(e))}function h9(e,t,r,{latestValues:n},s,i=!1){const l=(fb(e)?u9:o9)(t,n,s,e),c=Z7(t,typeof e=="string",i),d=e!==N.Fragment?{...c,...l,ref:r}:{},{children:u}=t,f=N.useMemo(()=>Zt(u)?u.get():u,[u]);return N.createElement(e,{...d,children:f})}function Jw(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function hb(e,t,r,n){if(typeof t=="function"){const[s,i]=Jw(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Jw(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function Ku(e){return Zt(e)?e.get():e}function m9({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:p9(r,n,s,e),renderState:t()}}function p9(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=Ku(i[h]);let{initial:o,animate:l}=e;const c=um(e),d=H4(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!dm(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=hb(e,h[p]);if(m){const{transitionEnd:x,transition:y,...g}=m;for(const v in g){let b=g[v];if(Array.isArray(b)){const w=u?b.length-1:0;b=b[w]}b!==null&&(s[v]=b)}for(const v in x)s[v]=x[v]}}}return s}const Q4=e=>(t,r)=>{const n=N.useContext(cm),s=N.useContext(lm),i=()=>m9(e,t,n,s);return r?i():Lv(i)};function mb(e,t,r){var i;const{style:n}=e,s={};for(const o in n)(Zt(n[o])||t.style&&Zt(t.style[o])||q4(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const g9=Q4({scrapeMotionValuesFromProps:mb,createRenderState:ub});function Z4(e,t,r){const n=mb(e,t,r);for(const s in e)if(Zt(e[s])||Zt(t[s])){const i=Qo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const x9=Q4({scrapeMotionValuesFromProps:Z4,createRenderState:X4}),y9=Symbol.for("motionComponentSymbol");function Di(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v9(e,t,r){return N.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Di(r)&&(r.current=n))},[t])}const pb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b9="framerAppearId",J4="data-"+pb(b9),eC=N.createContext({});function j9(e,t,r,n,s){var x,y;const{visualElement:i}=N.useContext(cm),o=N.useContext(V4),l=N.useContext(lm),c=N.useContext(ob).reducedMotion,d=N.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=N.useContext(eC);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&w9(d.current,r,s,f);const h=N.useRef(!1);N.useInsertionEffect(()=>{u&&h.current&&u.update(r,l)});const p=r[J4],m=N.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return QT(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),N.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),m.current=!1),u.enteringChildren=void 0)}),u}function w9(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:tC(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Di(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function tC(e){if(e)return e.options.allowProjection!==!1?e.projection:tC(e.parent)}function qp(e,{forwardMotionProps:t=!1}={},r,n){r&&X7(r);const s=fb(e)?x9:g9;function i(l,c){let d;const u={...N.useContext(ob),...l,layoutId:N9(l)},{isStatic:f}=u,h=e9(l),p=s(l,f);if(!f&&Fv){k9();const m=S9(u);d=m.MeasureLayout,h.visualElement=j9(e,p,u,n,m.ProjectionNode)}return a.jsxs(cm.Provider,{value:h,children:[d&&h.visualElement?a.jsx(d,{visualElement:h.visualElement,...u}):null,h9(e,l,v9(p,h.visualElement,c),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=N.forwardRef(i);return o[y9]=e,o}function N9({layoutId:e}){const t=N.useContext(Rv).id;return t&&e!==void 0?t+"-"+e:e}function k9(e,t){N.useContext(V4).strict}function S9(e){const{drag:t,layout:r}=co;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function P9(e,t){if(typeof Proxy>"u")return qp;const r=new Map,n=(i,o)=>qp(i,o,e,t),s=(i,o)=>n(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,qp(o,void 0,e,t)),r.get(o))})}function rC({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function O9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function A9(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Kp(e){return e===void 0||e===1}function K0({scale:e,scaleX:t,scaleY:r}){return!Kp(e)||!Kp(t)||!Kp(r)}function ws(e){return K0(e)||nC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function nC(e){return eN(e.x)||eN(e.y)}function eN(e){return e&&e!=="0%"}function Tf(e,t,r){const n=e-r,s=t*n;return r+s}function tN(e,t,r,n,s){return s!==void 0&&(e=Tf(e,s,n)),Tf(e,r,n)+t}function G0(e,t=0,r=1,n,s){e.min=tN(e.min,t,r,n,s),e.max=tN(e.max,t,r,n,s)}function aC(e,{x:t,y:r}){G0(e.x,t.translate,t.scale,t.originPoint),G0(e.y,r.translate,r.scale,r.originPoint)}const rN=.999999999999,nN=1.0000000000001;function T9(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ii(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,aC(e,o)),n&&ws(i.latestValues)&&Ii(e,i.latestValues))}t.x<nN&&t.x>rN&&(t.x=1),t.y<nN&&t.y>rN&&(t.y=1)}function Mi(e,t){e.min=e.min+t,e.max=e.max+t}function aN(e,t,r,n,s=.5){const i=ot(e.min,e.max,s);G0(e,t,r,i,n)}function Ii(e,t){aN(e.x,t.x,t.scaleX,t.scale,t.originX),aN(e.y,t.y,t.scaleY,t.scale,t.originY)}function sC(e,t){return rC(A9(e.getBoundingClientRect(),t))}function C9(e,t,r){const n=sC(e,r),{scroll:s}=t;return s&&(Mi(n.x,s.offset.x),Mi(n.y,s.offset.y)),n}const sN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ri=()=>({x:sN(),y:sN()}),iN=()=>({min:0,max:0}),kt=()=>({x:iN(),y:iN()}),X0={current:null},iC={current:!1};function _9(){if(iC.current=!0,!!Fv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>X0.current=e.matches;e.addEventListener("change",t),t()}else X0.current=!1}const E9=new WeakMap;function $9(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Zt(s))e.addValue(n,s);else if(Zt(i))e.addValue(n,lo(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,lo(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const oN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class D9{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=mr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,tt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=um(r),this.isVariantNode=H4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&Zt(p)&&p.set(c[h])}}mount(t){var r;this.current=t,E9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),iC.current||_9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:X0.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Zo.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&tt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in co){const r=co[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<oN.length;n++){const s=oN[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=lo(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(ZT(n)||e4(n))?n=parseFloat(n):!U7(n)&&ns.test(r)&&(n=M4(t,r)),this.setBaseTarget(t,Zt(n)?n.get():n)),Zt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=hb(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Zt(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Wv),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){sb.render(this.render)}}class oC extends D9{constructor(){super(...arguments),this.KeyframeResolver=C7}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function lC(e,{style:t,vars:r},n,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function M9(e){return window.getComputedStyle(e)}class I9 extends oC{constructor(){super(...arguments),this.type="html",this.renderInstance=lC}readValueFromInstance(t,r){var n;if(Zo.has(r))return(n=this.projection)!=null&&n.isProjecting?B0(r):XL(t,r);{const s=M9(t),i=(Kv(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return sC(t,r)}build(t,r,n){db(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return mb(t,r,n)}}const cC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R9(e,t,r,n){lC(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(cC.has(s)?s:pb(s),t.attrs[s])}class L9 extends oC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Zo.has(r)){const n=D4(r);return n&&n.default||0}return r=cC.has(r)?r:pb(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Z4(t,r,n)}build(t,r,n){G4(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){R9(t,r,n,s)}mount(t){this.isSVGTag=Y4(t.tagName),super.mount(t)}}const F9=(e,t)=>fb(e)?new L9(t):new I9(t,{allowProjection:e!==N.Fragment});function Yi(e,t,r){const n=e.getProps();return hb(n,t,r!==void 0?r:n.custom,e)}const Y0=e=>Array.isArray(e);function B9(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,lo(r))}function z9(e){return Y0(e)?e[e.length-1]||0:e}function U9(e,t){const r=Yi(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=z9(i[o]);B9(e,o,l)}}function V9(e){return!!(Zt(e)&&e.add)}function Q0(e,t){const r=e.getValue("willChange");if(V9(r))return r.add(t);if(!r&&ba.WillChange){const n=new ba.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function dC(e){return e.props[J4]}const W9=e=>e!==null;function H9(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(W9),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const q9={type:"spring",stiffness:500,damping:25,restSpeed:10},K9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),G9={type:"keyframes",duration:.8},X9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y9=(e,{keyframes:t})=>t.length>2?G9:Zo.has(e)?e.startsWith("scale")?K9(t[1]):q9:X9;function Q9({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const gb=(e,t,r,n={},s,i)=>o=>{const l=nb(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Un(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Q9(l)||Object.assign(u,Y9(e,u)),u.duration&&(u.duration=Un(u.duration)),u.repeatDelay&&(u.repeatDelay=Un(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(H0(u),u.delay===0&&(f=!0)),(ba.instantAnimations||ba.skipAnimations)&&(f=!0,H0(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=H9(u.keyframes,l);if(h!==void 0){tt.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new tb(u):new y7(u)};function Z9({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function uC(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),h=l[u];if(h===void 0||d&&Z9(d,u))continue;const p={delay:r,...nb(i||{},u)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===m&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=dC(e);if(g){const v=window.MotionHandoffAnimation(g,u,tt);v!==null&&(p.startTime=v,x=!0)}}Q0(e,u),f.start(gb(u,f,h,e.shouldReduceMotion&&_4.has(u)?{type:!1}:p,e,x));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{tt.update(()=>{o&&U9(e,o)})}),c}function fC(e,t,r,n=0,s=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:l-i*n}function Z0(e,t,r={}){var c;const n=Yi(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(uC(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=s;return J9(e,t,d,u,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function J9(e,t,r=0,n=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Z0(c,t,{...o,delay:r+(typeof n=="function"?0:n)+fC(e.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function e8(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Z0(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Z0(e,t,r);else{const s=typeof t=="function"?Yi(e,t,r.custom):t;n=Promise.all(uC(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function hC(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const t8=cb.length;function mC(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?mC(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<t8;r++){const n=cb[r],s=e.props[n];(_c(s)||s===!1)&&(t[n]=s)}return t}const r8=[...lb].reverse(),n8=lb.length;function a8(e){return t=>Promise.all(t.map(({animation:r,options:n})=>e8(e,r,n)))}function s8(e){let t=a8(e),r=lN(),n=!0;const s=c=>(d,u)=>{var h;const f=Yi(e,u,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...x}=f;d={...d,...x,...m}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=mC(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let y=0;y<n8;y++){const g=r8[y],v=r[g],b=d[g]!==void 0?d[g]:u[g],w=_c(b),j=g===c?v.isActive:null;j===!1&&(m=y);let k=b===u[g]&&b!==d[g]&&w;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...p},!v.isActive&&j===null||!b&&!v.prevProp||dm(b)||typeof b=="boolean")continue;const P=i8(v.prevProp,b);let S=P||g===c&&v.isActive&&!k&&w||y>m&&w,O=!1;const A=Array.isArray(b)?b:[b];let C=A.reduce(s(g),{});j===!1&&(C={});const{prevResolvedValues:T={}}=v,F={...T,...C},z=V=>{S=!0,h.has(V)&&(O=!0,h.delete(V)),v.needsAnimating[V]=!0;const $=e.getValue(V);$&&($.liveStyle=!1)};for(const V in F){const $=C[V],_=T[V];if(p.hasOwnProperty(V))continue;let U=!1;Y0($)&&Y0(_)?U=!hC($,_):U=$!==_,U?$!=null?z(V):h.add(V):$!==void 0&&h.has(V)?z(V):v.protectedKeys[V]=!0}v.prevProp=b,v.prevResolvedValues=C,v.isActive&&(p={...p,...C}),n&&e.blockInitialAnimation&&(S=!1);const M=k&&P;S&&(!M||O)&&f.push(...A.map(V=>{const $={type:g};if(typeof V=="string"&&n&&!M&&e.manuallyAnimateOnMount&&e.parent){const{parent:_}=e,U=Yi(_,V);if(_.enteringChildren&&U){const{delayChildren:I}=U.transition||{};$.delay=fC(_.enteringChildren,e,I)}}return{animation:V,options:$}}))}if(h.size){const y={};if(typeof d.initial!="boolean"){const g=Yi(e,Array.isArray(d.initial)?d.initial[0]:d.initial);g&&g.transition&&(y.transition=g.transition)}h.forEach(g=>{const v=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),y[g]=v??null}),f.push({animation:y})}let x=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,d){var f;if(r[c].isActive===d)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=lN()}}}function i8(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hC(t,e):!1}function gs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lN(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class us{constructor(t){this.isMounted=!1,this.node=t}update(){}}class o8 extends us{constructor(t){super(t),t.animationState||(t.animationState=s8(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let l8=0;class c8 extends us{constructor(){super(...arguments),this.id=l8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const d8={animation:{Feature:o8},exit:{Feature:c8}};function $c(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ed(e){return{point:{x:e.pageX,y:e.pageY}}}const u8=e=>t=>ib(t)&&e(t,Ed(t));function ec(e,t,r,n){return $c(e,t,u8(r),n)}const pC=1e-4,f8=1-pC,h8=1+pC,gC=.01,m8=0-gC,p8=0+gC;function tr(e){return e.max-e.min}function g8(e,t,r){return Math.abs(e-t)<=r}function cN(e,t,r,n=.5){e.origin=n,e.originPoint=ot(t.min,t.max,e.origin),e.scale=tr(r)/tr(t),e.translate=ot(r.min,r.max,e.origin)-e.originPoint,(e.scale>=f8&&e.scale<=h8||isNaN(e.scale))&&(e.scale=1),(e.translate>=m8&&e.translate<=p8||isNaN(e.translate))&&(e.translate=0)}function tc(e,t,r,n){cN(e.x,t.x,r.x,n?n.originX:void 0),cN(e.y,t.y,r.y,n?n.originY:void 0)}function dN(e,t,r){e.min=r.min+t.min,e.max=e.min+tr(t)}function x8(e,t,r){dN(e.x,t.x,r.x),dN(e.y,t.y,r.y)}function uN(e,t,r){e.min=t.min-r.min,e.max=e.min+tr(t)}function Cf(e,t,r){uN(e.x,t.x,r.x),uN(e.y,t.y,r.y)}function Hr(e){return[e("x"),e("y")]}const xC=({current:e})=>e?e.ownerDocument.defaultView:null,fN=(e,t)=>Math.abs(e-t);function y8(e,t){const r=fN(e.x,t.x),n=fN(e.y,t.y);return Math.sqrt(r**2+n**2)}class yC{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Xp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=y8(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:x}=h,{timestamp:y}=zt;this.history.push({...x,timestamp:y});const{onStart:g,onMove:v}=this.handlers;p||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Gp(p,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Xp(h.type==="pointercancel"?this.lastMoveEventInfo:Gp(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,g),x&&x(h,g)},!ib(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=Ed(t),c=Gp(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=zt;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,Xp(c,this.history)),this.removeListeners=Td(ec(this.contextWindow,"pointermove",this.handlePointerMove),ec(this.contextWindow,"pointerup",this.handlePointerUp),ec(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function hN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xp({point:e},t){return{point:e,delta:hN(e,vC(t)),offset:hN(e,v8(t)),velocity:b8(t,.1)}}function v8(e){return e[0]}function vC(e){return e[e.length-1]}function b8(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=vC(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Un(t)));)r--;if(!n)return{x:0,y:0};const i=Yr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function j8(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ot(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ot(r,e,n.max):Math.min(e,r)),e}function mN(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function w8(e,{top:t,left:r,bottom:n,right:s}){return{x:mN(e.x,r,s),y:mN(e.y,t,n)}}function pN(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function N8(e,t){return{x:pN(e.x,t.x),y:pN(e.y,t.y)}}function k8(e,t){let r=.5;const n=tr(e),s=tr(t);return s>n?r=Ac(t.min,t.max-n,e.min):n>s&&(r=Ac(e.min,e.max-s,t.min)),va(0,1,r)}function S8(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const J0=.35;function P8(e=J0){return e===!1?e=0:e===!0&&(e=J0),{x:gN(e,"left","right"),y:gN(e,"top","bottom")}}function gN(e,t,r){return{min:xN(e,t),max:xN(e,r)}}function xN(e,t){return typeof e=="number"?e:e[t]||0}const O8=new WeakMap;class A8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ed(f).point)},o=(f,h)=>{const{drag:p,dragPropagation:m,onDragStart:x}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D7(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Vn.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[g];w&&(v=tr(w)*(parseFloat(v)/100))}}this.originPoint[g]=v}),x&&tt.postRender(()=>x(f,h)),Q0(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=h;if(m&&this.currentDirection===null){this.currentDirection=T8(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),y&&y(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Hr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yC(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:xC(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&tt.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!hu(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=j8(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Di(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=w8(n.layoutBox,t):this.constraints=!1,this.elastic=P8(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Hr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=S8(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Di(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=C9(n,s.root,this.visualElement.getTransformPagePoint());let o=N8(s.layout.layoutBox,i);if(r){const l=r(O9(o));this.hasMutatedConstraints=!!l,l&&(o=rC(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Hr(u=>{if(!hu(u,r,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Q0(this.visualElement,t),n.start(gb(t,n,0,r,this.visualElement,!1))}stopAnimation(){Hr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Hr(r=>{const{drag:n}=this.getProps();if(!hu(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-ot(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Di(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=k8({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Hr(o=>{if(!hu(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ot(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;O8.set(this.visualElement,this);const t=this.visualElement.current,r=ec(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Di(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tt.read(n);const o=$c(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Hr(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=J0,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function hu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function T8(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class C8 extends us{constructor(t){super(t),this.removeGroupControls=en,this.removeListeners=en,this.controls=new A8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const yN=e=>(t,r)=>{e&&tt.postRender(()=>e(t,r))};class _8 extends us{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(t){this.session=new yC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:yN(t),onStart:yN(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&tt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ec(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Sl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pe.test(e))e=parseFloat(e);else return e;const r=vN(e,t.target.x),n=vN(e,t.target.y);return`${r}% ${n}%`}},E8={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=ns.parse(e);if(s.length>5)return n;const i=ns.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const d=ot(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let Yp=!1;class $8 extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;t9(D8),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),Yp&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,Yp=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||tt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;Yp=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bC(e){const[t,r]=U4(),n=N.useContext(Rv);return a.jsx($8,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(eC),isPresent:t,safeToRemove:r})}const D8={borderRadius:{...Sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sl,borderTopRightRadius:Sl,borderBottomLeftRadius:Sl,borderBottomRightRadius:Sl,boxShadow:E8};function M8(e,t,r){const n=Zt(e)?e:lo(e);return n.start(gb("",n,t,r)),n.animation}const I8=(e,t)=>e.depth-t.depth;class R8{constructor(){this.children=[],this.isDirty=!1}add(t){Bv(this.children,t),this.isDirty=!0}remove(t){zv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(I8),this.isDirty=!1,this.children.forEach(t)}}function L8(e,t){const r=mr.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(rs(n),e(i-t))};return tt.setup(n,!0),()=>rs(n)}const jC=["TopLeft","TopRight","BottomLeft","BottomRight"],F8=jC.length,bN=e=>typeof e=="string"?parseFloat(e):e,jN=e=>typeof e=="number"||pe.test(e);function B8(e,t,r,n,s,i){s?(e.opacity=ot(0,r.opacity??1,z8(n)),e.opacityExit=ot(t.opacity??1,0,U8(n))):i&&(e.opacity=ot(t.opacity??1,r.opacity??1,n));for(let o=0;o<F8;o++){const l=`border${jC[o]}Radius`;let c=wN(t,l),d=wN(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||jN(c)===jN(d)?(e[l]=Math.max(ot(bN(c),bN(d),n),0),(Vn.test(d)||Vn.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=ot(t.rotate||0,r.rotate||0,n))}function wN(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const z8=wC(0,.5,l4),U8=wC(.5,.95,en);function wC(e,t,r){return n=>n<e?0:n>t?1:r(Ac(e,t,n))}function NN(e,t){e.min=t.min,e.max=t.max}function mn(e,t){NN(e.x,t.x),NN(e.y,t.y)}function kN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function SN(e,t,r,n,s){return e-=t,e=Tf(e,1/r,n),s!==void 0&&(e=Tf(e,1/s,n)),e}function V8(e,t=0,r=1,n=.5,s,i=e,o=e){if(Vn.test(t)&&(t=parseFloat(t),t=ot(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ot(i.min,i.max,n);e===i&&(l-=t),e.min=SN(e.min,t,r,l,s),e.max=SN(e.max,t,r,l,s)}function PN(e,t,[r,n,s],i,o){V8(e,t[r],t[n],t[s],t.scale,i,o)}const W8=["x","scaleX","originX"],H8=["y","scaleY","originY"];function ON(e,t,r,n){PN(e.x,t,W8,r?r.x:void 0,n?n.x:void 0),PN(e.y,t,H8,r?r.y:void 0,n?n.y:void 0)}function AN(e){return e.translate===0&&e.scale===1}function NC(e){return AN(e.x)&&AN(e.y)}function TN(e,t){return e.min===t.min&&e.max===t.max}function q8(e,t){return TN(e.x,t.x)&&TN(e.y,t.y)}function CN(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kC(e,t){return CN(e.x,t.x)&&CN(e.y,t.y)}function _N(e){return tr(e.x)/tr(e.y)}function EN(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class K8{constructor(){this.members=[]}add(t){Bv(this.members,t),t.scheduleRender()}remove(t){if(zv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G8(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:m}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),m&&(n+=`skewY(${m}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Qp=["","X","Y","Z"],X8=1e3;let Y8=0;function Zp(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function SC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=dC(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",tt,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&SC(n)}function PC({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Y8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J8),this.nodes.forEach(nF),this.nodes.forEach(aF),this.nodes.forEach(eF)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new R8)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Wv),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=z4(o)&&!B7(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=L8(h,250),Gu.hasAnimatedSinceResize&&(Gu.hasAnimatedSinceResize=!1,this.nodes.forEach(MN)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||cF,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),g=!this.targetLayout||!kC(this.targetLayout,p),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...nb(m,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else f||MN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($N);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rF),this.nodes.forEach(Q8),this.nodes.forEach(Z8)):this.nodes.forEach(DN),this.clearAllSnapshots();const l=mr.now();zt.delta=va(0,1e3/60,l-zt.timestamp),zt.timestamp=l,zt.isProcessing=!0,Bp.update.process(zt),Bp.preRender.process(zt),Bp.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tF),this.sharedNodes.forEach(iF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tr(this.snapshot.measuredBox.x)&&!tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!NC(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ws(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return kt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(uF))){const{scroll:u}=this.root;u&&(Mi(l.x,u.offset.x),Mi(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=kt();if(mn(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&mn(l,o),Mi(l.x,f.offset.x),Mi(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=kt();mn(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ii(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ws(u.latestValues)&&Ii(c,u.latestValues)}return ws(this.latestValues)&&Ii(c,this.latestValues),c}removeTransform(o){const l=kt();mn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ws(d.latestValues))continue;K0(d.latestValues)&&d.updateSnapshot();const u=kt(),f=d.measurePageBox();mn(u,f),ON(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ws(this.latestValues)&&ON(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=zt.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),aC(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||K0(this.parent.latestValues)||nC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Cf(this.relativeTargetOrigin,l,c),mn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var m;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;mn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;T9(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=kt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kN(this.prevProjectionDelta.x,this.projectionDelta.x),kN(this.prevProjectionDelta.y,this.projectionDelta.y)),tc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!EN(this.projectionDelta.x,this.prevProjectionDelta.x)||!EN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ri(),this.projectionDelta=Ri(),this.projectionDeltaWithTransform=Ri()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=kt(),p=c?c.source:void 0,m=this.layout?this.layout.source:void 0,x=p!==m,y=this.getStack(),g=!y||y.members.length<=1,v=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(lF));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const j=w/1e3;IN(f.x,o.x,j),IN(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oF(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&q8(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=kt()),mn(b,this.relativeTarget)),x&&(this.animationValues=u,B8(u,d,this.latestValues,j,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Gu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lo(0)),this.currentAnimation=M8(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&OC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||kt();const f=tr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=tr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}mn(l,c),Ii(l,u),tc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new K8),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Zp("z",o,d,this.animationValues);for(let u=0;u<Qp.length;u++)Zp(`rotate${Qp[u]}`,o,d,this.animationValues),Zp(`skew${Qp[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ku(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ku(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ws(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=G8(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:h,y:p}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in Ec){if(u[m]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:g}=Ec[m],v=f==="none"?u[m]:x(u[m],d);if(y){const b=y.length;for(let w=0;w<b;w++)o[y[w]]=v}else g?this.options.visualElement.renderState.vars[m]=v:o[m]=v}this.options.layoutId&&(o.pointerEvents=d===this?Ku(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach($N),this.root.sharedNodes.clear()}}}function Q8(e){e.updateLayout()}function Z8(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Hr(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=tr(h);h.min=n[f].min,h.max=h.min+p}):OC(i,t.layoutBox,n)&&Hr(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=tr(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Ri();tc(l,n,t.layoutBox);const c=Ri();o?tc(c,e.applyTransform(s,!0),t.measuredBox):tc(c,n,t.layoutBox);const d=!NC(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=kt();Cf(m,t.layoutBox,h.layoutBox);const x=kt();Cf(x,n,p.layoutBox),kC(m,x)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function J8(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function eF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tF(e){e.clearSnapshot()}function $N(e){e.clearMeasurements()}function DN(e){e.isLayoutDirty=!1}function rF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nF(e){e.resolveTargetDelta()}function aF(e){e.calcProjection()}function sF(e){e.resetSkewAndRotation()}function iF(e){e.removeLeadSnapshot()}function IN(e,t,r){e.translate=ot(t.translate,0,r),e.scale=ot(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function RN(e,t,r,n){e.min=ot(t.min,r.min,n),e.max=ot(t.max,r.max,n)}function oF(e,t,r,n){RN(e.x,t.x,r.x,n),RN(e.y,t.y,r.y,n)}function lF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cF={duration:.45,ease:[.4,0,.1,1]},LN=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),FN=LN("applewebkit/")&&!LN("chrome/")?Math.round:en;function BN(e){e.min=FN(e.min),e.max=FN(e.max)}function dF(e){BN(e.x),BN(e.y)}function OC(e,t,r){return e==="position"||e==="preserve-aspect"&&!g8(_N(t),_N(r),.2)}function uF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const fF=PC({attachResizeListener:(e,t)=>$c(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},AC=PC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jp.current){const e=new fF({});e.mount(window),e.setOptions({layoutScroll:!0}),Jp.current=e}return Jp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hF={pan:{Feature:_8},drag:{Feature:C8,ProjectionNode:AC,MeasureLayout:bC}};function zN(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&tt.postRender(()=>i(t,Ed(t)))}class mF extends us{mount(){const{current:t}=this.node;t&&(this.unmount=M7(t,(r,n)=>(zN(this.node,n,"Start"),s=>zN(this.node,s,"End"))))}unmount(){}}class pF extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Td($c(this.node.current,"focus",()=>this.onFocus()),$c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UN(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&tt.postRender(()=>i(t,Ed(t)))}class gF extends us{mount(){const{current:t}=this.node;t&&(this.unmount=F7(t,(r,n)=>(UN(this.node,n,"Start"),(s,{success:i})=>UN(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ex=new WeakMap,eg=new WeakMap,xF=e=>{const t=ex.get(e.target);t&&t(e)},yF=e=>{e.forEach(xF)};function vF({root:e,...t}){const r=e||document;eg.has(r)||eg.set(r,{});const n=eg.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(yF,{root:e,...t})),n[s]}function bF(e,t,r){const n=vF(t);return ex.set(e,r),n.observe(e),()=>{ex.delete(e),n.unobserve(e)}}const jF={some:0,all:1};class wF extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:jF[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=d?u:f;h&&h(c)};return bF(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(NF(t,r))&&this.startObserver()}unmount(){}}function NF({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const kF={inView:{Feature:wF},tap:{Feature:gF},focus:{Feature:pF},hover:{Feature:mF}},SF={layout:{ProjectionNode:AC,MeasureLayout:bC}},PF={...d8,...kF,...hF,...SF},Z=P9(PF,F9);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>N.createElement("svg",{ref:u,...OF,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${AF(e)}`,l].join(" "),...d},[...t.map(([f,h])=>N.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=ie("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=ie("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ie("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=ie("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ie("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ie("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ie("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ie("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ie("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ie("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ie("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ie("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ie("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ie("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ie("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ie("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ie("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=ie("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=ie("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=ie("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=ie("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qF=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(0);return N.useEffect(()=>{const s=()=>{const i=window.scrollY,o=i>r?"down":"up";o!==e&&(i-r>10||i-r<-10)&&t(o),n(i>0?i:0)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[e,r]),e},as={fast:.2,normal:.3},li={easeOut:[0,0,.2,1]},Zs={hidden:{opacity:0},visible:{opacity:1,transition:{duration:as.normal,ease:li.easeOut}}},VC={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:as.normal,ease:li.easeOut}}},tg={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:as.normal,ease:li.easeOut}}},KF={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:as.normal,ease:li.easeOut}}},fm={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},rx={scale:1.05,transition:{duration:as.fast,ease:li.easeOut}},GF={y:-4,transition:{duration:as.fast,ease:li.easeOut}},XF={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:as.normal,ease:li.easeOut}},exit:{opacity:0,y:-20,transition:{duration:as.fast}}},po=({size:e="md",showText:t=!1,to:r=null,className:n="",clickable:s=!0})=>{const{isDark:i}=Go(),o={sm:"h-10 w-10",md:"h-14 w-14",lg:"h-20 w-20",xl:"h-28 w-28"},l={sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-lg"},c="/logo-light.webp",d="/logo-dark.webp",u="/logo.webp",f=i?d:c,h=a.jsxs("div",{className:`flex flex-col items-center ${n}`,children:[a.jsxs("div",{className:`${o[e]} relative transition-all duration-300 ${s&&r?"cursor-pointer hover:scale-105":""}`,style:{filter:i?"drop-shadow(0 0 8px rgba(255, 215, 0, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))"},children:[a.jsx("img",{src:f,alt:"Les Rois Du Bois Logo",className:"h-full w-full object-contain relative z-10",onError:p=>{var m;if(!p.target.dataset.fallbackTried)p.target.dataset.fallbackTried="true",p.target.src=i?c:d;else if(!p.target.dataset.secondFallbackTried)p.target.dataset.secondFallbackTried="true",p.target.src=u;else{p.target.style.display="none";const x=(m=p.target.parentElement)==null?void 0:m.querySelector(".logo-placeholder");x&&x.classList.remove("hidden")}}}),a.jsx("div",{className:"logo-placeholder hidden absolute inset-0 h-full w-full bg-gold-100 dark:bg-gold-900/20 rounded-lg flex items-center justify-center z-0",children:a.jsx("span",{className:"text-gold-600 dark:text-gold-400 font-bold text-xs",children:"LRDB"})})]}),t&&a.jsx("p",{className:`${l[e]} font-bold text-gold-600 dark:text-gold-400 mt-2 text-center break-words`,children:"Les Rois Du Bois"})]});return s&&r?a.jsx(Ne,{to:r,className:"flex justify-center items-center",children:h}):a.jsx("div",{className:"flex justify-center items-center w-full",children:h})},YF=()=>{const{logout:e,isAuthenticated:t,user:r}=Xo(),{getCartItemsCount:n,cartItems:s}=ds(),{isDark:i,toggleTheme:o}=Go(),l=Se(),c=qF(),[d,u]=N.useState(!1),[f,h]=N.useState([]),[p,m]=N.useState(!1),[x,y]=N.useState(!1),[g,v]=N.useState(!1),[b,w]=N.useState(!1),j=N.useRef(null),k=N.useRef(null),P=N.useRef(null);N.useEffect(()=>{(async()=>{try{const T=await Ve.get("/categories");h(T.data.data||[])}catch{}})()},[]),N.useEffect(()=>{const C=()=>{w(window.scrollY>10)};return window.addEventListener("scroll",C,{passive:!0}),()=>window.removeEventListener("scroll",C)},[]),N.useEffect(()=>{const C=T=>{j.current&&!j.current.contains(T.target)&&m(!1),k.current&&!k.current.contains(T.target)&&y(!1),P.current&&!P.current.contains(T.target)&&v(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const S=[{to:"/shop",label:"",icon:RC},{to:"/shop/products",label:"",icon:Ht},{to:"/shop/special-products",label:" ",icon:Qs}],O=n(),A=c!=="down"||window.scrollY<100;return a.jsxs(Z.header,{initial:{y:-100},animate:{y:A?0:-100},transition:{duration:.3,ease:[0,0,.2,1]},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${b?"bg-white/95 dark:bg-gray-900/95 backdrop-blur-md shadow-lg":"bg-white dark:bg-gray-800"}`,children:[a.jsx("nav",{className:"hidden lg:block",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-20",children:[a.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,ease:[0,0,.2,1]},className:"flex justify-center items-center",children:a.jsx(po,{size:"md",showText:!1,to:"/shop",clickable:!0})}),a.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center space-x-1 rtl:space-x-reverse",children:[S.map((C,T)=>a.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*T},children:a.jsxs(Ne,{to:C.to,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors relative group",children:[a.jsx(C.icon,{size:18}),a.jsx("span",{className:"font-medium",children:C.label}),a.jsx(Z.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gold-600 scale-x-0 group-hover:scale-x-100 origin-right",transition:{duration:.2}})]})},C.to)),a.jsxs("div",{ref:j,className:"relative",children:[a.jsxs(Z.button,{onMouseEnter:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(tx,{size:18}),a.jsx("span",{className:"font-medium",children:""}),a.jsx($C,{size:16})]}),a.jsx($s,{children:p&&a.jsx(Z.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:tg,onMouseLeave:()=>m(!1),className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsxs("div",{className:"p-2",children:[f.slice(0,8).map(C=>a.jsx(Ne,{to:`/shop/categories/${C._id}`,onClick:()=>m(!1),className:"block px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-300",children:C.name},C._id)),a.jsx(Ne,{to:"/shop/categories",onClick:()=>m(!1),className:"block px-4 py-3 rounded-lg hover:bg-gold-50 dark:hover:bg-gold-900/20 text-gold-600 font-semibold text-center border-t border-gray-200 dark:border-gray-700 mt-2",children:"  "})]})})})]})]}),a.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:"flex items-center space-x-3 rtl:space-x-reverse",children:[a.jsxs("div",{ref:P,className:"relative",children:[a.jsxs(Z.button,{onClick:()=>l("/shop/cart"),className:"relative p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:[a.jsx(Ot,{size:24}),O>0&&a.jsx(Z.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-gold-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:O})]}),a.jsx($s,{children:g&&s.length>0&&a.jsx(Z.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:tg,className:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsxs("div",{className:"p-4 max-h-96 overflow-y-auto",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:[" (",O,")"]}),a.jsx("div",{className:"space-y-3",children:s.slice(0,3).map((C,T)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[C.image&&a.jsx("img",{src:C.image,alt:C.name,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:C.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[C.quantity,"  ",C.price," TND"]})]})]},T))}),a.jsx(Ne,{to:"/shop/cart",onClick:()=>v(!1),className:"block mt-4 w-full bg-gold-600 text-white text-center py-2 rounded-lg hover:bg-gold-700 transition-colors font-semibold",children:" "})]})})})]}),a.jsx(Z.button,{onClick:o,className:"p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",whileHover:{scale:1.1,rotate:15},whileTap:{scale:.9},children:i?a.jsx(ho,{size:20}):a.jsx(uo,{size:20})}),t?a.jsxs("div",{ref:k,className:"relative",children:[a.jsx(Z.button,{onClick:()=>y(!x),className:"p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Mf,{size:24})}),a.jsx($s,{children:x&&a.jsx(Z.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:tg,className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:(r==null?void 0:r.name)||""}),a.jsx("p",{className:"text-xs text-gray-500",children:r==null?void 0:r.email})]}),a.jsx(Ne,{to:"/shop/profile",onClick:()=>y(!1),className:"block px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:" "}),a.jsx("button",{onClick:()=>{y(!1),e()},className:"w-full text-right px-4 py-2 rounded-lg hover:bg-gold-50 dark:hover:bg-gold-900/20 text-gold-600",children:" "})]})})})]}):a.jsx(Ne,{to:"/login",className:"bg-gold-600 text-white px-4 py-2 rounded-lg hover:bg-gold-700 transition-colors font-semibold",children:" "})]})]})})}),a.jsxs("nav",{className:"lg:hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx(Z.button,{onClick:()=>u(!0),whileTap:{scale:.9},children:a.jsx(bb,{size:24,className:"text-gray-700 dark:text-gray-300"})}),a.jsx("div",{className:"flex-1 flex justify-center",children:a.jsx(po,{size:"sm",showText:!1,to:"/shop",clickable:!0})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>l("/shop/cart"),className:"relative p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx(Ot,{size:24}),O>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-gold-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:O})]}),a.jsx("button",{onClick:o,className:"p-2 rounded-lg text-gray-700 dark:text-gray-300",children:i?a.jsx(ho,{size:20}):a.jsx(uo,{size:20})})]})]}),a.jsx($s,{children:d&&a.jsxs(a.Fragment,{children:[a.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>u(!1),className:"fixed inset-0 bg-black/50 z-40"}),a.jsx(Z.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 right-0 bottom-0 w-80 bg-white dark:bg-gray-800 shadow-xl z-50 overflow-y-auto",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("span",{className:"text-xl font-bold text-gold-600",children:""}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(bt,{size:24})})]}),a.jsxs("div",{className:"space-y-2",children:[S.map((C,T)=>a.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},children:a.jsxs(Ne,{to:C.to,onClick:()=>u(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[a.jsx(C.icon,{size:20}),a.jsx("span",{children:C.label})]})},C.to)),a.jsxs(Ne,{to:"/shop/categories",onClick:()=>u(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[a.jsx(tx,{size:20}),a.jsx("span",{children:""})]}),t?a.jsxs(a.Fragment,{children:[a.jsxs(Ne,{to:"/shop/profile",onClick:()=>u(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[a.jsx(Mf,{size:20}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:()=>{u(!1),e()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gold-50 dark:hover:bg-gold-900/20 text-gold-600",children:[a.jsx(vb,{size:20}),a.jsx("span",{children:" "})]})]}):a.jsx(Ne,{to:"/login",onClick:()=>u(!1),className:"block w-full bg-gold-600 text-white text-center px-4 py-3 rounded-lg hover:bg-gold-700 font-semibold",children:" "})]})]})})]})})]})]})},QF=({children:e,className:t=""})=>a.jsx(Z.div,{initial:"initial",animate:"animate",exit:"exit",variants:XF,className:t,children:e}),ZF=()=>{const{isAuthenticated:e,loading:t,user:r}=Xo(),{user:n,loading:s}=cn(),i=n||r,o=t||s,l=["cashier","store_cashier","saler"];return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):!e&&!i?a.jsx(Jr,{to:"/login",replace:!0}):i&&l.includes(i.role)?a.jsx(Jr,{to:"/pos",replace:!0}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(YF,{}),a.jsx("main",{className:"pt-20 lg:pt-24",children:a.jsx(QF,{children:a.jsx(Cv,{})})}),a.jsx("footer",{className:"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 mt-auto border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[a.jsx("div",{className:"mb-4 flex justify-center md:justify-start w-full",children:a.jsx(po,{size:"md",showText:!0,to:"/shop",clickable:!0})}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center md:text-right",children:"           ."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" "}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"/shop",className:"text-gray-600 dark:text-gray-400 hover:text-gold-600 dark:hover:text-gold-500 transition",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/shop/categories",className:"text-gray-600 dark:text-gray-400 hover:text-gold-600 dark:hover:text-gold-500 transition",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/shop/products",className:"text-gray-600 dark:text-gray-400 hover:text-gold-600 dark:hover:text-gold-500 transition",children:""})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" "}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("li",{children:": info@lesroisdubois.tn"}),a.jsx("li",{children:": +216 12 345 678"}),a.jsx("li",{children:": "})]})]})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 mt-8 pt-8 text-center text-sm",children:a.jsxs("p",{className:"text-gold-600 dark:text-gold-500",children:[" ",new Date().getFullYear()," Les Rois Du Bois.   ."]})})]})})]})},HN=e=>{switch(e){case"admin":return"/admin/dashboard";case"commercial":return"/commercial";case"saler":case"store_cashier":case"cashier":return"/pos";default:return"/shop"}},mu=({children:e,allowedRoles:t,blockedRoles:r=[]})=>{const{user:n,loading:s}=cn(),{user:i,loading:o}=Xo(),l=ln(),c=n||i;return s||o?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:" ..."})]})}):c?r&&r.length>0&&r.includes(c.role)?a.jsx(Jr,{to:HN(c.role),replace:!0}):t&&!t.includes(c.role)?a.jsx(Jr,{to:HN(c.role),replace:!0}):e:a.jsx(Jr,{to:"/login",replace:!0,state:{from:l.pathname}})},qN=e=>{switch(e){case"admin":return"/admin/dashboard";case"commercial":return"/commercial";case"saler":return"/pos";case"user":default:return"/shop"}},JF=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(""),[s,i]=N.useState(!1),{login:o,user:l}=cn(),{isDark:c,toggleTheme:d}=Go(),u=Se(),f=ln();N.useEffect(()=>{l&&u(qN(l.role))},[l,u]);const h=async p=>{var x;p.preventDefault(),i(!0);const m=await o(e,r);if(i(!1),m.success){const y=(x=f.state)!=null&&x.from?f.state.from:qN(m.user.role);u(y,{replace:!0})}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden p-4",children:[a.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ${c?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"}`}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:`absolute top-20 left-10 w-72 h-72 rounded-full blur-3xl opacity-20 animate-pulse ${c?"bg-gold-500":"bg-blue-400"}`,style:{animationDuration:"8s"}}),a.jsx("div",{className:`absolute bottom-20 right-10 w-96 h-96 rounded-full blur-3xl opacity-20 animate-pulse ${c?"bg-gold-400":"bg-purple-400"}`,style:{animationDuration:"10s",animationDelay:"2s"}}),a.jsx("div",{className:`absolute top-1/2 left-1/2 w-80 h-80 rounded-full blur-3xl opacity-15 animate-pulse ${c?"bg-gold-600":"bg-indigo-400"}`,style:{animationDuration:"12s",animationDelay:"4s"}})]}),a.jsx("button",{onClick:d,className:`fixed top-4 left-4 z-50 p-3 rounded-xl backdrop-blur-md transition-all duration-300 hover:scale-110 ${c?"bg-white/10 text-gold-400 hover:bg-white/20 border border-white/20":"bg-white/80 text-gray-700 hover:bg-white border border-gray-200/50 shadow-lg"}`,"aria-label":"Toggle theme",children:c?a.jsx(ho,{size:20}):a.jsx(uo,{size:20})}),a.jsx("div",{className:"relative z-10 w-full max-w-md",children:a.jsxs("div",{className:`backdrop-blur-xl rounded-3xl p-8 md:p-10 transition-all duration-500 ${c?"bg-gray-900/40 border border-white/10 shadow-2xl":"bg-white/70 border border-white/20 shadow-2xl"}`,style:{animation:"fadeInUp 0.6s ease-out"},children:[a.jsxs("div",{className:"text-center mb-8 space-y-4",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsxs("div",{className:"h-28 w-28 relative transition-all duration-300",children:[a.jsx("img",{src:"/logo-dark.webp",alt:"Les Rois Du Bois Logo",className:"h-full w-full object-contain relative z-10",onError:p=>{var m;if(p.target.src!=="/logo-light.webp")p.target.src="/logo-light.webp";else{p.target.style.display="none";const x=(m=p.target.parentElement)==null?void 0:m.querySelector(".logo-placeholder");x&&x.classList.remove("hidden")}}}),a.jsx("div",{className:"logo-placeholder hidden absolute inset-0 h-full w-full bg-gold-100 dark:bg-gold-900/20 rounded-lg flex items-center justify-center z-0",children:a.jsx("span",{className:"text-gold-600 dark:text-gold-400 font-bold text-xs",children:"LRDB"})})]})}),a.jsx("h1",{className:`text-3xl md:text-4xl font-bold bg-gradient-to-r ${c?"from-gold-400 to-gold-600 bg-clip-text text-transparent":"from-gold-600 to-gold-700 bg-clip-text text-transparent"}`,children:"Les Rois Du Bois"})]}),a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"email",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:" "}),a.jsx("input",{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),required:!0,placeholder:"example@email.com",className:`w-full px-4 py-3 rounded-xl border transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-0 ${c?"bg-white/10 border-white/20 text-white placeholder-gray-300 focus:border-gold-500 focus:ring-gold-500/50":"bg-white/60 border-gray-300/60 text-gray-900 placeholder-gray-600 focus:border-gold-500 focus:ring-gold-500/30"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"password",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:" "}),a.jsx("input",{id:"password",type:"password",value:r,onChange:p=>n(p.target.value),required:!0,placeholder:"",className:`w-full px-4 py-3 rounded-xl border transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-0 ${c?"bg-white/10 border-white/20 text-white placeholder-gray-300 focus:border-gold-500 focus:ring-gold-500/50":"bg-white/60 border-gray-300/60 text-gray-900 placeholder-gray-600 focus:border-gold-500 focus:ring-gold-500/30"}`})]}),a.jsx("button",{type:"submit",disabled:s,className:`w-full py-3.5 rounded-xl font-semibold text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${c?"bg-gradient-to-r from-gold-600 to-gold-700 hover:from-gold-500 hover:to-gold-600 shadow-lg shadow-gold-500/25 hover:shadow-gold-500/40 hover:scale-[1.02] active:scale-[0.98]":"bg-gradient-to-r from-gold-600 to-gold-700 hover:from-gold-500 hover:to-gold-600 shadow-lg shadow-gold-500/30 hover:shadow-gold-500/50 hover:scale-[1.02] active:scale-[0.98]"}`,children:s?"  ...":" "})]})]})})]})},eB="",ue=(e="")=>e?e.startsWith("http")?e:`${eB}${e}`:"",tB=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(null),[s,i]=N.useState(!0);return N.useEffect(()=>{(async()=>{var l,c,d,u;try{const f=await W.get("/homepage/hero");if((l=f.data)!=null&&l.success&&((c=f.data)!=null&&c.data)){const h=f.data.data;if(n(h),h.hero_image)t(ue(h.hero_image));else{const m=(d=(await Ve.get("/products/new?limit=1")).data.data)==null?void 0:d[0];(u=m==null?void 0:m.images)!=null&&u[0]&&t(ue(m.images[0]))}}}catch{}finally{i(!1)}})()},[]),a.jsxs("section",{className:"relative min-h-[90vh] bg-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 dark:bg-gradient-to-br text-gray-900 dark:text-white overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx(Z.div,{className:"absolute top-0 -left-1/4 w-1/2 h-full bg-gold-600/5 dark:bg-gold-600/10 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0]},transition:{duration:20,repeat:1/0,ease:"linear"}}),a.jsx(Z.div,{className:"absolute bottom-0 -right-1/4 w-1/2 h-full bg-gold-500/5 dark:bg-gold-500/10 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,-50,0]},transition:{duration:15,repeat:1/0,ease:"linear"}})]}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(Z.div,{initial:"hidden",animate:"visible",variants:Zs,transition:{duration:.8},className:"space-y-8 text-center lg:text-right",children:[a.jsxs(Z.div,{variants:Zs,transition:{delay:.2},children:[a.jsx(Z.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"text-5xl md:text-6xl lg:text-7xl font-bold leading-tight",children:a.jsx("span",{className:"bg-gradient-to-r from-gold-600 via-gold-500 to-gold-700 dark:from-gold-300 dark:via-gold-400 dark:to-gold-200 bg-clip-text text-transparent",children:(r==null?void 0:r.hero_title)||" "})}),a.jsx(Z.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"text-xl md:text-2xl text-gray-800 dark:text-gray-300 mt-6 leading-relaxed",children:(r==null?void 0:r.hero_subtitle)||"     "}),(r==null?void 0:r.hero_description)&&a.jsx(Z.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-lg text-gray-600 dark:text-gray-400 mt-4 max-w-xl mx-auto lg:mx-0",children:r.hero_description})]}),a.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.7},className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[(r==null?void 0:r.hero_cta_text)&&a.jsx(Z.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Ne,{to:r.hero_cta_link||"/shop/products",className:"group bg-gold-600 hover:bg-gold-700 text-white px-8 py-4 rounded-xl text-lg font-semibold transition-all inline-flex items-center justify-center gap-2 shadow-lg shadow-gold-500/50 hover:shadow-xl hover:shadow-gold-500/60",children:[r.hero_cta_text,a.jsx(Rr,{className:"group-hover:translate-x-1 transition-transform",size:20})]})}),(r==null?void 0:r.hero_cta2_text)&&a.jsx(Z.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Ne,{to:r.hero_cta2_link||"/shop/special-products",className:"bg-gray-100 dark:bg-white/10 hover:bg-gray-200 dark:hover:bg-white/20 backdrop-blur-sm text-gray-900 dark:text-white border-2 border-gray-300 dark:border-white/30 hover:border-gray-400 dark:hover:border-white/50 px-8 py-4 rounded-xl text-lg font-semibold transition-all inline-flex items-center justify-center gap-2",children:[r.hero_cta2_text,a.jsx(Qs,{size:20})]})})]})]}),a.jsx(Z.div,{initial:"hidden",animate:"visible",variants:KF,transition:{duration:1,delay:.3},className:"relative flex items-center justify-center",children:a.jsx(Z.div,{className:"relative w-full max-w-lg",animate:{y:[0,-20,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:a.jsxs(Z.div,{className:"relative rounded-3xl overflow-hidden shadow-2xl",whileHover:{scale:1.02,rotate:1},transition:{duration:.3},children:[a.jsx("div",{className:"aspect-square bg-gradient-to-br from-gold-600/20 to-gold-800/20 backdrop-blur-sm border border-gold-500/30 rounded-3xl overflow-hidden p-8",children:e?a.jsx(Z.img,{src:e,alt:"Hero Product",className:"w-full h-full object-cover rounded-2xl",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},transition:{duration:.8},whileHover:{scale:1.05}}):a.jsx(Z.div,{className:"w-full h-full bg-gradient-to-br from-gold-500/30 to-gold-700/30 rounded-2xl flex items-center justify-center",animate:{background:["linear-gradient(135deg, rgba(217, 119, 6, 0.3), rgba(146, 64, 14, 0.3))","linear-gradient(135deg, rgba(217, 119, 6, 0.4), rgba(146, 64, 14, 0.4))","linear-gradient(135deg, rgba(217, 119, 6, 0.3), rgba(146, 64, 14, 0.3))"]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:a.jsx(Qs,{className:"text-gold-400",size:120})})}),a.jsx(Z.div,{className:"absolute -top-4 -right-4 w-24 h-24 bg-gold-500/20 rounded-full blur-xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),a.jsx(Z.div,{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-gold-600/20 rounded-full blur-xl",animate:{scale:[1,1.3,1],opacity:[.4,.7,.4]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]})})})]})})]})},rB=({product:e,onAdd:t})=>{var s;const r=(s=e.images)!=null&&s[0]?ue(e.images[0]):null,n=i=>{i.preventDefault(),i.stopPropagation(),e.stock>0&&t&&t({...e,quantity:1})};return a.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-gold-300 dark:hover:border-gold-600 hover:shadow-xl transition-all h-full flex flex-col relative",children:[a.jsxs(Ne,{to:`/shop/products/${e._id}`,className:"flex flex-col flex-1",children:[a.jsxs("div",{className:"relative h-48 bg-gray-100 dark:bg-gray-700 overflow-hidden rounded-t-xl",children:[r?a.jsx("img",{src:r,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:" "}),e.stock<=0&&a.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold",children:""})})]}),a.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 line-clamp-2 mb-2 group-hover:text-gold-600 transition-colors min-h-[3rem]",children:e.name}),a.jsx("div",{className:"mt-auto",children:a.jsxs("p",{className:"text-gold-600 font-bold text-xl",children:[e.wholesalePrice||e.price," TND"]})})]})]}),a.jsx("div",{className:"p-4 pt-0",children:e.stock>0?a.jsxs(Z.button,{onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-gold-600 text-white py-2 rounded-lg hover:bg-gold-700 transition-colors flex items-center justify-center gap-2 font-semibold","aria-label":"Add to cart",children:[a.jsx(Ot,{size:18}),a.jsx("span",{children:" "})]}):a.jsx("button",{disabled:!0,className:"w-full bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 py-2 rounded-lg cursor-not-allowed font-semibold",children:" "})})]})},hm=({className:e="",count:t=1,variant:r="default"})=>{const n={default:"h-4 bg-gray-200 dark:bg-gray-700 rounded",card:"h-64 bg-gray-200 dark:bg-gray-700 rounded-xl",avatar:"h-12 w-12 bg-gray-200 dark:bg-gray-700 rounded-full",text:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"},s=n[r]||n.default;return a.jsx(a.Fragment,{children:Array.from({length:t}).map((i,o)=>a.jsx(Z.div,{className:`${s} ${e}`,animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:o*.1}},o))})},nB=({products:e=[],featuredProducts:t=[],loading:r=!1,onAddToCart:n})=>{const i=(o,l,c,d,u=!1)=>{if(r)return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[l,a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:o})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((h,p)=>a.jsx(hm,{variant:"card",className:"h-80"},p))})]});const f=c.slice(0,8);return!f||f.length===0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[l,a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:o})]}),a.jsxs(Ne,{to:d,className:"text-gold-600 hover:text-gold-700 dark:text-gold-400 dark:hover:text-gold-300 font-semibold text-sm flex items-center gap-1",children:[" ",a.jsx(Rr,{size:16})]})]}),a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"    "})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[l,a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:o})]}),a.jsxs(Ne,{to:d,className:"text-gold-600 hover:text-gold-700 dark:text-gold-400 dark:hover:text-gold-300 font-semibold text-sm flex items-center gap-1",children:[" ",a.jsx(Rr,{size:16})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map((h,p)=>!h||!h._id?null:a.jsxs("div",{className:"relative h-full",children:[u&&p<3&&a.jsxs("div",{className:"absolute -top-2 -right-2 z-30 bg-gold-600 text-white px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-1 shadow-xl whitespace-nowrap",children:[a.jsx(UF,{className:"fill-white",size:14}),a.jsx("span",{children:" "})]}),a.jsx(rB,{product:h,onAdd:n})]},`${h._id}-${p}`))})]})};return a.jsx("section",{className:"py-12 bg-white dark:bg-gray-800",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-12",children:[i(" ",a.jsx(Nr,{className:"text-gold-600",size:24}),e,"/shop/products",!0),i(" ",a.jsx(Qs,{className:"text-blue-600",size:24}),t,"/shop/products?sort=newest",!1)]})})},aB=({categories:e=[],loading:t=!1})=>t?a.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-gray-900 dark:text-gray-100",children:""}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[...Array(6)].map((r,n)=>a.jsx(hm,{variant:"card",className:"h-40"},n))})]})}):e.length===0?null:a.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(Z.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Zs,className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"    "})]}),a.jsx(Z.div,{variants:fm,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.slice(0,12).map((r,n)=>a.jsx(Z.div,{variants:Zs,whileHover:GF,className:"group",children:a.jsxs(Ne,{to:`/shop/categories/${r._id}`,className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-2xl p-6 text-center hover:from-gold-50 hover:to-gold-100 dark:hover:from-gold-900/20 dark:hover:to-gold-800/20 transition-all duration-300 block shadow-md hover:shadow-xl border border-gray-200 dark:border-gray-600 hover:border-gold-300 dark:hover:border-gold-600",children:[r.image?a.jsx(Z.img,{src:ue(r.image),alt:r.name,className:"w-20 h-20 mx-auto mb-4 rounded-2xl object-cover shadow-lg",whileHover:{scale:1.15,rotate:5},transition:{duration:.3}}):a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 rounded-2xl shadow-lg"}),a.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 group-hover:text-gold-600 transition-colors",children:r.name})]})},r._id))})]})}),sB=()=>a.jsxs("section",{className:"relative py-20 bg-gradient-to-r from-gray-100 via-white to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0",children:a.jsx(Z.div,{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-gray-200/30 to-gray-100/30 dark:from-gray-800/50 dark:to-gray-600/50",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"linear"}})}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs(Z.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Zs,className:"text-center space-y-8",children:[a.jsx(Z.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white",children:"  "}),a.jsx(Z.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"text-xl md:text-2xl text-gray-700 dark:text-gray-300 max-w-3xl mx-auto",children:"        "}),a.jsxs(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[a.jsx(Z.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Ne,{to:"/shop/products",className:"group bg-gold-600 text-white hover:bg-gold-700 dark:bg-gold-600 dark:hover:bg-gold-700 px-10 py-4 rounded-xl text-lg font-semibold transition-all inline-flex items-center gap-2 shadow-lg",children:[" ",a.jsx(Rr,{className:"group-hover:translate-x-1 transition-transform",size:20})]})}),a.jsx(Z.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Ne,{to:"/shop/special-products",className:"group bg-gray-800 dark:bg-white/10 hover:bg-gray-700 dark:hover:bg-white/20 backdrop-blur-sm text-white border-2 border-gray-700 dark:border-white/30 hover:border-gray-600 dark:hover:border-white/50 px-10 py-4 rounded-xl text-lg font-semibold transition-all inline-flex items-center gap-2",children:[" ",a.jsx(Qs,{className:"group-hover:rotate-12 transition-transform",size:20})]})})]})]})})]}),iB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,i]=N.useState([]),[o,l]=N.useState(!0),{addToCart:c}=ds();N.useEffect(()=>{d()},[]);const d=async()=>{try{const[f,h,p]=await Promise.all([W.get("/homepage/featured?limit=12").catch(()=>Ve.get("/products/new?limit=12")),W.get("/homepage/top-sellers?limit=12").catch(()=>Ve.get("/products/top-selling?limit=12")),Ve.get("/categories")]);n(f.data.data||[]),t(h.data.data||[]),i(p.data.data||[])}catch(f){console.error("Error fetching data:",f)}finally{l(!1)}},u=f=>{var g,v;const h=f.selectedVariant&&f.selectedVariant.stock!==void 0?f.selectedVariant.stock:f.stock||0;if(h<=0){E.error("    ");return}const p=((g=f.selectedVariant)==null?void 0:g.additionalPrice)||0,m=f.variantPrice||f.price+p,x=f.displayImage||((v=f.images)==null?void 0:v[0]),y=Math.min(f.quantity||1,h);(f.quantity||1)>h&&E.warning(`  : ${h}.   ${h} `),c({productId:f._id,productType:"regular",name:f.name,price:m,image:ue(x),quantity:y,stock:h,variant:f.selectedVariant?{name:f.selectedVariant.name,value:f.selectedVariant.value,image:f.selectedVariant.image,stock:f.selectedVariant.stock}:void 0}),E.success("   ")};return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(tB,{}),a.jsx(nB,{products:e,featuredProducts:r,loading:o,onAddToCart:u}),a.jsx(aB,{categories:s,loading:o}),a.jsx(sB,{})]})},oB=({category:e})=>a.jsxs(Ne,{to:`/shop/categories/${e._id}`,className:"group bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden",children:[a.jsx("div",{className:"h-32 bg-gray-100 dark:bg-gray-700 overflow-hidden",children:e.image?a.jsx("img",{src:ue(e.image),alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition",loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"No image"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.name}),e.description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mt-2",children:e.description})]})]}),lB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(""),[s,i]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const d=await Ve.get("/categories");t(d.data.data||[])}catch(d){console.error("Failed to load categories",d)}finally{i(!1)}})()},[]);const o=N.useMemo(()=>r.trim()?e.filter(c=>c.name.toLowerCase().includes(r.toLowerCase())):e,[e,r]),l=N.useMemo(()=>o.slice(0,5),[o]);return a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen pb-16",children:[a.jsx("section",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-3",children:"     ."})]}),a.jsxs("div",{className:"w-full md:w-96 relative",children:[a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-xl px-4 py-3 shadow-inner",children:[a.jsx(cr,{className:"text-gray-400",size:18}),a.jsx("input",{value:r,onChange:c=>n(c.target.value),placeholder:"  ...",className:"bg-transparent outline-none px-3 text-gray-900 dark:text-gray-100 w-full"})]}),r&&l.length>0&&a.jsx("div",{className:"absolute mt-2 w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 z-10",children:l.map(c=>a.jsx("button",{onClick:()=>n(c.name),className:"w-full text-right px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-100",children:c.name},c._id))})]})]})})}),a.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gold-50 dark:bg-gold-900/20 text-gold-700 flex items-center justify-center",children:a.jsx(tx,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase font-semibold text-gold-600",children:""}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "})]})]}),s?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((c,d)=>a.jsx("div",{className:"bg-white dark:bg-gray-800 h-52 rounded-xl animate-pulse"},d))}):a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[o.map(c=>a.jsx(oB,{category:c},c._id)),!o.length&&a.jsx("div",{className:"col-span-full text-center text-gray-500 dark:text-gray-400 py-10",children:"No categories match your search."})]})]})]})},WC=({isOpen:e,onClose:t,product:r,onAddToCart:n})=>{const[s,i]=N.useState(null),[o,l]=N.useState(1),[c,d]=N.useState(null);if(N.useEffect(()=>{var p,m,x;r&&r.variants&&r.variants.length>0?(i(r.variants[0]),d(((p=r.variants[0])==null?void 0:p.image)||((m=r.images)==null?void 0:m[0]))):d((x=r==null?void 0:r.images)==null?void 0:x[0]),l(1)},[r]),!r)return null;const u=p=>{var m;i(p),d((p==null?void 0:p.image)||((m=r.images)==null?void 0:m[0]))},f=()=>{if(r.variants&&r.variants.length>0&&!s)return;if(s&&s.stock!==void 0&&o>s.stock){E.error(` : ${s.stock}`);return}const p=r.wholesalePrice||r.price;n({...r,selectedVariant:s,variantPrice:p,displayImage:c,quantity:o}),t()},h=r.wholesalePrice||r.price;return a.jsx($s,{children:e&&a.jsx(a.Fragment,{children:a.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:a.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:p=>p.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between z-10",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:r.name}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(bt,{size:24,className:"text-gray-600 dark:text-gray-400"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"relative h-64 bg-gray-100 dark:bg-gray-700 rounded-xl overflow-hidden",children:c?a.jsx("img",{src:ue(c),alt:r.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"  "})}),r.variants&&r.variants.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r.variantName?` ${r.variantName}`:" "}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",r.variants.length,"  )"]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:r.variants.map((p,m)=>a.jsxs(Z.button,{onClick:()=>u(p),disabled:p.stock!==void 0&&p.stock<=0,whileHover:{scale:p.stock>0?1.05:1},whileTap:{scale:p.stock>0?.95:1},className:`relative overflow-hidden rounded-xl border-2 transition-all p-2 ${(s==null?void 0:s.value)===p.value?"border-gold-500 ring-2 ring-gold-300 bg-gold-50 dark:bg-gold-900/20":p.stock!==void 0&&p.stock<=0?"border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 opacity-50 cursor-not-allowed":"border-gray-200 dark:border-gray-700 hover:border-gold-500 bg-white dark:bg-gray-700"}`,children:[p.image?a.jsx("img",{src:ue(p.image),alt:p.value,className:"w-full h-24 object-cover rounded-lg mb-2"}):a.jsx("div",{className:"w-full h-24 bg-gray-200 dark:bg-gray-600 rounded-lg mb-2 flex items-center justify-center text-xs text-gray-600 dark:text-gray-400",children:p.value}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:p.value}),p.stock!==void 0&&a.jsx("p",{className:`text-xs mt-1 ${p.stock>0?"text-green-600":"text-red-600"}`,children:p.stock>0?`: ${p.stock}`:" "})]}),(s==null?void 0:s.value)===p.value&&a.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-gold-500 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},m))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>l(p=>Math.max(1,p-1)),className:"w-10 h-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center font-semibold",children:"-"}),a.jsx("span",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 w-12 text-center",children:o}),a.jsx("button",{onClick:()=>{const p=(s==null?void 0:s.stock)!==void 0?s.stock:1/0;l(m=>Math.min(p,m+1))},disabled:(s==null?void 0:s.stock)!==void 0&&o>=s.stock,className:"w-10 h-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]}),(s==null?void 0:s.stock)!==void 0&&o>s.stock&&a.jsx("p",{className:"text-xs text-red-600",children:"    "})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-base text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"text-2xl font-bold text-gold-600",children:[r.wholesalePrice||r.price," TND"]})]}),s&&s.stock!==void 0&&a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:" :"}),a.jsx("span",{className:`text-xs font-medium ${s.stock>0?"text-green-600":"text-red-600"}`,children:s.stock})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:":"}),a.jsxs("span",{className:"text-2xl font-bold text-gold-600",children:[h*o," TND"]})]})]})]}),a.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 flex gap-4",children:[a.jsx("button",{onClick:t,className:"flex-1 px-6 py-3 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium",children:""}),a.jsxs("button",{onClick:f,disabled:r.variants&&r.variants.length>0&&!s,className:"flex-1 px-6 py-3 rounded-lg bg-gold-600 text-white hover:bg-gold-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center gap-2",children:[a.jsx(Ot,{size:20}),"  "]})]})]})})})})},cB=({product:e,onAdd:t,index:r=0})=>{var c;const[n,s]=N.useState(!1),i=(c=e.images)!=null&&c[0]?ue(e.images[0]):null,o=d=>{d.preventDefault(),d.stopPropagation(),!(e.stock<=0)&&(e.variants&&e.variants.length>0?s(!0):t&&t({...e,quantity:1}))},l=d=>{t&&t(d),s(!1)};return a.jsxs(Z.div,{initial:"hidden",animate:"visible",variants:Zs,transition:{delay:r*.1},className:`group bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-xl border overflow-hidden transition-all duration-300 ${e.stock<=0?"opacity-50 border-red-300 dark:border-red-700":"border-gray-100 dark:border-gray-700"}`,children:[a.jsx(Ne,{to:`/shop/products/${e._id}`,className:"block",children:a.jsxs(Z.div,{className:"relative h-64 bg-gray-100 dark:bg-gray-700 overflow-hidden",whileHover:e.stock>0?"hover":"",variants:{hover:{scale:1.05}},transition:{duration:.3},children:[i?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:i,alt:e.name,className:`w-full h-full object-cover ${e.stock<=0?"grayscale":""}`,loading:"lazy"}),e.stock<=0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-60",children:a.jsx("span",{className:"text-white font-bold text-xl",children:""})})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"  "}),e.stock>0&&a.jsx(Z.div,{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors",initial:!1})]})}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx(Ne,{to:`/shop/products/${e._id}`,children:a.jsx("h3",{className:`text-lg font-semibold line-clamp-2 transition-colors ${e.stock<=0?"text-gray-400 dark:text-gray-500 line-through":"text-gray-900 dark:text-gray-100 group-hover:text-gold-600"}`,children:e.name})}),e.variants&&e.variants.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[e.variants.length,"  "]}),a.jsx("span",{className:"text-xs text-gold-600",children:""}),a.jsx("span",{className:"text-xs text-gold-600 cursor-pointer hover:underline",onClick:d=>{d.preventDefault(),d.stopPropagation(),s(!0)},children:" "})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"text-gold-600 font-bold text-lg",children:[e.wholesalePrice||e.price," TND"]})]}),e.stock>0&&e.stock<=10&&a.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-semibold",children:["  : ",e.stock,"  "]}),e.stock<=0&&a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-semibold",children:"   "}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-1",children:[a.jsx(Z.button,{whileHover:e.stock>0?rx:{},whileTap:e.stock>0?{scale:.9}:{},onClick:o,disabled:e.stock<=0,className:`p-2 rounded-lg transition-colors ${e.stock<=0?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-gold-600 text-white hover:bg-gold-700"}`,"aria-label":"Add to cart",children:a.jsx(Ot,{size:18})}),a.jsx(Ne,{to:`/shop/products/${e._id}`,children:a.jsx(Z.button,{whileHover:rx,whileTap:{scale:.9},className:"p-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":"View details",children:a.jsx(Cn,{size:18})})})]})]})]}),a.jsx(WC,{isOpen:n,onClose:()=>s(!1),product:e,onAddToCart:l})]})},dB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,i]=N.useState(!0),[o,l]=N.useState(1),[c,d]=N.useState(1),[u,f]=N.useState({search:"",category:"",minPrice:"",maxPrice:"",sort:"newest"}),{addToCart:h}=ds();N.useEffect(()=>{(async()=>{try{const g=await Ve.get("/categories");n(g.data.data||[])}catch{}})()},[]),N.useEffect(()=>{(async()=>{var g;i(!0);try{const v=await Ve.get("/products",{params:{...u,page:o,limit:9}});t(v.data.data||[]),d(((g=v.data.pagination)==null?void 0:g.pages)||1)}catch{}finally{i(!1)}})()},[u,o]);const p=(y,g)=>{l(1),f(v=>({...v,[y]:g}))},m=()=>{f({search:"",category:"",minPrice:"",maxPrice:"",sort:"newest"}),l(1)},x=y=>{var k,P;const g=y.selectedVariant&&y.selectedVariant.stock!==void 0?y.selectedVariant.stock:y.stock||0;if(g<=0){E.error("    ");return}const v=((k=y.selectedVariant)==null?void 0:k.additionalPrice)||0,b=y.variantPrice||y.price+v,w=y.displayImage||((P=y.images)==null?void 0:P[0]),j=Math.min(y.quantity||1,g);(y.quantity||1)>g&&E.warning(`  : ${g}.   ${g} `),h({productId:y._id,productType:"regular",name:y.name,price:b,image:ue(w),quantity:j,stock:g,variant:y.selectedVariant?{name:y.selectedVariant.name,value:y.selectedVariant.value,stock:y.selectedVariant.stock}:void 0}),E.success("   ")};return a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"     ."})]}),a.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 hover:border-gold-500",children:[a.jsx(LF,{size:16})," "]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsxs("aside",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gold-50 dark:bg-gold-900/20 text-gold-700 flex items-center justify-center",children:a.jsx(Dc,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase font-semibold text-gold-600",children:""}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:" "})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("input",{value:u.search,onChange:y=>p("search",y.target.value),placeholder:"  ...",className:"mt-2 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsxs("select",{value:u.category,onChange:y=>p("category",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"",children:""}),r.map(y=>a.jsx("option",{value:y._id,children:y.name},y._id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("input",{type:"number",value:u.minPrice,onChange:y=>p("minPrice",y.target.value),placeholder:"0",className:"mt-2 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("input",{type:"number",value:u.maxPrice,onChange:y=>p("maxPrice",y.target.value),placeholder:"1000",className:"mt-2 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2",children:[a.jsx(zF,{size:16,className:"text-gray-400"}),a.jsxs("select",{value:u.sort,onChange:y=>p("sort",y.target.value),className:"w-full bg-transparent outline-none text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"newest",children:""}),a.jsx("option",{value:"price-low",children:": "}),a.jsx("option",{value:"price-high",children:": "}),a.jsx("option",{value:"name",children:""})]})]})]})]})]}),a.jsxs("section",{className:"lg:col-span-3",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(xb,{size:16,className:"text-gold-600"})," ",e.length," "]})}),s?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((y,g)=>a.jsx(hm,{variant:"card",className:"h-80"},g))}):a.jsxs(a.Fragment,{children:[a.jsxs(Z.div,{variants:fm,initial:"hidden",animate:"visible",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map((y,g)=>a.jsx(cB,{product:y,index:g,onAdd:()=>x(y)},y._id)),!e.length&&a.jsx("div",{className:"col-span-full text-center text-gray-500 dark:text-gray-400 py-10",children:"  ."})]}),c>1&&a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-8",children:[a.jsx("button",{disabled:o===1,onClick:()=>l(y=>Math.max(1,y-1)),className:"px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 disabled:opacity-50",children:""}),a.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:[" ",o,"  ",c]}),a.jsx("button",{disabled:o===c,onClick:()=>l(y=>Math.min(c,y+1)),className:"px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 disabled:opacity-50",children:""})]})]})]})]})]})})},HC=({product:e,onAdd:t})=>{var l;const{addToCart:r}=ds(),[n,s]=N.useState(!1),i=()=>{var c;if(e.variants&&e.variants.length>0)s(!0);else{const d={productId:e._id,productType:"regular",name:e.name,price:e.price,image:ue((c=e.images)==null?void 0:c[0]),quantity:1};r(d),t&&t(d)}},o=c=>{var m,x;const d=((m=c.selectedVariant)==null?void 0:m.additionalPrice)||0,u=c.variantPrice||e.price+d,f=c.displayImage||((x=e.images)==null?void 0:x[0]),h=c.quantity||1,p={productId:e._id,productType:"regular",name:e.name,price:u,image:ue(f),quantity:h,variant:c.selectedVariant?{name:c.selectedVariant.name,value:c.selectedVariant.value,image:c.selectedVariant.image,additionalPrice:c.selectedVariant.additionalPrice||0}:void 0};r(p),t&&t(p),s(!1)};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden",children:[a.jsx("div",{className:"h-48 bg-gray-100 dark:bg-gray-700 overflow-hidden",children:(l=e.images)!=null&&l.length?a.jsx("img",{src:ue(e.images[0]),alt:e.name,className:"w-full h-full object-cover",loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"No image"})}),a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx("div",{className:"flex items-start justify-between gap-2",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 line-clamp-2",children:e.name})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"text-gold-600 font-bold text-lg",children:[e.wholesalePrice||e.price," TND"]})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsx(Ne,{to:`/shop/products/${e._id}`,className:"text-sm font-semibold text-gold-600 hover:text-gold-700",children:" "}),a.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-gold-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-gold-700 transition",children:[a.jsx(Ot,{size:16}),"Add"]})]}),e.variants&&e.variants.length>0&&a.jsxs("div",{className:"text-xs text-gold-600 mt-1",children:[e.variants.length,"  "]})]}),a.jsx(WC,{isOpen:n,onClose:()=>s(!1),product:e,onAddToCart:o})]})},uB=()=>{var g;const{id:e}=On(),t=Se(),[r,n]=N.useState(null),[s,i]=N.useState([]),[o,l]=N.useState(1),[c,d]=N.useState(null),[u,f]=N.useState(null),[h,p]=N.useState(!0),{addToCart:m}=ds();N.useEffect(()=>{(async()=>{var b,w,j,k,P;p(!0);try{const O=(await Ve.get(`/products/${e}`)).data.data;if(n(O),O!=null&&O.variants&&O.variants.length>0?(d(O.variants[0]),f(((b=O.variants[0])==null?void 0:b.image)||((w=O.images)==null?void 0:w[0]))):f((j=O.images)==null?void 0:j[0]),(k=O==null?void 0:O.category)!=null&&k._id){const A=await Ve.get("/products",{params:{category:O.category._id,limit:4}});i(((P=A.data.data)==null?void 0:P.filter(C=>C._id!==e))||[])}}catch{}finally{p(!1)}})()},[e]);const x=()=>{var k;if(!r)return;if(r.variants&&r.variants.length>0&&!c){E.error("      ");return}const v=c&&c.stock!==void 0?c.stock:r.stock||0;if(v<=0){E.error("    ");return}let b=o;o>v&&(E.warning(`  : ${v}.   ${v} `),b=v);const w=r.price;m({productId:r._id,productType:"regular",name:r.name,price:w,image:ue(u||((k=r.images)==null?void 0:k[0])),quantity:b,stock:v,variant:c?{value:c.value,image:c.image,stock:c.stock}:void 0});const j=c?` (${c.value})`:"";E.success(`  ${r.name}${j} (${b})  `)},y=v=>{var b;d(v),f((v==null?void 0:v.image)||((b=r.images)==null?void 0:b[0]))};return h?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 animate-pulse",children:[a.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 h-96 rounded-2xl"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-800 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-1/2"}),a.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-800 rounded"})]})]})}):r?a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 relative",children:[u?a.jsx("img",{src:ue(u),alt:r.name,className:"w-full h-full object-cover",loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"  "}),c&&a.jsx("div",{className:"absolute top-4 right-4 bg-gold-600 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg",children:c.name||c.value})]}),((g=r.images)==null?void 0:g.length)>1&&a.jsx("div",{className:"grid grid-cols-4 gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:r.images.map((v,b)=>a.jsx("button",{onClick:()=>{var j;f(v);const w=(j=r.variants)==null?void 0:j.find(k=>k.image===v);w&&d(w)},className:`h-20 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden border-2 transition-all ${u===v?"border-gold-600 ring-2 ring-gold-300":"border-transparent hover:border-gold-500"}`,children:a.jsx("img",{src:ue(v),alt:`${r.name}-${b}`,className:"w-full h-full object-cover"})},b))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:r.name}),a.jsx("div",{className:"mt-4 space-y-3",children:a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-base text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"text-2xl font-bold text-gold-600",children:[r.wholesalePrice||r.price," TND"]})]}),c&&c.stock!==void 0&&a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-gray-600",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:" :"}),a.jsx("span",{className:`text-xs font-medium ${c.stock>0?"text-green-600":"text-red-600"}`,children:c.stock})]}),r.variants&&r.variants.length>0&&!c&&a.jsx("div",{className:"text-sm text-gold-600 dark:text-gold-400 pt-2",children:"     "})]})})]}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:r.description}),r.variants&&r.variants.length>0&&a.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl border-2 border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-base font-bold text-gray-900 dark:text-gray-100",children:"  :"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:c?"  ":""})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:r.variants.map((v,b)=>a.jsxs("button",{onClick:()=>{if(v.stock!==void 0&&v.stock<=0){E.error("     ");return}y(v)},disabled:v.stock!==void 0&&v.stock<=0,className:`relative p-3 rounded-xl border-2 text-right transition-all ${v.stock!==void 0&&v.stock<=0?"opacity-50 cursor-not-allowed border-red-300 dark:border-red-700":(c==null?void 0:c.value)===v.value?"border-gold-500 bg-gold-50 dark:bg-gold-900/20 text-gold-700 shadow-lg ring-2 ring-gold-300 hover:scale-105":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-200 hover:border-gold-500 bg-white dark:bg-gray-800 hover:scale-105"}`,children:[v.image?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:ue(v.image),alt:v.value,className:`h-24 w-full object-cover rounded-lg mb-2 ${v.stock!==void 0&&v.stock<=0?"grayscale":""}`}),v.stock!==void 0&&v.stock<=0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-60 rounded-lg",children:a.jsx("span",{className:"text-white font-bold text-sm",children:""})})]}):a.jsx("div",{className:`h-24 w-full rounded-lg mb-2 flex items-center justify-center text-xs ${v.stock!==void 0&&v.stock<=0?"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400":"bg-gray-200 dark:bg-gray-700 text-gray-400"}`,children:v.stock!==void 0&&v.stock<=0?"":v.value}),a.jsx("div",{className:`font-semibold text-sm mb-1 ${v.stock!==void 0&&v.stock<=0?"line-through text-gray-400":""}`,children:v.value}),v.stock!==void 0?a.jsx("div",{className:`text-xs font-medium ${v.stock>0?v.stock<=10?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:v.stock>0?`: ${v.stock}${v.stock<=10?" ()":""}`:" "}):a.jsx("div",{className:"text-xs text-gray-500",children:" "}),(c==null?void 0:c.value)===v.value&&a.jsx("div",{className:"absolute top-2 left-2 w-6 h-6 bg-gold-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},b))}),!c&&a.jsx("p",{className:"text-sm text-gold-600 dark:text-gold-400 font-medium text-center",children:"       "})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl",children:[a.jsx("button",{onClick:()=>l(v=>Math.max(1,v-1)),className:"p-3 text-gray-600 dark:text-gray-300",children:a.jsx(Li,{size:18})}),a.jsx("span",{className:"w-12 text-center font-semibold text-gray-900 dark:text-gray-100",children:o}),a.jsx("button",{onClick:()=>{const v=c&&c.stock!==void 0?c.stock:r.stock||999;l(b=>Math.min(v,b+1))},disabled:c&&c.stock!==void 0&&o>=c.stock||!c&&o>=(r.stock||0),className:"p-3 text-gray-600 dark:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(vt,{size:18})})]}),(c&&c.stock!==void 0?c.stock:r.stock||0)<=10&&a.jsxs("span",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-semibold",children:[" : ",c&&c.stock!==void 0?c.stock:r.stock||0]}),o>(c&&c.stock!==void 0?c.stock:r.stock||0)&&a.jsx("span",{className:"text-xs text-red-600 dark:text-red-400 font-semibold",children:"    "}),a.jsx("button",{onClick:x,disabled:r.variants&&r.variants.length>0&&!c,className:`flex-1 px-6 py-3 rounded-xl font-semibold transition ${r.variants&&r.variants.length>0&&!c?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gold-600 text-white hover:bg-gold-700"}`,children:r.variants&&r.variants.length>0&&!c?"  ":"  "})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(xb,{size:16,className:"text-gold-600"}),a.jsx(Ne,{to:"/shop/products",className:"font-semibold text-gold-600 hover:text-gold-700",children:" "})]})]})]}),s.length>0&&a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx(Ne,{to:"/shop/products",className:"text-gold-600 hover:text-gold-700 text-sm font-semibold",children:" "})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(v=>a.jsx(HC,{product:v},v._id))})]})]})}):a.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"  ."}),a.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded-lg bg-gold-600 text-white hover:bg-gold-700",children:""})]})},fB=()=>{const{id:e}=On(),[t,r]=N.useState(null),[n,s]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState({minPrice:"",maxPrice:"",sort:"newest"});N.useEffect(()=>{(async()=>{var f,h;o(!0);try{const p=await Ve.get(`/categories/${e}`);r((f=p.data.data)==null?void 0:f.category),s(((h=p.data.data)==null?void 0:h.products)||[])}catch{}finally{o(!1)}})()},[e]);const d=N.useMemo(()=>{let u=[...n];return l.minPrice&&(u=u.filter(f=>f.price>=Number(l.minPrice))),l.maxPrice&&(u=u.filter(f=>f.price<=Number(l.maxPrice))),l.sort==="price-low"&&u.sort((f,h)=>f.price-h.price),l.sort==="price-high"&&u.sort((f,h)=>h.price-f.price),l.sort==="name"&&u.sort((f,h)=>f.name.localeCompare(h.name)),u},[n,l]);return a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:t==null?void 0:t.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:t==null?void 0:t.description})]}),a.jsx(Ne,{to:"/shop/categories",className:"text-gold-600 font-semibold",children:" "})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl p-4",children:[a.jsx("input",{type:"number",placeholder:" ",value:l.minPrice,onChange:u=>c(f=>({...f,minPrice:u.target.value})),className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"}),a.jsx("input",{type:"number",placeholder:" ",value:l.maxPrice,onChange:u=>c(f=>({...f,maxPrice:u.target.value})),className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"}),a.jsxs("select",{value:l.sort,onChange:u=>c(f=>({...f,sort:u.target.value})),className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"newest",children:""}),a.jsx("option",{value:"price-low",children:": "}),a.jsx("option",{value:"price-high",children:": "}),a.jsx("option",{value:"name",children:""})]})]}),i?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((u,f)=>a.jsx("div",{className:"h-80 bg-white dark:bg-gray-800 rounded-xl animate-pulse"},f))}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.map(u=>{var f;return a.jsx(HC,{product:{...u,images:[ue((f=u.images)==null?void 0:f[0])]}},u._id)}),!d.length&&a.jsx("div",{className:"col-span-full text-center text-gray-500 dark:text-gray-400 py-10",children:"     ."})]})]})})},qC=({children:e,onClick:t,variant:r="primary",size:n="md",disabled:s=!1,className:i="",type:o="button",...l})=>{const c="font-semibold rounded-xl transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",d={primary:"bg-gold-600 text-white hover:bg-gold-700 focus:ring-gold-500",secondary:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600",outline:"border-2 border-gold-600 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20",danger:"bg-gold-600 text-white hover:bg-gold-700 focus:ring-gold-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},f=`${c} ${d[r]} ${u[n]} ${s?"opacity-50 cursor-not-allowed":""} ${i}`;return a.jsx(Z.button,{type:o,onClick:t,disabled:s,className:f,whileHover:s?{}:rx,whileTap:s?{}:{scale:.95},...l,children:e})},hB=()=>{var v,b,w,j,k,P,S,O,A,C,T,F,z,M,L,V;const{id:e}=On(),[t,r]=N.useState(null),[n,s]=N.useState(!0),[i,o]=N.useState({optionA:"",optionB:""}),[l,c]=N.useState(1),[d,u]=N.useState(1),{addToCart:f}=ds();N.useEffect(()=>{if(!e)return;(async()=>{var _,U,I,B,q,Y,re,J,ve;s(!0);try{const te=(await Ve.get(`/special-products/${e}`)).data.data;r(te);const se=(_=te.combinations)==null?void 0:_[0];o({optionA:((U=se==null?void 0:se.optionA)==null?void 0:U.value)||((q=(B=(I=te.baseProductA)==null?void 0:I.variants)==null?void 0:B[0])==null?void 0:q.value)||"",optionB:((Y=se==null?void 0:se.optionB)==null?void 0:Y.value)||((ve=(J=(re=te.baseProductB)==null?void 0:re.variants)==null?void 0:J[0])==null?void 0:ve.value)||""}),c(1)}catch{r(null)}finally{s(!1)}})()},[e]);const h=N.useMemo(()=>{var _;return!t||!i.optionA||!i.optionB?null:((_=t.combinations)==null?void 0:_.find(U=>{var q,Y,re,J,ve,Pe;const I=((Y=(q=U.optionA)==null?void 0:q.variant)==null?void 0:Y.value)===i.optionA||((re=U.optionA)==null?void 0:re.value)===i.optionA,B=((ve=(J=U.optionB)==null?void 0:J.variant)==null?void 0:ve.value)===i.optionB||((Pe=U.optionB)==null?void 0:Pe.value)===i.optionB;return I&&B}))||null},[t,i]),p=N.useMemo(()=>(h==null?void 0:h.isAvailable)!==!1&&((h==null?void 0:h.stock)??0)>0,[h]),m=N.useMemo(()=>(h==null?void 0:h.stock)??0,[h]),x=N.useMemo(()=>t?t.finalPrice+((h==null?void 0:h.additionalPrice)||0):0,[t,h]),y=()=>{var I,B,q,Y;if(!t||!h){E.error("   ");return}const $=(h==null?void 0:h.stock)??0;if($<=0||!p){E.error("     ");return}const _=Math.max(1,l||1);if(_>$){E.error(` : ${$} `);return}const U={productId:t._id,productType:"special",name:t.name,price:x,image:ue(h.finalImage),quantity:_,combinationId:h._id,selectedOptions:{optionA:(B=(I=t.baseProductA)==null?void 0:I.variants)==null?void 0:B.find(re=>re.value===i.optionA),optionB:(Y=(q=t.baseProductB)==null?void 0:q.variants)==null?void 0:Y.find(re=>re.value===i.optionB)},combinationImage:ue(h.finalImage)};f(U),E.success("    ")};if(!e)return a.jsx(Jr,{to:"/shop/special-products",replace:!0});if(n&&!t)return a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsx(hm,{count:3,variant:"card",className:"mb-6"})})});const g=[{number:1,label:"  ",completed:!!i.optionA},{number:2,label:"  ",completed:!!i.optionB},{number:3,label:"  ",completed:!1}];return a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-10",children:[a.jsxs(Z.header,{initial:"hidden",animate:"visible",variants:VC,className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:"  "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"     ."})]}),a.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center gap-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 shadow-sm",children:[a.jsx(Qs,{className:"text-gold-600",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[(t==null?void 0:t.finalPrice)||0," TND"]})]})]})]}),a.jsx(Z.div,{initial:"hidden",animate:"visible",variants:fm,className:"flex items-center justify-center gap-4 mb-8",children:g.map(($,_)=>a.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${$.completed?"bg-gold-600 text-white":d===$.number?"bg-gold-100 dark:bg-gold-900/20 text-gold-600 border-2 border-gold-600":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:$.completed?a.jsx(Xu,{size:20}):$.number}),a.jsx("span",{className:`hidden sm:block text-sm font-medium ${d===$.number?"text-gold-600":"text-gray-500"}`,children:$.label}),_<g.length-1&&a.jsx("div",{className:`hidden sm:block w-12 h-0.5 mx-2 ${$.completed?"bg-gold-600":"bg-gray-300 dark:bg-gray-700"}`})]},$.number))}),a.jsx(Z.div,{initial:"hidden",animate:"visible",variants:Zs,className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-sm p-6 space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"order-2 lg:order-1 space-y-6",children:[a.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-gray-50 dark:bg-gray-900 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 min-h-[320px] flex items-center justify-center overflow-hidden",children:a.jsx($s,{mode:"wait",children:h!=null&&h.finalImage?a.jsx(Z.img,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},src:ue(h.finalImage),alt:"Preview",className:"w-full h-full object-cover rounded-2xl",loading:"lazy"},h.finalImage):a.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center text-gray-500 dark:text-gray-400",children:[a.jsx(MF,{size:36}),a.jsx("p",{className:"mt-3 text-sm",children:"   "})]})})},h==null?void 0:h._id)}),a.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl p-6 space-y-4 shadow-sm",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[a.jsxs("p",{children:[a.jsxs("span",{className:"font-semibold",children:[((v=t==null?void 0:t.baseProductA)==null?void 0:v.name)||" ",":"]})," ",((j=(w=(b=t==null?void 0:t.baseProductA)==null?void 0:b.variants)==null?void 0:w.find($=>$.value===i.optionA))==null?void 0:j.name)||((S=(P=(k=t==null?void 0:t.baseProductA)==null?void 0:k.variants)==null?void 0:P.find($=>$.value===i.optionA))==null?void 0:S.value)||i.optionA||" "]}),a.jsxs("p",{children:[a.jsxs("span",{className:"font-semibold",children:[((O=t==null?void 0:t.baseProductB)==null?void 0:O.name)||" ",":"]})," ",((T=(C=(A=t==null?void 0:t.baseProductB)==null?void 0:A.variants)==null?void 0:C.find($=>$.value===i.optionB))==null?void 0:T.name)||((M=(z=(F=t==null?void 0:t.baseProductB)==null?void 0:F.variants)==null?void 0:z.find($=>$.value===i.optionB))==null?void 0:M.value)||i.optionB||" "]}),a.jsxs(Z.p,{initial:{scale:1.1},animate:{scale:1},className:"text-lg font-bold text-gold-600 pt-2 border-t border-gray-200 dark:border-gray-700",children:[": ",x," TND"]},x),h&&a.jsx("div",{className:`text-sm pt-2 ${p?"text-green-600 dark:text-green-400":"text-red-500"}`,children:p?a.jsxs("span",{children:[" : ",m]}):a.jsx("span",{children:"   "})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:[a.jsx(Z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>c(Math.max(1,l-1)),disabled:l<=1,className:"px-3 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"-"}),a.jsx(Z.span,{initial:{scale:1.2},animate:{scale:1},className:"px-4 text-gray-900 dark:text-gray-100 font-medium",children:l},l),a.jsx(Z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{const $=p?m:0;c(Math.min(l+1,$))},disabled:!p||l>=m,className:"px-3 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]})]}),a.jsxs(qC,{onClick:y,disabled:!h||!i.optionA||!i.optionB||!p,className:"w-full",size:"lg",children:[p?"  ":" ",a.jsx(Rr,{size:18,className:"mr-2"})]})]})]}),a.jsxs("div",{className:"order-1 lg:order-2 space-y-6",children:[a.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[a.jsxs("label",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 block",children:["1) ",((L=t==null?void 0:t.baseProductA)==null?void 0:L.name)||" "]}),a.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-3",children:(()=>{const $=new Map;return t!=null&&t.combinations&&t.combinations.forEach(_=>{var I;const U=(I=_.optionA)==null?void 0:I.variant;if(U&&U.value&&!$.has(U.value)){const B=t.combinations.filter(re=>{var J,ve,Pe;return((ve=(J=re.optionA)==null?void 0:J.variant)==null?void 0:ve.value)===U.value||((Pe=re.optionA)==null?void 0:Pe.value)===U.value}),q=Math.max(...B.map(re=>re.stock??0),0),Y=B.some(re=>(re.stock??0)>0);$.set(U.value,{...U,maxStock:q,isAvailable:Y})}}),Array.from($.values()).map((_,U)=>{const I=_.isAvailable!==!1&&(_.maxStock??0)>0;return a.jsxs(Z.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*U},whileHover:I?{scale:1.05}:{},whileTap:I?{scale:.95}:{},onClick:()=>{I&&(o(B=>({...B,optionA:_.value})),u(2))},disabled:!I,className:`p-3 rounded-xl border-2 text-right transition-all relative ${I?i.optionA===_.value?"border-gold-500 bg-gold-50 dark:bg-gold-900/20 text-gold-700 shadow-md":"border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200 hover:border-gold-500":"opacity-50 cursor-not-allowed grayscale border-gray-300 dark:border-gray-600"}`,children:[_.image&&a.jsx(Z.img,{src:ue(_.image),alt:_.value,className:`h-20 w-full object-cover rounded-lg mb-2 ${I?"":"opacity-50"}`,whileHover:I?{scale:1.05}:{},transition:{duration:.2}}),a.jsx("div",{className:`font-semibold text-sm ${I?"":"line-through"}`,children:_.name||_.value}),a.jsx("div",{className:"text-xs text-gray-500",children:_.additionalPrice?`+${_.additionalPrice} TND`:" "}),!I&&a.jsx("div",{className:"text-xs text-red-500 mt-1",children:" "}),I&&_.maxStock>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[": ",_.maxStock]}),i.optionA===_.value&&I&&a.jsx(Z.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 bg-gold-600 text-white rounded-full p-1",children:a.jsx(Xu,{size:12})})]},_.value)})})()})]}),a.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[a.jsxs("label",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 block",children:["2) ",((V=t==null?void 0:t.baseProductB)==null?void 0:V.name)||" "]}),a.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-3",children:(()=>{const $=new Map;return t!=null&&t.combinations&&t.combinations.forEach(_=>{var I,B,q,Y;const U=((B=(I=_.optionA)==null?void 0:I.variant)==null?void 0:B.value)||((q=_.optionA)==null?void 0:q.value);if(!i.optionA||U===i.optionA){const re=(Y=_.optionB)==null?void 0:Y.variant;if(re&&re.value)if($.has(re.value)){const J=$.get(re.value),ve=_.stock??0;ve>(J.stock??0)&&(J.stock=ve,J.isAvailable=_.isAvailable!==!1&&ve>0)}else{const J=_.stock??0,ve=_.isAvailable!==!1&&J>0;$.set(re.value,{...re,stock:J,isAvailable:ve})}}}),Array.from($.values()).map((_,U)=>{const I=_.isAvailable!==!1&&(_.stock??0)>0;return a.jsxs(Z.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*U},whileHover:I&&i.optionA?{scale:1.05}:{},whileTap:I&&i.optionA?{scale:.95}:{},onClick:()=>{I&&i.optionA&&(o(B=>({...B,optionB:_.value})),u(3))},disabled:!i.optionA||!I,className:`p-3 rounded-xl border-2 text-right transition-all relative ${!i.optionA||!I?"opacity-50 cursor-not-allowed grayscale border-gray-300 dark:border-gray-600":i.optionB===_.value?"border-gold-500 bg-gold-50 dark:bg-gold-900/20 text-gold-700 shadow-md":"border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200 hover:border-gold-500"}`,children:[_.image&&a.jsx(Z.img,{src:ue(_.image),alt:_.value,className:`h-20 w-full object-cover rounded-lg mb-2 ${I?"":"opacity-50"}`,whileHover:I?{scale:1.05}:{},transition:{duration:.2}}),a.jsx("div",{className:`font-semibold text-sm ${I?"":"line-through"}`,children:_.name||_.value}),a.jsx("div",{className:"text-xs text-gray-500",children:_.additionalPrice?`+${_.additionalPrice} TND`:" "}),!I&&a.jsx("div",{className:"text-xs text-red-500 mt-1",children:" "}),I&&_.stock>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[": ",_.stock]}),i.optionB===_.value&&I&&a.jsx(Z.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 bg-gold-600 text-white rounded-full p-1",children:a.jsx(Xu,{size:12})})]},_.value)})})()})]})]})]})})]})})},mB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const i=await Ve.get("/special-products");t(i.data.data||[])}catch{t([])}finally{n(!1)}})()},[]),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-10",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:" "}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"     ."})]})}),r?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,i)=>a.jsx("div",{className:"h-64 bg-white dark:bg-gray-800 rounded-xl animate-pulse"},i))}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(s=>{var o,l,c,d;const i=ue(((l=(o=s.combinations)==null?void 0:o[0])==null?void 0:l.finalImage)||((d=(c=s.baseProductA)==null?void 0:c.images)==null?void 0:d[0])||"");return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"h-48 bg-gray-100 dark:bg-gray-700 overflow-hidden",children:i?a.jsx("img",{src:i,alt:s.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:" "})}),a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:s.name}),a.jsxs("p",{className:"text-gold-600 font-bold",children:[s.finalPrice," TND"]}),s.isAvailable!==!1?a.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:""}):a.jsx("div",{className:"text-sm text-red-500",children:" "}),a.jsx(Ne,{to:`/shop/special-products/${s._id}`,className:`inline-block mt-2 px-4 py-2 rounded-lg transition ${s.isAvailable!==!1?"bg-gold-600 text-white hover:bg-gold-700":"bg-gray-400 text-white cursor-not-allowed opacity-50"}`,onClick:u=>{s.isAvailable===!1&&u.preventDefault()},children:s.isAvailable!==!1?" ":" "})]})]},s._id)}),!e.length&&a.jsx("div",{className:"col-span-full text-center text-gray-500",children:"   ."})]})]})})},pB=()=>{const{cartItems:e,removeFromCart:t,updateQuantity:r,getCartTotal:n}=ds(),s=Se(),i=n();return a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-10",children:[a.jsxs(Z.header,{initial:"hidden",animate:"visible",variants:VC,className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"    ."})]}),a.jsx(Ne,{to:"/shop/products",className:"text-gold-600 hover:text-gold-700 font-semibold transition-colors",children:" "})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx(Z.div,{initial:"hidden",animate:"visible",variants:fm,className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:e.length===0?a.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-10 text-center",children:[a.jsx(BF,{className:"mx-auto mb-4 text-gray-400",size:64}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:" ."}),a.jsx(Ne,{to:"/shop/products",className:"text-gold-600 font-semibold hover:text-gold-700",children:" "})]}):a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:a.jsx($s,{children:e.map((o,l)=>{var c,d,u;return a.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20,transition:{duration:.2}},transition:{delay:l*.05},className:"p-4 flex gap-4 items-center group hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[a.jsx(Z.div,{className:"w-24 h-24 rounded-xl bg-gray-100 dark:bg-gray-700 overflow-hidden flex-shrink-0",whileHover:{scale:1.05},transition:{duration:.2},children:o.image?a.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover",loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"No image"})}),a.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:o.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:o.productType}),o.variant&&a.jsxs("p",{className:"text-sm text-gold-600 dark:text-gold-400 font-medium",children:[": ",o.variant.name||o.variant.value,o.variant.additionalPrice>0&&a.jsxs("span",{className:"text-gray-500",children:[" (+",o.variant.additionalPrice," TND)"]})]}),o.selectedOptions&&a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(c=o.selectedOptions.optionA)==null?void 0:c.value," + ",(d=o.selectedOptions.optionB)==null?void 0:d.value]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:[a.jsx(Z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r(l,o.quantity-1),className:"px-3 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:a.jsx(Li,{size:14})}),a.jsx(Z.span,{initial:{scale:1.2},animate:{scale:1},className:"px-3 text-gray-900 dark:text-gray-100 font-medium min-w-[2rem] text-center",children:o.quantity},o.quantity),a.jsx(Z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r(l,o.quantity+1),className:"px-3 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:a.jsx(vt,{size:14})})]}),a.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[(o.price*o.quantity).toFixed(2)," TND"]})]})]}),a.jsx(Z.button,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},onClick:()=>t(l),className:"text-gold-500 hover:text-gold-600 p-2 rounded-lg hover:bg-gold-50 dark:hover:bg-gold-900/20 transition-colors","aria-label":"Remove",children:a.jsx(jr,{size:18})})]},`${o.productId}-${((u=o.variant)==null?void 0:u.value)||"no-variant"}-${l}`)})})})}),a.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 space-y-4 h-fit sticky top-24",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:a.jsxs("div",{className:"flex justify-between font-semibold text-lg text-gray-900 dark:text-gray-100 pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("span",{children:""}),a.jsxs(Z.span,{initial:{scale:1.1},animate:{scale:1},className:"text-gold-600",children:[i.toFixed(2)," TND"]},i)]})}),a.jsx(qC,{onClick:()=>s("/shop/checkout"),disabled:!e.length,className:"w-full",size:"lg",children:" "})]})]})]})})},gB=()=>{const e=Se(),{user:t,isAuthenticated:r,loading:n}=Xo(),{cartItems:s,clearCart:i,getCartTotal:o}=ds(),[l,c]=N.useState({fullName:"",email:"",phone:"",street:"",city:"",zip:""}),[d,u]=N.useState(!1);N.useEffect(()=>{!n&&!r&&e("/login",{replace:!0,state:{from:"/shop/checkout"}})},[n,r,e]),N.useEffect(()=>{t&&c(m=>{var x,y,g,v,b,w;return{...m,fullName:t.name||"",email:t.email||"",phone:t.phone||"",street:((y=(x=t.addresses)==null?void 0:x[0])==null?void 0:y.street)||"",city:((v=(g=t.addresses)==null?void 0:g[0])==null?void 0:v.city)||"",zip:((w=(b=t.addresses)==null?void 0:b[0])==null?void 0:w.zip)||""}})},[t]);const f=o(),h=(m,x)=>{c(y=>({...y,[m]:x}))},p=async m=>{var x,y,g;if(m.preventDefault(),!s.length){E.error("Your cart is empty");return}u(!0);try{const v={items:s.map(k=>({productId:k.productId,productType:k.productType,quantity:k.quantity,unitPrice:k.price,combinationId:k.combinationId,variant:k.variant,productName:k.name})),paymentMethod:"cash",discount:0,shippingAddress:{fullName:l.fullName,street:l.street,city:l.city,zip:l.zip,phone:l.phone,email:l.email}},b=await Ve.post("/orders",v),w=((x=b.data.data)==null?void 0:x.order)||b.data.data,j=(w==null?void 0:w._id)||(w==null?void 0:w.id);E.success("   "),i(),e(j?`/shop/orders/${j}`:"/shop/profile")}catch(v){const b=((g=(y=v.response)==null?void 0:y.data)==null?void 0:g.message)||"  ";E.error(b)}finally{u(!1)}};return a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"   ."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("form",{onSubmit:p,className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("input",{required:!0,value:l.fullName,onChange:m=>h("fullName",m.target.value),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("input",{required:!0,type:"email",value:l.email,onChange:m=>h("email",m.target.value),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("input",{required:!0,value:l.phone,onChange:m=>h("phone",m.target.value),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("input",{required:!0,value:l.city,onChange:m=>h("city",m.target.value),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("input",{required:!0,value:l.street,onChange:m=>h("street",m.target.value),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("input",{required:!0,value:l.zip,onChange:m=>h("zip",m.target.value),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    ."})]}),a.jsx("button",{type:"submit",disabled:d||!s.length,className:"w-full bg-gold-600 text-white py-3 rounded-xl font-semibold hover:bg-gold-700 transition disabled:opacity-50",children:d?"  ...":" "})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[s.map((m,x)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[m.name," x ",m.quantity]}),a.jsxs("span",{children:[(m.price*m.quantity).toFixed(2)," TND"]})]},x)),a.jsxs("div",{className:"flex justify-between font-semibold text-lg text-gray-900 dark:text-gray-100 pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[f.toFixed(2)," TND"]})]})]})]})]})]})})},xB=[{key:"account",label:" "},{key:"addresses",label:""},{key:"orders",label:""},{key:"password",label:"  "}],yB=()=>{const{user:e,updateProfile:t,logout:r,loading:n}=Xo(),[s,i]=N.useState("account"),[o,l]=N.useState({name:"",phone:""}),[c,d]=N.useState({currentPassword:"",newPassword:""}),[u,f]=N.useState([]),[h,p]=N.useState([]),[m,x]=N.useState(!1),y=Se();N.useEffect(()=>{e&&(l({name:e.name||"",phone:e.phone||""}),f(e.addresses||[]))},[e]),N.useEffect(()=>{s==="orders"&&g()},[s]);const g=async()=>{x(!0);try{const P=await Ve.get("/orders");p(P.data.data||[])}catch(P){console.error("Failed to load orders",P)}finally{x(!1)}},v=async()=>{const P=await t({name:o.name,phone:o.phone,addresses:u});P!=null&&P.success&&E.success("  ")},b=()=>{f(P=>[...P,{fullName:(e==null?void 0:e.name)||"",street:"",city:"",zip:"",phone:o.phone||""}])},w=(P,S,O)=>{f(A=>A.map((C,T)=>T===P?{...C,[S]:O}:C))},j=P=>{f(S=>S.filter((O,A)=>A!==P))},k=async()=>{var P,S;try{await Ve.put("/auth/change-password",c),E.success("Password updated"),d({currentPassword:"",newPassword:""})}catch(O){const A=((S=(P=O.response)==null?void 0:P.data)==null?void 0:S.message)||"Failed to change password";E.error(A)}};return n?a.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading..."}):e?a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-8",children:[a.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[" ",e.name]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"   ."})]}),a.jsx("button",{onClick:()=>{r(),y("/login")},className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 hover:border-gold-500",children:" "})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-sm",children:[a.jsx("div",{className:"flex flex-wrap border-b border-gray-200 dark:border-gray-700",children:xB.map(P=>a.jsx("button",{onClick:()=>i(P.key),className:`px-4 py-3 text-sm font-semibold ${s===P.key?"text-gold-600 border-b-2 border-gold-600":"text-gray-500 dark:text-gray-400"}`,children:P.label},P.key))}),a.jsxs("div",{className:"p-6",children:[s==="account"&&a.jsxs("div",{className:"space-y-4 max-w-xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("input",{value:o.name,onChange:P=>l(S=>({...S,name:P.target.value})),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("input",{value:e.email,disabled:!0,className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-900 px-3 py-2 text-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("input",{value:o.phone,onChange:P=>l(S=>({...S,phone:P.target.value})),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsx("button",{onClick:v,className:"px-4 py-2 rounded-lg bg-gold-600 text-white font-semibold hover:bg-gold-700 transition",children:" "})]}),s==="addresses"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{onClick:b,className:"px-3 py-2 rounded-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-sm font-semibold",children:" "})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.map((P,S)=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-2",children:[a.jsx("input",{value:P.fullName,onChange:O=>w(S,"fullName",O.target.value),placeholder:" ",className:"w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-gray-100"}),a.jsx("input",{value:P.street,onChange:O=>w(S,"street",O.target.value),placeholder:"",className:"w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-gray-100"}),a.jsx("input",{value:P.city,onChange:O=>w(S,"city",O.target.value),placeholder:"",className:"w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-gray-100"}),a.jsx("input",{value:P.zip,onChange:O=>w(S,"zip",O.target.value),placeholder:" ",className:"w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-gray-100"}),a.jsx("input",{value:P.phone,onChange:O=>w(S,"phone",O.target.value),placeholder:"",className:"w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-gray-100"}),a.jsxs("div",{className:"flex justify-between items-center pt-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("input",{type:"checkbox",checked:P.isDefault||!1,onChange:O=>w(S,"isDefault",O.target.checked)}),""]}),a.jsx("button",{onClick:()=>j(S),className:"text-gold-500 text-sm",children:""})]})]},S)),!u.length&&a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   ."})]}),a.jsx("button",{onClick:v,className:"px-4 py-2 rounded-lg bg-gold-600 text-white font-semibold hover:bg-gold-700 transition",children:" "})]}),s==="orders"&&a.jsx("div",{className:"space-y-4",children:m?a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" ..."}):a.jsxs("div",{className:"space-y-3",children:[h.map(P=>{var S;return a.jsx(Ne,{to:`/shop/orders/${P._id}`,className:"block border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-gold-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[" #",P._id.slice(-6)]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(P.createdAt).toLocaleDateString("fr-FR")})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-gold-600",children:[(S=P.total)==null?void 0:S.toFixed(2)," TND"]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 capitalize",children:P.status})]})]})},P._id)}),!h.length&&a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   ."})]})}),s==="password"&&a.jsxs("div",{className:"space-y-4 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"  "}),a.jsx("input",{type:"password",value:c.currentPassword,onChange:P=>d(S=>({...S,currentPassword:P.target.value})),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"  "}),a.jsx("input",{type:"password",value:c.newPassword,onChange:P=>d(S=>({...S,newPassword:P.target.value})),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),a.jsx("button",{onClick:k,className:"px-4 py-2 rounded-lg bg-gold-600 text-white font-semibold hover:bg-gold-700 transition",children:"  "})]})]})]})]})}):a.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:["Please ",a.jsx(Ne,{to:"/login",className:"text-gold-600 font-semibold",children:"login"})," to view your profile."]})},rg=["pending","preparing","ready","delivered","completed","canceled"],vB=()=>{var l,c,d,u,f,h;const{id:e}=On(),[t,r]=N.useState(null),[n,s]=N.useState([]),[i,o]=N.useState(!0);return N.useEffect(()=>{(async()=>{var m,x;o(!0);try{const y=await Ve.get(`/orders/${e}`);r(((m=y.data.data)==null?void 0:m.order)||y.data.data),s(((x=y.data.data)==null?void 0:x.activities)||[])}catch(y){console.error("Failed to load order",y)}finally{o(!1)}})()},[e]),i?a.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading order..."}):t?a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gold-600 font-semibold",children:""}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:["#",t._id]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[" ",new Date(t.createdAt).toLocaleDateString("fr-FR")]})]}),a.jsx(Ne,{to:"/shop/profile",className:"text-gold-600 font-semibold",children:" "})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-sm p-6 space-y-6",children:[a.jsx("div",{className:"flex flex-wrap items-center gap-3",children:rg.map((p,m)=>{const x=rg.indexOf(t.status)>=m;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${x?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:m+1}),a.jsx("span",{className:`text-sm capitalize ${x?"text-gray-900 dark:text-gray-100":"text-gray-400"}`,children:p}),m<rg.length-1&&a.jsx("div",{className:"w-8 h-px bg-gray-300 dark:bg-gray-700"})]},p)})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.clientName}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.clientPhone}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[(l=t.clientAddress)==null?void 0:l.street,", ",(c=t.clientAddress)==null?void 0:c.city," ",(d=t.clientAddress)==null?void 0:d.zip]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 capitalize",children:t.paymentMethod}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[": ",(u=t.total)==null?void 0:u.toFixed(2)," TND"]}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[": ",(f=t.tax)==null?void 0:f.toFixed(2)," TND"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:""}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:(h=t.items)==null?void 0:h.map((p,m)=>a.jsxs("div",{className:"py-3 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:p.productName}),p.variantA&&p.variantB&&a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p.variantA.value," + ",p.variantB.value]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Qty: ",p.quantity," x ",p.unitPrice," TND"]})]}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[(p.unitPrice*p.quantity).toFixed(2)," TND"]})]},m))})]}),n.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:""}),a.jsx("div",{className:"space-y-3",children:n.map(p=>a.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-600 mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold capitalize",children:p.action}),a.jsx("p",{children:new Date(p.createdAt).toLocaleString()}),p.notes&&a.jsx("p",{className:"text-gray-500",children:p.notes})]})]},p._id))})]})]})]})}):a.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:["Order not found. ",a.jsx(Ne,{to:"/profile",className:"text-gold-600 font-semibold",children:"Back to profile"})]})},bB=({category:e,onClose:t})=>{const[r,n]=N.useState({name:"",description:"",image:""}),[s,i]=N.useState(null),[o,l]=N.useState(""),[c,d]=N.useState(!1),[u,f]=N.useState(!1);N.useEffect(()=>{e&&(n({name:e.name||"",description:e.description||"",image:e.image||""}),l(e.image?ue(e.image):""))},[e]);const h=x=>{const y=x.target.files[0];if(y){i(y);const g=new FileReader;g.onloadend=()=>{l(g.result)},g.readAsDataURL(y)}},p=async()=>{if(s)try{d(!0);const x=new FormData;x.append("image",s);const y=await W.post("/uploads/category",x,{headers:{"Content-Type":"multipart/form-data"}});n(g=>({...g,image:y.data.data.path})),E.success("   ")}catch{E.error("    ")}finally{d(!1)}},m=async x=>{var y,g;if(x.preventDefault(),s&&!r.image){E.error("   ");return}try{f(!0),e?(await W.put(`/categories/${e._id}`,r),E.success("   ")):(await W.post("/categories",r),E.success("   ")),t()}catch(v){const b=((g=(y=v.response)==null?void 0:y.data)==null?void 0:g.message)||" ";E.error(b)}finally{f(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e?" ":"  "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("input",{type:"text",value:r.name,onChange:x=>n({...r,name:x.target.value}),className:"input-field",required:!0,placeholder:"  "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("textarea",{value:r.description,onChange:x=>n({...r,description:x.target.value}),className:"input-field",rows:"4",placeholder:"  "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("div",{className:"space-y-4",children:[o&&a.jsx("div",{className:"relative w-32 h-32",children:a.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover rounded-lg border border-gray-300 dark:border-gray-600"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 btn-secondary cursor-pointer",children:[a.jsx(mo,{size:18}),a.jsx("span",{children:" "}),a.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]}),s&&a.jsx("button",{type:"button",onClick:p,disabled:c,className:"btn-primary disabled:opacity-50",children:c?" ...":" "})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:""}),a.jsx("button",{type:"submit",disabled:u,className:"btn-primary disabled:opacity-50",children:u?" ...":e?"":""})]})]})]})})},jB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(""),[o,l]=N.useState(!1),[c,d]=N.useState(null);N.useEffect(()=>{u()},[s]);const u=async()=>{try{n(!0);const m=await W.get("/categories",{params:{search:s}});t(m.data.data||[])}catch{E.error("    ")}finally{n(!1)}},f=async m=>{var x,y;if(window.confirm("      "))try{await W.delete(`/categories/${m}`),E.success("   "),u()}catch(g){const v=((y=(x=g.response)==null?void 0:x.data)==null?void 0:y.message)||"    ";E.error(v)}},h=m=>{d(m),l(!0)},p=()=>{l(!1),d(null),u()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(vt,{size:20}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"  ...",value:s,onChange:m=>i(m.target.value),className:"input-field pr-10"})]})}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""})]})}),a.jsx("tbody",{children:e.map(m=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:m.image?a.jsx("img",{src:ue(m.image),alt:m.name,className:"w-16 h-16 object-cover rounded-lg"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:a.jsx(Mc,{className:"text-gray-400",size:24})})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:m.name}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.slug})]}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:m.description||"-"}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:new Date(m.createdAt).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>h(m),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(Sa,{size:18})}),a.jsx("button",{onClick:()=>f(m._id),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(jr,{size:18})})]})})]},m._id))})]})})}),o&&a.jsx(bB,{category:c,onClose:p})]})},wB=({product:e,categories:t,suppliers:r=[],onClose:n})=>{const[s,i]=N.useState({name:"",category:"",supplierId:"",price:"",cost:"",stock:"",unit:"piece",wholesalePrice:"",wholesaleUnit:"piece",facebookPrice:"",images:[],description:"",status:"visible",variantName:"",variants:[]}),[o,l]=N.useState([]),[c,d]=N.useState([]),[u,f]=N.useState(!1),[h,p]=N.useState({}),[m,x]=N.useState(!1);N.useEffect(()=>{var S,O;e&&(i({name:e.name||"",category:((S=e.category)==null?void 0:S._id)||e.category||"",supplierId:((O=e.supplierId)==null?void 0:O._id)||e.supplierId||"",price:e.price||"",cost:e.cost||"",stock:e.stock||"",unit:"piece",wholesalePrice:e.wholesalePrice||"",wholesaleUnit:"piece",facebookPrice:e.facebookPrice||"",images:e.images||[],description:e.description||"",status:e.status||"visible",variantName:e.variantName||"",variants:e.variants||[]}),d((e.images||[]).map(A=>ue(A))))},[e]);const y=S=>{const O=Array.from(S.target.files);l([...o,...O]),O.forEach(A=>{const C=new FileReader;C.onloadend=()=>{d(T=>[...T,C.result])},C.readAsDataURL(A)})},g=S=>{d(O=>O.filter((A,C)=>C!==S)),S<s.images.length?i(O=>({...O,images:O.images.filter((A,C)=>C!==S)})):l(O=>O.filter((A,C)=>C!==S-s.images.length))},v=async()=>{if(o.length!==0)try{f(!0);const S=new FormData;o.forEach(A=>{S.append("images",A)});const O=await W.post("/uploads/product/multiple",S,{headers:{"Content-Type":"multipart/form-data"}});i(A=>({...A,images:[...A.images,...O.data.data.map(C=>C.path)]})),l([]),E.success("   ")}catch{E.error("    ")}finally{f(!1)}},b=()=>{i(S=>({...S,variants:[...S.variants,{value:"",stock:0,image:""}]}))},w=(S,O,A)=>{i(C=>({...C,variants:C.variants.map((T,F)=>F===S?{...T,[O]:A}:T)}))},j=S=>{i(O=>({...O,variants:O.variants.filter((A,C)=>C!==S)}))},k=async(S,O)=>{if(O)try{p(T=>({...T,[S]:!0}));const A=new FormData;A.append("image",O);const C=await W.post("/uploads/product",A,{headers:{"Content-Type":"multipart/form-data"}});w(S,"image",C.data.data.path),E.success("    ")}catch{E.error("     ")}finally{p(A=>({...A,[S]:!1}))}},P=async S=>{var A,C;if(S.preventDefault(),o.length>0){E.error("    ");return}if(s.variants.length===0&&!s.stock&&s.stock!==0){E.error("      ");return}const O={...s,unit:"piece",wholesaleUnit:"piece",stock:s.variants.length>0?0:s.stock};try{x(!0),e?(await W.put(`/products/${e._id}`,O),E.success("   ")):(await W.post("/products",O),E.success("   ")),n()}catch(T){const F=((C=(A=T.response)==null?void 0:A.data)==null?void 0:C.message)||" ";E.error(F)}finally{x(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e?" ":"  "}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("form",{onSubmit:P,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("input",{type:"text",value:s.name,onChange:S=>i({...s,name:S.target.value}),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsxs("select",{value:s.category,onChange:S=>i({...s,category:S.target.value}),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:" "}),t.map(S=>a.jsx("option",{value:S._id,children:S.name},S._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsxs("select",{value:s.supplierId,onChange:S=>i({...s,supplierId:S.target.value}),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:" "}),r.map(S=>a.jsx("option",{value:S._id,children:S.name},S._id))]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" (TND) *"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"   *"}),a.jsx("input",{type:"number",step:"0.01",value:s.price,onChange:S=>i({...s,price:S.target.value}),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"  "}),a.jsx("input",{type:"number",step:"0.01",value:s.facebookPrice,onChange:S=>i({...s,facebookPrice:S.target.value}),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:" "}),a.jsx("input",{type:"number",step:"0.01",value:s.wholesalePrice,onChange:S=>i({...s,wholesalePrice:S.target.value}),className:"input-field"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" (TND)"}),a.jsx("input",{type:"number",step:"0.01",value:s.cost,onChange:S=>i({...s,cost:S.target.value}),className:"input-field"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["  ",s.variants.length===0?"*":""]}),a.jsx("input",{type:"number",value:s.stock,onChange:S=>i({...s,stock:S.target.value}),className:"input-field",required:s.variants.length===0,disabled:s.variants.length>0}),s.variants.length>0&&a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"         "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsxs("select",{value:s.status,onChange:S=>i({...s,status:S.target.value}),className:"input-field",children:[a.jsx("option",{value:"visible",children:""}),a.jsx("option",{value:"hidden",children:""})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("textarea",{value:s.description,onChange:S=>i({...s,description:S.target.value}),className:"input-field",rows:"4"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsxs("div",{className:"space-y-4",children:[c.length>0&&a.jsx("div",{className:"grid grid-cols-4 gap-4",children:c.map((S,O)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:S,alt:`Preview ${O+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),a.jsx("button",{type:"button",onClick:()=>g(O),className:"absolute top-2 left-2 p-1 bg-gold-500 text-white rounded-full hover:bg-gold-600",children:a.jsx(jr,{size:16})})]},O))}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 btn-secondary cursor-pointer",children:[a.jsx(mo,{size:18}),a.jsx("span",{children:" "}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:y,className:"hidden"})]}),o.length>0&&a.jsx("button",{type:"button",onClick:v,disabled:u,className:"btn-primary disabled:opacity-50",children:u?" ...":` ${o.length} `})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:" (  )"}),a.jsxs("button",{type:"button",onClick:b,className:"btn-secondary flex items-center gap-2 text-sm",children:[a.jsx(vt,{size:16}),a.jsx("span",{children:" "})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  (:   )"}),a.jsx("input",{type:"text",placeholder:": ",value:s.variantName,onChange:S=>i({...s,variantName:S.target.value}),className:"input-field"})]}),s.variants.map((S,O)=>a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("input",{type:"text",placeholder:" (:   )",value:S.value,onChange:A=>w(O,"value",A.target.value),className:"input-field",required:!0}),a.jsx("input",{type:"number",min:"0",placeholder:" ",value:S.stock,onChange:A=>w(O,"stock",parseInt(A.target.value)||0),className:"input-field",required:!0}),a.jsx("button",{type:"button",onClick:()=>j(O),className:"btn-secondary text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20",children:a.jsx(jr,{size:18})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  ()"}),a.jsxs("div",{className:"flex items-center gap-4",children:[S.image?a.jsxs("div",{className:"relative w-24 h-24",children:[a.jsx("img",{src:ue(S.image),alt:S.value,className:"w-full h-full object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),a.jsx("button",{type:"button",onClick:()=>w(O,"image",""),className:"absolute -top-2 -right-2 p-1 bg-gold-500 text-white rounded-full hover:bg-gold-600",children:a.jsx(jr,{size:14})})]}):a.jsxs("label",{className:"flex items-center gap-2 btn-secondary cursor-pointer text-sm",children:[a.jsx(mo,{size:16}),a.jsx("span",{children:" "}),a.jsx("input",{type:"file",accept:"image/*",onChange:A=>{const C=A.target.files[0];C&&k(O,C)},className:"hidden",disabled:h[O]})]}),h[O]&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gold-600"}),a.jsx("span",{children:" ..."})]})]})]})]},O))]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:""}),a.jsx("button",{type:"submit",disabled:m,className:"btn-primary disabled:opacity-50",children:m?" ...":e?"":""})]})]})]})})},NB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,i]=N.useState([]),[o,l]=N.useState(!0),[c,d]=N.useState(""),[u,f]=N.useState(""),[h,p]=N.useState(""),[m,x]=N.useState(!1),[y,g]=N.useState(null);N.useEffect(()=>{v(),b(),w()},[c,u,h]);const v=async()=>{try{const S=await W.get("/categories");n(S.data.data||[])}catch{}},b=async()=>{try{const S=await W.get("/suppliers");i(S.data.data||[])}catch{}},w=async()=>{try{l(!0);const S={};c&&(S.search=c),u&&(S.category=u),h&&(S.status=h);const O=await W.get("/products",{params:S});t(O.data.data||[])}catch{E.error("    ")}finally{l(!1)}},j=async S=>{var O,A;if(window.confirm("      "))try{await W.delete(`/products/${S}`),E.success("   "),w()}catch(C){const T=((A=(O=C.response)==null?void 0:O.data)==null?void 0:A.message)||"    ";E.error(T)}},k=S=>{g(S),x(!0)},P=()=>{x(!1),g(null),w()};return a.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(vt,{size:20}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"  ...",value:c,onChange:S=>d(S.target.value),className:"input-field pr-10"})]}),a.jsxs("select",{value:u,onChange:S=>f(S.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),r.map(S=>a.jsx("option",{value:S._id,children:S.name},S._id))]}),a.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"visible",children:""}),a.jsx("option",{value:"hidden",children:""})]})]})}),a.jsx("div",{className:"card",children:o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ht,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""})]})}),a.jsx("tbody",{children:e.map(S=>{var O;return a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:S.images&&S.images.length>0?a.jsx("img",{src:ue(S.images[0]),alt:S.name,className:"w-16 h-16 object-cover rounded-lg"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:a.jsx(Ht,{className:"text-gray-400",size:24})})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:S.name}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.slug})]}),a.jsx("td",{className:"py-3 px-4 text-base font-medium text-gray-900 dark:text-gray-100",children:((O=S.category)==null?void 0:O.name)||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["  : ",S.price," TND"]}),S.facebookPrice>0&&a.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:["  : ",S.facebookPrice," TND"]}),S.wholesalePrice>0&&a.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:[" : ",S.wholesalePrice," TND"]}),S.cost>0&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[": ",S.cost," TND"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[S.stock," "]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="visible"?"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}`,children:S.status==="visible"?"":""})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>k(S),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(Sa,{size:18})}),a.jsx("button",{onClick:()=>j(S._id),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(jr,{size:18})})]})})]},S._id)})})]})})}),m&&a.jsx(wB,{product:y,categories:r,suppliers:s,onClose:P})]})},kB=({product:e,onClose:t})=>{var V,$;const[r,n]=N.useState(1),[s,i]=N.useState([]),[o,l]=N.useState(!1),[c,d]=N.useState(!1),[u,f]=N.useState({name:"",baseProductA:"",baseProductB:"",finalPrice:"",description:"",status:"visible",combinations:[]}),[h,p]=N.useState([]),[m,x]=N.useState([]),[y,g]=N.useState(null),[v,b]=N.useState(null),[w,j]=N.useState(null),[k,P]=N.useState({}),[S,O]=N.useState(!1);N.useEffect(()=>{var _,U;A(),e&&(f({name:e.name||"",baseProductA:((_=e.baseProductA)==null?void 0:_._id)||e.baseProductA||"",baseProductB:((U=e.baseProductB)==null?void 0:U._id)||e.baseProductB||"",finalPrice:e.finalPrice||"",description:e.description||"",status:e.status||"visible",combinations:e.combinations||[]}),e.combinations&&e.combinations.length>0&&n(4))},[e]);const A=async()=>{try{l(!0);const _=await W.get("/products");i(_.data.data||[])}catch{E.error("    ")}finally{l(!1)}},C=async()=>{var _,U,I,B;if(!u.baseProductA||!u.baseProductB){E.error("   ");return}if(u.baseProductA===u.baseProductB){E.error("   ");return}if(((_=y==null?void 0:y.variants)==null?void 0:_.length)>0&&h.length===0){E.error("       ");return}if(((U=v==null?void 0:v.variants)==null?void 0:U.length)>0&&m.length===0){E.error("       ");return}try{d(!0);const q=await W.post("/special-products/generate-combinations",{productAId:u.baseProductA,productBId:u.baseProductB,selectedVariantsA:h.length>0?h:null,selectedVariantsB:m.length>0?m:null});j(q.data.data),f(Y=>({...Y,combinations:q.data.data.combinations.map(re=>({optionA:re.optionA,optionB:re.optionB,finalImage:"",additionalPrice:re.additionalPrice||0}))})),n(4),E.success("   ")}catch(q){const Y=((B=(I=q.response)==null?void 0:I.data)==null?void 0:B.message)||"    ";E.error(Y)}finally{d(!1)}},T=async(_,U)=>{if(U)try{P(q=>({...q,[_]:!0}));const I=new FormData;I.append("image",U);const B=await W.post("/uploads/special-product",I,{headers:{"Content-Type":"multipart/form-data"}});f(q=>({...q,combinations:q.combinations.map((Y,re)=>re===_?{...Y,finalImage:B.data.data.path}:Y)})),E.success("   ")}catch{E.error("    ")}finally{P(I=>({...I,[_]:!1}))}},F=async _=>{var I,B;if(_.preventDefault(),r<5){E.error("   ");return}if(u.combinations.filter(q=>!q.finalImage).length>0){E.error("    ");return}try{O(!0),e?(await W.put(`/special-products/${e._id}`,u),E.success("    ")):(await W.post("/special-products",u),E.success("    ")),t()}catch(q){const Y=((B=(I=q.response)==null?void 0:I.data)==null?void 0:B.message)||" ";E.error(Y)}finally{O(!1)}},z=u.baseProductA&&u.baseProductB&&u.baseProductA!==u.baseProductB,M=(((V=y==null?void 0:y.variants)==null?void 0:V.length)>0?h.length>0:!0)&&((($=v==null?void 0:v.variants)==null?void 0:$.length)>0?m.length>0:!0),L=u.combinations.length>0&&u.combinations.every(_=>_.finalImage);return N.useEffect(()=>{if(u.baseProductA){const _=s.find(U=>U._id===u.baseProductA);g(_||null),p([])}else g(null),p([])},[u.baseProductA,s]),N.useEffect(()=>{if(u.baseProductB){const _=s.find(U=>U._id===u.baseProductB);b(_||null),x([])}else b(null),x([])},[u.baseProductB,s]),a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e?"  ":"   "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"flex items-center justify-center gap-2",children:[1,2,3,4,5].map(_=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${r>=_?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:_}),_<5&&a.jsx("div",{className:`w-12 h-1 mx-1 ${r>_?"bg-gold-600":"bg-gray-200 dark:bg-gray-700"}`})]},_))}),a.jsxs("div",{className:"flex items-center justify-center gap-8 mt-4 text-xs",children:[a.jsx("span",{className:r>=1?"text-gold-600 font-medium":"text-gray-500",children:" "}),a.jsx("span",{className:r>=2?"text-gold-600 font-medium":"text-gray-500",children:" "}),a.jsx("span",{className:r>=3?"text-gold-600 font-medium":"text-gray-500",children:" "}),a.jsx("span",{className:r>=4?"text-gold-600 font-medium":"text-gray-500",children:" "}),a.jsx("span",{className:r>=5?"text-gold-600 font-medium":"text-gray-500",children:""})]})]}),a.jsxs("form",{onSubmit:F,className:"p-6 space-y-6",children:[r===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"   *"}),a.jsx("input",{type:"text",value:u.name,onChange:_=>f({...u,name:_.target.value}),className:"input-field",required:!0,placeholder:":  "})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"   *"}),a.jsxs("select",{value:u.baseProductA,onChange:_=>f({...u,baseProductA:_.target.value}),className:"input-field",required:!0,disabled:o,children:[a.jsx("option",{value:"",children:"  "}),s.map(_=>a.jsx("option",{value:_._id,children:_.name},_._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"   *"}),a.jsxs("select",{value:u.baseProductB,onChange:_=>f({...u,baseProductB:_.target.value}),className:"input-field",required:!0,disabled:o,children:[a.jsx("option",{value:"",children:"  "}),s.filter(_=>_._id!==u.baseProductA).map(_=>a.jsx("option",{value:_._id,children:_.name},_._id))]})]})]}),u.baseProductA&&u.baseProductB&&a.jsx("div",{className:"p-4 bg-gold-50 dark:bg-gold-900/20 rounded-lg",children:a.jsx("p",{className:"text-sm text-gold-800 dark:text-gold-300",children:"        "})}),a.jsxs("div",{className:"flex items-center justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:""}),a.jsx("button",{type:"button",onClick:()=>n(2),disabled:!z,className:"btn-primary disabled:opacity-50",children:""})]})]}),r===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"       "})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:(y==null?void 0:y.name)||" "}),y!=null&&y.variants&&y.variants.length>0?a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:y.variants.map((_,U)=>a.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:h.some(I=>I.value===_.value),onChange:I=>{I.target.checked?p([...h,_]):p(h.filter(B=>B.value!==_.value))},className:"w-5 h-5 text-gold-600 border-gray-300 rounded focus:ring-gold-500"}),a.jsxs("div",{className:"flex-1",children:[_.image&&a.jsx("img",{src:ue(_.image),alt:_.value,className:"w-16 h-16 object-cover rounded mb-2"}),a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:_.value||_.name}),_.stock!==void 0&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[": ",_.stock]})]})]},U))}):a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:(v==null?void 0:v.name)||" "}),v!=null&&v.variants&&v.variants.length>0?a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:v.variants.map((_,U)=>a.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[a.jsx("input",{type:"checkbox",checked:m.some(I=>I.value===_.value),onChange:I=>{I.target.checked?x([...m,_]):x(m.filter(B=>B.value!==_.value))},className:"w-5 h-5 text-gold-600 border-gray-300 rounded focus:ring-gold-500"}),a.jsxs("div",{className:"flex-1",children:[_.image&&a.jsx("img",{src:ue(_.image),alt:_.value,className:"w-16 h-16 object-cover rounded mb-2"}),a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:_.value||_.name}),_.stock!==void 0&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[": ",_.stock]})]})]},U))}):a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-sm text-gray-600 dark:text-gray-400",children:"     "})]})]}),M&&a.jsx("div",{className:"p-4 bg-gold-50 dark:bg-gold-900/20 rounded-lg",children:a.jsxs("p",{className:"text-sm text-gold-800 dark:text-gold-300",children:["  ",h.length||1,"  ",m.length||1," = ",(h.length||1)*(m.length||1)," "]})}),a.jsxs("div",{className:"flex items-center justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>n(1),className:"btn-secondary",children:""}),a.jsx("button",{type:"button",onClick:()=>n(3),disabled:!M,className:"btn-primary disabled:opacity-50",children:""})]})]}),r===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     "})]}),a.jsx("button",{type:"button",onClick:C,disabled:c,className:"w-full btn-primary disabled:opacity-50 flex items-center justify-center gap-2",children:c?a.jsxs(a.Fragment,{children:[a.jsx(VN,{className:"animate-spin",size:20}),a.jsx("span",{children:"  ..."})]}):a.jsx("span",{children:" "})}),a.jsx("div",{className:"flex items-center justify-end gap-4",children:a.jsx("button",{type:"button",onClick:()=>n(2),className:"btn-secondary",children:""})})]}),r===4&&w&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"  "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"       "})]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:u.combinations.map((_,U)=>{var q,Y;const I=_.optionA.variant.image||((q=w==null?void 0:w.productA)!=null&&q.images&&w.productA.images.length>0?w.productA.images[0]:""),B=_.optionB.variant.image||((Y=w==null?void 0:w.productB)!=null&&Y.images&&w.productB.images.length>0?w.productB.images[0]:"");return a.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700/30",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:_.optionA.productName}),a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:[_.optionA.variant.name||"",": ",_.optionA.variant.value]}),I?a.jsx("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600",children:a.jsx("img",{src:ue(I),alt:_.optionA.variant.value,className:"w-full h-full object-cover"})}):a.jsx("div",{className:"w-full h-32 bg-gray-200 dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"  "})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:_.optionB.productName}),a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:[_.optionB.variant.name||"",": ",_.optionB.variant.value]}),B?a.jsx("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden border border-gray-300 dark:border-gray-600",children:a.jsx("img",{src:ue(B),alt:_.optionB.variant.value,className:"w-full h-full object-cover"})}):a.jsx("div",{className:"w-full h-32 bg-gray-200 dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"  "})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"  "}),_.finalImage?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden border-2 border-gold-500",children:a.jsx("img",{src:ue(_.finalImage),alt:"Combination",className:"w-full h-full object-cover"})}),a.jsxs("label",{className:"flex items-center gap-2 btn-secondary cursor-pointer text-sm w-full justify-center",children:[a.jsx(mo,{size:16}),a.jsx("span",{children:" "}),a.jsx("input",{type:"file",accept:"image/*",onChange:re=>{const J=re.target.files[0];J&&T(U,J)},className:"hidden",disabled:k[U]})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"w-full h-32 bg-gray-200 dark:bg-gray-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"   "})}),a.jsxs("label",{className:"flex items-center gap-2 btn-primary cursor-pointer text-sm w-full justify-center",children:[a.jsx(mo,{size:16}),a.jsx("span",{children:"  "}),a.jsx("input",{type:"file",accept:"image/*",onChange:re=>{const J=re.target.files[0];J&&T(U,J)},className:"hidden",disabled:k[U]})]})]}),k[U]&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gold-600 dark:text-gold-400 justify-center",children:[a.jsx(VN,{className:"animate-spin",size:16}),a.jsx("span",{children:" ..."})]})]})]})},U)})}),a.jsxs("div",{className:"flex items-center justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:()=>n(3),className:"btn-secondary",children:""}),a.jsx("button",{type:"button",onClick:()=>n(5),disabled:!L,className:"btn-primary disabled:opacity-50",children:""})]})]}),r===5&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  (TND) *"}),a.jsx("input",{type:"number",step:"0.01",value:u.finalPrice,onChange:_=>f({...u,finalPrice:_.target.value}),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsxs("select",{value:u.status,onChange:_=>f({...u,status:_.target.value}),className:"input-field",children:[a.jsx("option",{value:"visible",children:""}),a.jsx("option",{value:"hidden",children:""})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("textarea",{value:u.description,onChange:_=>f({...u,description:_.target.value}),className:"input-field",rows:"4"})]}),a.jsx("div",{className:"p-4 bg-gold-50 dark:bg-gold-900/20 rounded-lg",children:a.jsxs("p",{className:"text-sm text-gold-800 dark:text-gold-300",children:[" : ",u.combinations.length]})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:()=>n(4),className:"btn-secondary",children:""}),a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:""}),a.jsx("button",{type:"submit",disabled:S,className:"btn-primary disabled:opacity-50",children:S?" ...":e?"":""})]})]})]})]})})},SB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(""),[o,l]=N.useState(""),[c,d]=N.useState(!1),[u,f]=N.useState(null);N.useEffect(()=>{h()},[s,o]);const h=async()=>{try{n(!0);const y={};s&&(y.search=s),o&&(y.status=o);const g=await W.get("/special-products",{params:y});t(g.data.data||[])}catch{E.error("     ")}finally{n(!1)}},p=async y=>{var g,v;if(window.confirm("       "))try{await W.delete(`/special-products/${y}`),E.success("    "),h()}catch(b){const w=((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.message)||"     ";E.error(w)}},m=y=>{f(y),d(!0)},x=()=>{d(!1),f(null),h()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"    "})]}),a.jsxs("button",{onClick:()=>d(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(vt,{size:20}),a.jsx("span",{children:"  "})]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"   ...",value:s,onChange:y=>i(y.target.value),className:"input-field pr-10"})]}),a.jsxs("select",{value:o,onChange:y=>l(y.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"visible",children:""}),a.jsx("option",{value:"hidden",children:""})]})]})}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(yb,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:"  1"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:"  2"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""})]})}),a.jsx("tbody",{children:e.map(y=>{var g,v,b;return a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:y.name}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.slug})]}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:((g=y.baseProductA)==null?void 0:g.name)||"-"}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:((v=y.baseProductB)==null?void 0:v.name)||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 bg-gold-100 dark:bg-gold-900/30 text-gold-800 dark:text-gold-400 rounded-full text-sm font-medium",children:((b=y.combinations)==null?void 0:b.length)||0})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[y.finalPrice," TND"]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.status==="visible"?"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}`,children:y.status==="visible"?"":""})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>m(y),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(Sa,{size:18})}),a.jsx("button",{onClick:()=>p(y._id),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(jr,{size:18})})]})})]},y._id)})})]})})}),c&&a.jsx(kB,{product:u,onClose:x})]})},PB=({product:e,onClose:t})=>{var p;const[r,n]=N.useState({quantity:"",reason:"",notes:"",generateInvoice:!1,unitCost:""}),[s,i]=N.useState(!1),[o,l]=N.useState(null),c=((p=e==null?void 0:e.supplierId)==null?void 0:p._id)||(e==null?void 0:e.supplierId),d=parseInt(r.quantity)>0,u=c&&d&&r.reason==="purchase",f=async m=>{var x,y,g;if(m.preventDefault(),!r.quantity||!r.reason){E.error("   ");return}if(r.generateInvoice&&!r.unitCost){E.error("      ");return}try{i(!0);const v=await W.post("/inventory/adjust",{productId:e._id,productType:"regular",quantity:parseInt(r.quantity),reason:r.reason,notes:r.notes,generateInvoice:r.generateInvoice,unitCost:r.generateInvoice?parseFloat(r.unitCost):void 0});E.success("   "),(x=v.data.data)!=null&&x.supplierInvoiceId?(l(v.data.data.supplierInvoiceId),E.success("    ")):t()}catch(v){const b=((g=(y=v.response)==null?void 0:y.data)==null?void 0:g.message)||" ";E.error(b)}finally{i(!1)}},h=async()=>{if(o)try{const m=await W.get(`/supplier-invoices/${o}/pdf`,{responseType:"blob"}),x=new Blob([m.data],{type:"application/pdf"}),y=window.URL.createObjectURL(x),g=document.createElement("a");g.href=y,g.setAttribute("download",`supplier-invoice-${o}.pdf`),document.body.appendChild(g),g.click(),g.remove(),window.URL.revokeObjectURL(y),t()}catch{E.error("    ")}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("input",{type:"text",value:(e==null?void 0:e.name)||"",disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"text",value:(e==null?void 0:e.stock)||0,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" (   ) *"}),a.jsx("input",{type:"number",value:r.quantity,onChange:m=>n({...r,quantity:m.target.value}),className:"input-field",required:!0,placeholder:": +10  -5"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsxs("select",{value:r.reason,onChange:m=>n({...r,reason:m.target.value}),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"purchase",children:""}),a.jsx("option",{value:"sale",children:""}),a.jsx("option",{value:"return",children:""}),a.jsx("option",{value:"adjustment",children:" "}),a.jsx("option",{value:"damage",children:""}),a.jsx("option",{value:"other",children:""})]})]}),u&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.generateInvoice,onChange:m=>n({...r,generateInvoice:m.target.checked}),className:"w-4 h-4 text-gold-600 rounded focus:ring-gold-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"  "})]}),r.generateInvoice&&a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  (TND) *"}),a.jsx("input",{type:"number",step:"0.01",value:r.unitCost,onChange:m=>n({...r,unitCost:m.target.value}),className:"input-field",placeholder:": 50.00",required:r.generateInvoice})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("textarea",{value:r.notes,onChange:m=>n({...r,notes:m.target.value}),className:"input-field",rows:"3"})]}),o?a.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:"    .   ."}),a.jsxs("div",{className:"flex items-center justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:""}),a.jsxs("button",{type:"button",onClick:h,className:"btn-primary flex items-center gap-2",children:[a.jsx(Tn,{size:18})," "]})]})]}):a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:""}),a.jsx("button",{type:"submit",disabled:s,className:"btn-primary disabled:opacity-50",children:s?" ...":""})]})]})]})})},OB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState({changeType:"",startDate:"",endDate:""});N.useEffect(()=>{o()},[s]);const o=async()=>{try{n(!0);const c={};s.changeType&&(c.changeType=s.changeType),s.startDate&&(c.startDate=s.startDate),s.endDate&&(c.endDate=s.endDate);const d=await W.get("/inventory/logs",{params:c});t(d.data.data||[])}catch(c){console.error("Error fetching logs:",c)}finally{n(!1)}},l={increase:"",decrease:"",adjustment:"",sale:"",return:"",purchase:""};return a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 md:mb-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 md:gap-4",children:[a.jsxs("select",{value:s.changeType,onChange:c=>i({...s,changeType:c.target.value}),className:"input-field text-sm md:text-base px-3 py-2 flex-1 sm:flex-none",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"increase",children:""}),a.jsx("option",{value:"decrease",children:""}),a.jsx("option",{value:"adjustment",children:""}),a.jsx("option",{value:"sale",children:""}),a.jsx("option",{value:"return",children:""}),a.jsx("option",{value:"purchase",children:""})]}),a.jsx("input",{type:"date",value:s.startDate,onChange:c=>i({...s,startDate:c.target.value}),className:"input-field text-sm md:text-base px-3 py-2 flex-1 sm:flex-none",placeholder:" "}),a.jsx("input",{type:"date",value:s.endDate,onChange:c=>i({...s,endDate:c.target.value}),className:"input-field text-sm md:text-base px-3 py-2 flex-1 sm:flex-none",placeholder:" "})]})]}),r?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gold-600"})}):a.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle px-4 md:px-0",children:a.jsxs("table",{className:"w-full min-w-[800px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""})]})}),a.jsx("tbody",{children:e.map(c=>{var d,u;return a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:new Date(c.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}),a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900 dark:text-gray-100",children:((d=c.productId)==null?void 0:d.name)||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.changeType==="increase"||c.changeType==="purchase"||c.changeType==="return","bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400"}`,children:l[c.changeType]||c.changeType})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:c.quantityBefore}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:c.quantityAfter}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`text-sm font-medium ${c.quantityChange>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[c.quantityChange>0?"+":"",c.quantityChange]})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:c.reason}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:((u=c.userId)==null?void 0:u.name)||"-"})]},c._id)})})]})})})]})},AB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,i]=N.useState(!0),[o,l]=N.useState(!1),[c,d]=N.useState(null),[u,f]=N.useState(!1);N.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0);const[g,v]=await Promise.all([W.get("/products"),W.get("/inventory/alerts")]);t(g.data.data||[]),n(v.data.data||[])}catch{E.error("    ")}finally{i(!1)}},p=g=>{d(g),l(!0)},m=()=>{l(!1),d(null),h()};if(s)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})});const x=e.filter(g=>(g.stock||0)<=10),y=e.reduce((g,v)=>g+(v.stock||0)*(v.price||0),0);return a.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsx("button",{onClick:()=>f(!u),className:`btn-primary flex items-center justify-center gap-2 text-sm md:text-base px-4 py-2 ${u?"bg-gold-600":""}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx(IF,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{children:" "})]}):a.jsxs(a.Fragment,{children:[a.jsx(wr,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{children:" "})]})})]}),u?a.jsx(OB,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:e.length})]}),a.jsx(Ht,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gold-600 dark:text-gold-400 mt-2",children:x.length})]}),a.jsx(Ef,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:[y.toLocaleString()," TND"]})]}),a.jsx(Nr,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gold-600 dark:text-gold-400 mt-2",children:r.length})]}),a.jsx(Ef,{className:"text-gold-600",size:32})]})})]}),r.length>0&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"  "}),a.jsx("div",{className:"space-y-2",children:r.map(g=>{var v;return a.jsxs("div",{className:"p-4 bg-gold-50 dark:bg-gold-900/20 border border-gold-200 dark:border-gold-800 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:((v=g.productId)==null?void 0:v.name)||"  "}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" : ",g.currentStock," |  : ",g.threshold]})]}),a.jsx("button",{onClick:async()=>{try{await W.post(`/inventory/alerts/${g._id}/resolve`),E.success("  "),h()}catch{E.error(" ")}},className:"btn-secondary text-sm",children:" "})]},g._id)})})]}),a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:""}),a.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle px-4 md:px-0",children:a.jsxs("table",{className:"w-full min-w-[600px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""})]})}),a.jsx("tbody",{children:e.map(g=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:g.name})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${(g.stock||0)<=10||(g.stock||0)<=50,"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400"}`,children:[g.stock||0," "]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-gray-900 dark:text-gray-100 text-sm",children:[": ",g.price," TND"]}),g.facebookPrice>0&&a.jsxs("div",{className:"text-blue-600 dark:text-blue-400 text-sm",children:[": ",g.facebookPrice," TND"]}),g.wholesalePrice>0&&a.jsxs("div",{className:"text-green-600 dark:text-green-400 text-sm",children:[": ",g.wholesalePrice," TND"]})]})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900 dark:text-gray-100",children:[((g.stock||0)*(g.price||0)).toLocaleString()," TND"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>p(g),className:"btn-secondary text-sm",children:" "})})]},g._id))})]})})})]})]}),o&&a.jsx(PB,{product:c,onClose:m})]})},TB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState({status:"",source:"",search:"",startDate:"",endDate:""}),o=Se(),l=N.useRef(null),c=async()=>{try{n(!0);const f={};s.status&&(f.status=s.status),s.source&&(f.source=s.source),s.startDate&&(f.startDate=s.startDate),s.endDate&&(f.endDate=s.endDate),s.search&&s.search.trim()&&(f.search=s.search.trim());const h=await W.get("/orders",{params:f});t(h.data.data||[])}catch{E.error("    ")}finally{n(!1)}};N.useEffect(()=>(l.current&&clearTimeout(l.current),s.search?l.current=setTimeout(()=>{c()},500):c(),()=>{l.current&&clearTimeout(l.current)}),[s.status,s.source,s.startDate,s.endDate,s.search]);const d={pending:" ",preparing:" ",ready:"",delivered:" ",completed:"",canceled:""},u={pending:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",preparing:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",ready:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",delivered:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",completed:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",canceled:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"...",value:s.search,onChange:f=>i({...s,search:f.target.value}),className:"input-field pr-10"})]}),a.jsxs("select",{value:s.status,onChange:f=>i({...s,status:f.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"pending",children:" "}),a.jsx("option",{value:"preparing",children:" "}),a.jsx("option",{value:"ready",children:""}),a.jsx("option",{value:"delivered",children:" "}),a.jsx("option",{value:"completed",children:""}),a.jsx("option",{value:"canceled",children:""})]}),a.jsxs("select",{value:s.source,onChange:f=>i({...s,source:f.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"catalog",children:"E-commerce / "}),a.jsx("option",{value:"pos",children:"POS /  "}),a.jsx("option",{value:"commercial_pos",children:"Commercial POS /  "}),a.jsx("option",{value:"admin",children:"Admin / "})]}),a.jsx("input",{type:"date",value:s.startDate,onChange:f=>i({...s,startDate:f.target.value}),className:"input-field",placeholder:" "}),a.jsx("input",{type:"date",value:s.endDate,onChange:f=>i({...s,endDate:f.target.value}),className:"input-field",placeholder:" "})]})}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""})]})}),a.jsx("tbody",{children:e.map(f=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:f.orderNumber})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"space-y-1",children:[f.source&&a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${f.source==="catalog"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":f.source==="pos"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":f.source==="commercial_pos"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:f.source==="catalog"?"E-commerce":f.source==="pos"?"POS":f.source==="commercial_pos"?"Commercial":"Admin"}),f.storeId&&typeof f.storeId=="object"&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Store: ",f.storeId.name]}),f.commercialId&&typeof f.commercialId=="object"&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Commercial: ",f.commercialId.name]}),f.cashierId&&typeof f.cashierId=="object"&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Cashier: ",f.cashierId.name]})]})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:f.clientName||" "}),f.clientPhone&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.clientPhone}),f.clientId&&typeof f.clientId=="object"&&f.clientId.email&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.clientId.email})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u[f.status]||""}`,children:d[f.status]||f.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:[f.total," TND"]})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:new Date(f.createdAt).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:()=>o(`/admin/orders/${f._id}`),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(Cn,{size:18})})})})]},f._id))})]})})})]})},CB=()=>{const{id:e}=On(),t=Se(),[r,n]=N.useState(null),[s,i]=N.useState([]),[o,l]=N.useState(!0),[c,d]=N.useState(null),[u,f]=N.useState(!1);N.useEffect(()=>{p(),m(),h()},[e]);const h=async()=>{try{const j=await W.get(`/invoices?orderId=${e}`);if(j.data.success&&j.data.data&&j.data.data.length>0){const k=j.data.data.filter(P=>!P.invoiceType||P.invoiceType==="client");if(k.length>0){const P=k[0];d(P)}}}catch(j){console.error("Error checking invoice:",j)}},p=async()=>{try{const j=await W.get(`/orders/${e}`);n(j.data.data)}catch{E.error("     "),t("/admin/orders")}finally{l(!1)}},m=async()=>{try{const j=await W.get(`/orders/${e}/activity`);i(j.data.data||[])}catch{}},x=async j=>{try{await W.put(`/orders/${e}/status`,{status:j}),E.success("   "),p(),m()}catch{E.error("    ")}},y=async()=>{var j,k;try{f(!0);const P=new Date;P.setDate(P.getDate()+30);const S=await W.post(`/invoices/from-order/${e}`,{dueDate:P.toISOString()});S.data.success&&(E.success("   "),d(S.data.data),t(`/admin/invoices/${S.data.data._id}`))}catch(P){const S=((k=(j=P.response)==null?void 0:j.data)==null?void 0:k.message)||"    ";E.error(S)}finally{f(!1)}},g=async()=>{if(c)try{const j=`${Iv}/invoices/${c._id}/pdf`;window.open(j,"_blank")}catch{E.error("    ")}},v=async()=>{if(c)try{await W.post(`/invoices/${c._id}/send-email`),E.success("    ")}catch{E.error("     ")}};if(o)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})});if(!r&&!o)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-4",children:"  "}),a.jsx("button",{onClick:()=>t("/admin/orders"),className:"btn-primary",children:"  "})]});if(!r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"   ..."})]})});const b=["pending","preparing","ready","delivered","completed"],w=b.indexOf(r.status);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t("/admin/orders"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 mb-2",children:[a.jsx(Rr,{size:20}),a.jsx("span",{children:"  "})]}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[" #",r.orderNumber]}),r.source&&a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.source==="catalog"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":r.source==="pos"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":r.source==="commercial_pos"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:r.source==="catalog"?"E-commerce":r.source==="pos"?"POS":r.source==="commercial_pos"?"Commercial":"Admin"})})]}),a.jsx("div",{className:"flex gap-2",children:c?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:async j=>{var k,P;if(j.preventDefault(),j.stopPropagation(),c&&c._id)try{const S=`/admin/invoices/${c._id}`;t(S)}catch(S){console.error("Error navigating to invoice:",S),E.error("    ")}else try{f(!0);const S=new Date;S.setDate(S.getDate()+30);const O=await W.post(`/invoices/from-order/${e}`,{dueDate:S.toISOString()});O.data.success&&(E.success("   "),d(O.data.data),t(`/admin/invoices/${O.data.data._id}`))}catch(S){const O=((P=(k=S.response)==null?void 0:k.data)==null?void 0:P.message)||"    ";E.error(O)}finally{f(!1)}},className:"btn-primary flex items-center gap-2",type:"button",disabled:u,children:[a.jsx(wr,{size:18}),a.jsx("span",{children:u?" ...":" "})]}),a.jsxs("button",{onClick:g,className:"btn-secondary flex items-center gap-2",children:[a.jsx(Tn,{size:18}),a.jsx("span",{children:" PDF"})]}),a.jsxs("button",{onClick:v,className:"btn-secondary flex items-center gap-2",children:[a.jsx($d,{size:18}),a.jsx("span",{children:" "})]})]}):a.jsxs("button",{onClick:y,disabled:u||r.status==="canceled",className:"btn-primary flex items-center gap-2",children:[a.jsx(wr,{size:18}),a.jsx("span",{children:u?" ...":" "})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsx("div",{className:"flex items-center justify-between",children:b.map((j,k)=>a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("div",{className:"flex flex-col items-center flex-1",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${k<=w?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:k+1}),a.jsxs("span",{className:"text-xs mt-2 text-gray-600 dark:text-gray-400",children:[j==="pending"&&" ",j==="preparing"&&" ",j==="ready"&&"",j==="delivered"&&" ",j==="completed"&&""]})]}),k<b.length-1&&a.jsx("div",{className:`h-1 flex-1 mx-2 ${k<w?"bg-gold-600":"bg-gray-200 dark:bg-gray-700"}`})]},j))}),r.status!=="completed"&&r.status!=="canceled"&&a.jsx("div",{className:"mt-4 flex gap-2",children:w<b.length-1&&a.jsx("button",{onClick:()=>x(b[w+1]),className:"btn-primary",children:""})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:""}),a.jsx("div",{className:"space-y-4",children:r.items.map((j,k)=>{var S,O,A,C,T;let P=null;return j.productType==="special"&&j.combinationImage?P=j.combinationImage:j.productType==="regular"&&((S=j.variant)!=null&&S.image)?P=j.variant.image:(A=(O=j.productId)==null?void 0:O.images)!=null&&A[0]&&(P=j.productId.images[0]),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[P?a.jsx("img",{src:ue(P),alt:j.productName,className:"w-16 h-16 object-cover rounded-lg border border-gray-200 dark:border-gray-600"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:a.jsx(Ht,{className:"text-gray-400",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:j.productName}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[": ",j.quantity,"  ",j.unitPrice," TND"]}),(j.variant||j.combinationId)&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:((C=j.variant)==null?void 0:C.name)||((T=j.variant)==null?void 0:T.value)||" "})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[j.total," TND"]})})]},k)})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsx("div",{className:"space-y-4",children:s.map(j=>{var k;return a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-gold-600 rounded-full"}),a.jsx("div",{className:"w-px h-full bg-gray-200 dark:bg-gray-700"})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:((k=j.userId)==null?void 0:k.name)||""}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:j.notes||j.action}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:new Date(j.createdAt).toLocaleString("ar-SA")})]})]},j._id)})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.clientName})]}),r.clientPhone&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.clientPhone})]}),r.clientAddress&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.clientAddress})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[r.paymentMethod==="cash"&&"",r.paymentMethod==="card"&&"",r.paymentMethod==="credit"&&""]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("span",{className:"font-medium",children:[r.subtotal," TND"]})]}),r.discount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsxs("span",{className:"font-medium text-gold-600",children:["-",r.discount," TND"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsxs("span",{className:"font-medium",children:[r.tax," TND"]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-2 flex justify-between",children:[a.jsx("span",{className:"font-bold text-lg",children:""}),a.jsxs("span",{className:"font-bold text-lg text-gold-600",children:[r.total," TND"]})]})]})]})]})]})]})},_B=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(null),[o,l]=N.useState({status:"",type:"",startDate:"",endDate:""});Se(),N.useEffect(()=>{const m=x=>{!x.target.closest(".status-dropdown")&&s&&i(null)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[s]),N.useEffect(()=>{c()},[o]);const c=async()=>{try{n(!0);const m={};o.status&&(m.status=o.status),o.type&&(m.type=o.type),o.startDate&&(m.startDate=o.startDate),o.endDate&&(m.endDate=o.endDate);const x=await W.get("/invoices",{params:m});t(x.data.data||[])}catch{E.error("    ")}finally{n(!1)}},d={draft:"",sent:"",paid:"",partial:" ",overdue:"",canceled:"",pending:" "},u={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",sent:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",paid:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",partial:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",overdue:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",canceled:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",pending:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"},f={pending:" ",paid:"",partial:" ",overdue:"",canceled:""},h=async(m,x,y)=>{var g,v;try{y==="supplier"?await W.put(`/supplier-invoices/${m}/status`,{status:x}):await W.put(`/invoices/${m}/status`,{status:x}),E.success("    "),c(),i(null)}catch(b){E.error(((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.message)||"    ")}},p=async(m,x,y)=>{var g,v;if(window.confirm(`      ${y}`))try{x==="supplier"?await W.delete(`/supplier-invoices/${m}`):await W.delete(`/invoices/${m}`),E.success("   "),c()}catch(b){E.error(((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.message)||"    ")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("select",{value:o.type,onChange:m=>l({...o,type:m.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:"  "}),a.jsx("option",{value:"client",children:" "}),a.jsx("option",{value:"supplier",children:" "})]}),a.jsxs("select",{value:o.status,onChange:m=>l({...o,status:m.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"sent",children:""}),a.jsx("option",{value:"pending",children:" "}),a.jsx("option",{value:"paid",children:""}),a.jsx("option",{value:"partial",children:" "}),a.jsx("option",{value:"overdue",children:""}),a.jsx("option",{value:"canceled",children:""})]}),a.jsx("input",{type:"date",value:o.startDate,onChange:m=>l({...o,startDate:m.target.value}),className:"input-field",placeholder:" "}),a.jsx("input",{type:"date",value:o.endDate,onChange:m=>l({...o,endDate:m.target.value}),className:"input-field",placeholder:" "})]})}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(wb,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})]}):a.jsx("div",{className:"overflow-x-auto relative",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" / "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:e.map(m=>{var x;return a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:m.invoiceNumber}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${m.invoiceType==="supplier"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:m.displayType||(m.invoiceType==="supplier"?"":"")})}),a.jsx("td",{className:"py-3 px-4",children:m.displayName||m.clientName||"N/A"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"relative status-dropdown inline-block",children:[a.jsxs("button",{type:"button",onClick:y=>{y.stopPropagation(),i(s===m._id?null:m._id)},className:`px-3 py-1 rounded-full text-xs flex items-center gap-1 cursor-pointer ${u[m.status]||"bg-gray-100 text-gray-800"}`,children:[a.jsx("span",{children:m.invoiceType==="supplier"?f[m.status]||d[m.status]||" ":d[m.status]||""}),a.jsx($C,{size:12,className:`transition-transform ${s===m._id?"rotate-180":""}`})]}),s===m._id&&a.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-[9999] min-w-max",children:(m.invoiceType==="supplier"?Object.entries(f):Object.entries(d)).map(([y,g])=>a.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),h(m._id,y,m.invoiceType)},className:`w-full text-right px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg transition-colors ${m.status===y?"bg-gold-50 dark:bg-gold-900/20 font-medium":""}`,children:g},y))})]})}),a.jsxs("td",{className:"py-3 px-4",children:[m.total.toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4",children:[((x=m.paidAmount)==null?void 0:x.toFixed(2))||m.total.toFixed(2)," TND"]}),a.jsx("td",{className:"py-3 px-4 text-sm",children:m.dueDate?new Date(m.dueDate).toLocaleDateString("fr-FR"):new Date(m.createdAt).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:async()=>{try{const y=await W.get(m.invoiceType==="supplier"?`/supplier-invoices/${m._id}/pdf`:`/invoices/${m._id}/pdf`,{responseType:"blob"}),g=new Blob([y.data],{type:"application/pdf"}),v=window.URL.createObjectURL(g);window.open(v,"_blank")}catch{E.error("    ")}},className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg",title:" ",children:a.jsx(Cn,{size:18})}),a.jsx("button",{onClick:async()=>{try{const y=await W.get(m.invoiceType==="supplier"?`/supplier-invoices/${m._id}/pdf`:`/invoices/${m._id}/pdf`,{responseType:"blob"}),g=window.URL.createObjectURL(new Blob([y.data])),v=document.createElement("a");v.href=g,v.setAttribute("download",`invoice-${m.invoiceNumber}.pdf`),document.body.appendChild(v),v.click(),v.remove(),window.URL.revokeObjectURL(g),E.success("  ")}catch{E.error("    ")}},className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg",title:" ",children:a.jsx(Tn,{size:18})}),a.jsx("button",{onClick:()=>p(m._id,m.invoiceType,m.invoiceNumber),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:" ",children:a.jsx(jr,{size:18})})]})})]},m._id)})})]})})})]})},EB=({invoice:e,onClose:t})=>{const[r,n]=N.useState({amount:(e==null?void 0:e.remainingAmount)||0,paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],reference:"",notes:""}),[s,i]=N.useState(!1),o=async l=>{if(l.preventDefault(),r.amount>e.remainingAmount){E.error("   ");return}try{i(!0),await W.post(`/invoices/${e._id}/payments`,r),E.success("   "),t()}catch{E.error(" ")}finally{i(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-2xl font-bold",children:" "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(bt,{size:24})})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:" *"}),a.jsx("input",{type:"number",step:"0.01",value:r.amount,onChange:l=>n({...r,amount:parseFloat(l.target.value)}),className:"input-field",required:!0,max:e.remainingAmount}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",e.remainingAmount," TND"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"  *"}),a.jsxs("select",{value:r.paymentMethod,onChange:l=>n({...r,paymentMethod:l.target.value}),className:"input-field",required:!0,children:[a.jsx("option",{value:"cash",children:""}),a.jsx("option",{value:"card",children:""}),a.jsx("option",{value:"bank_transfer",children:" "}),a.jsx("option",{value:"check",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"  *"}),a.jsx("input",{type:"date",value:r.paymentDate,onChange:l=>n({...r,paymentDate:l.target.value}),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("input",{type:"text",value:r.reference,onChange:l=>n({...r,reference:l.target.value}),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("textarea",{value:r.notes,onChange:l=>n({...r,notes:l.target.value}),className:"input-field",rows:"3"})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:""}),a.jsx("button",{type:"submit",disabled:s,className:"btn-primary disabled:opacity-50",children:s?" ...":""})]})]})]})})},$B=()=>{const{id:e}=On(),t=Se(),[r,n]=N.useState(null),[s,i]=N.useState([]),[o,l]=N.useState(!0),[c,d]=N.useState(!1);N.useEffect(()=>{u(),f()},[e]);const u=async()=>{var h,p;try{l(!0);let m=await W.get(`/invoices/${e}`).catch(()=>null);(!m||!m.data||!m.data.success)&&(m=await W.get(`/supplier-invoices/${e}`).catch(()=>null)),m&&m.data&&m.data.success?n(m.data.data):(console.error("Invoice not found for ID:",e),E.error("  "),setTimeout(()=>t("/admin/invoices"),2e3))}catch(m){console.error("Error fetching invoice:",m);const x=((p=(h=m.response)==null?void 0:h.data)==null?void 0:p.message)||"    ";E.error(x),setTimeout(()=>t("/admin/invoices"),2e3)}finally{l(!1)}},f=async()=>{try{const h=await W.get(`/invoices/${e}/payments`);i(h.data.data||[])}catch{}};return o||!r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t("/admin/invoices"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 mb-2",children:[a.jsx(Rr,{size:20}),a.jsx("span",{children:""})]}),a.jsxs("h1",{className:"text-3xl font-bold",children:[" #",r.invoiceNumber]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:async()=>{try{const h=await W.get(`/invoices/${e}/pdf`,{responseType:"blob"}),p=window.URL.createObjectURL(new Blob([h.data])),m=document.createElement("a");m.href=p,m.setAttribute("download",`invoice-${r.invoiceNumber}.pdf`),document.body.appendChild(m),m.click(),m.remove(),E.success("  ")}catch{E.error("    ")}},className:"btn-secondary flex items-center gap-2",children:[a.jsx(Tn,{size:18}),a.jsx("span",{children:" PDF"})]}),a.jsxs("button",{onClick:async()=>{try{await W.post(`/invoices/${e}/send-email`),E.success("    ")}catch{E.error("    ")}},className:"btn-secondary flex items-center gap-2",children:[a.jsx($d,{size:18}),a.jsx("span",{children:" "})]}),r.remainingAmount>0&&a.jsx("button",{onClick:()=>d(!0),className:"btn-primary",children:" "})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),a.jsx("div",{className:"space-y-4",children:r.items.map((h,p)=>a.jsxs("div",{className:"flex justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:h.productName}),a.jsxs("p",{className:"text-sm text-gray-600",children:[": ",h.quantity]})]}),a.jsxs("p",{className:"font-medium",children:[h.total," TND"]})]},p))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),s.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"  "}):a.jsx("div",{className:"space-y-4",children:s.map(h=>a.jsxs("div",{className:"flex justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[h.amount," TND"]}),a.jsx("p",{className:"text-sm text-gray-600",children:h.paymentMethod})]}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(h.paymentDate).toLocaleDateString("fr-FR")})]},h._id))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"font-medium",children:r.clientName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:" "}),a.jsx("p",{className:"font-medium",children:new Date(r.issuedAt).toLocaleDateString("fr-FR")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:" "}),a.jsx("p",{className:"font-medium",children:new Date(r.dueDate).toLocaleDateString("fr-FR")})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:" "}),a.jsxs("span",{children:[r.subtotal," TND"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[r.tax," TND"]})]}),a.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[a.jsx("span",{className:"font-bold",children:""}),a.jsxs("span",{className:"font-bold",children:[r.total," TND"]})]}),a.jsxs("div",{className:"flex justify-between text-gold-600",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[r.paidAmount," TND"]})]}),a.jsxs("div",{className:"flex justify-between text-gold-600 font-bold",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[r.remainingAmount," TND"]})]})]})]})]})]}),c&&a.jsx(EB,{invoice:r,onClose:()=>{d(!1),u(),f()}})]})};function KC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=KC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function we(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=KC(e))&&(n&&(n+=" "),n+=t);return n}var DB=Array.isArray,kr=DB,MB=typeof Wd=="object"&&Wd&&Wd.Object===Object&&Wd,GC=MB,IB=GC,RB=typeof self=="object"&&self&&self.Object===Object&&self,LB=IB||RB||Function("return this")(),Yn=LB,FB=Yn,BB=FB.Symbol,Dd=BB,KN=Dd,XC=Object.prototype,zB=XC.hasOwnProperty,UB=XC.toString,Pl=KN?KN.toStringTag:void 0;function VB(e){var t=zB.call(e,Pl),r=e[Pl];try{e[Pl]=void 0;var n=!0}catch{}var s=UB.call(e);return n&&(t?e[Pl]=r:delete e[Pl]),s}var WB=VB,HB=Object.prototype,qB=HB.toString;function KB(e){return qB.call(e)}var GB=KB,GN=Dd,XB=WB,YB=GB,QB="[object Null]",ZB="[object Undefined]",XN=GN?GN.toStringTag:void 0;function JB(e){return e==null?e===void 0?ZB:QB:XN&&XN in Object(e)?XB(e):YB(e)}var Pa=JB;function ez(e){return e!=null&&typeof e=="object"}var Oa=ez,tz=Pa,rz=Oa,nz="[object Symbol]";function az(e){return typeof e=="symbol"||rz(e)&&tz(e)==nz}var Jo=az,sz=kr,iz=Jo,oz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lz=/^\w*$/;function cz(e,t){if(sz(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||iz(e)?!0:lz.test(e)||!oz.test(e)||t!=null&&e in Object(t)}var Nb=cz;function dz(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fs=dz;const el=Me(fs);var uz=Pa,fz=fs,hz="[object AsyncFunction]",mz="[object Function]",pz="[object GeneratorFunction]",gz="[object Proxy]";function xz(e){if(!fz(e))return!1;var t=uz(e);return t==mz||t==pz||t==hz||t==gz}var kb=xz;const xe=Me(kb);var yz=Yn,vz=yz["__core-js_shared__"],bz=vz,ng=bz,YN=function(){var e=/[^.]+$/.exec(ng&&ng.keys&&ng.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jz(e){return!!YN&&YN in e}var wz=jz,Nz=Function.prototype,kz=Nz.toString;function Sz(e){if(e!=null){try{return kz.call(e)}catch{}try{return e+""}catch{}}return""}var YC=Sz,Pz=kb,Oz=wz,Az=fs,Tz=YC,Cz=/[\\^$.*+?()[\]{}|]/g,_z=/^\[object .+?Constructor\]$/,Ez=Function.prototype,$z=Object.prototype,Dz=Ez.toString,Mz=$z.hasOwnProperty,Iz=RegExp("^"+Dz.call(Mz).replace(Cz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rz(e){if(!Az(e)||Oz(e))return!1;var t=Pz(e)?Iz:_z;return t.test(Tz(e))}var Lz=Rz;function Fz(e,t){return e==null?void 0:e[t]}var Bz=Fz,zz=Lz,Uz=Bz;function Vz(e,t){var r=Uz(e,t);return zz(r)?r:void 0}var ci=Vz,Wz=ci,Hz=Wz(Object,"create"),mm=Hz,QN=mm;function qz(){this.__data__=QN?QN(null):{},this.size=0}var Kz=qz;function Gz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xz=Gz,Yz=mm,Qz="__lodash_hash_undefined__",Zz=Object.prototype,Jz=Zz.hasOwnProperty;function eU(e){var t=this.__data__;if(Yz){var r=t[e];return r===Qz?void 0:r}return Jz.call(t,e)?t[e]:void 0}var tU=eU,rU=mm,nU=Object.prototype,aU=nU.hasOwnProperty;function sU(e){var t=this.__data__;return rU?t[e]!==void 0:aU.call(t,e)}var iU=sU,oU=mm,lU="__lodash_hash_undefined__";function cU(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=oU&&t===void 0?lU:t,this}var dU=cU,uU=Kz,fU=Xz,hU=tU,mU=iU,pU=dU;function tl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tl.prototype.clear=uU;tl.prototype.delete=fU;tl.prototype.get=hU;tl.prototype.has=mU;tl.prototype.set=pU;var gU=tl;function xU(){this.__data__=[],this.size=0}var yU=xU;function vU(e,t){return e===t||e!==e&&t!==t}var Sb=vU,bU=Sb;function jU(e,t){for(var r=e.length;r--;)if(bU(e[r][0],t))return r;return-1}var pm=jU,wU=pm,NU=Array.prototype,kU=NU.splice;function SU(e){var t=this.__data__,r=wU(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():kU.call(t,r,1),--this.size,!0}var PU=SU,OU=pm;function AU(e){var t=this.__data__,r=OU(t,e);return r<0?void 0:t[r][1]}var TU=AU,CU=pm;function _U(e){return CU(this.__data__,e)>-1}var EU=_U,$U=pm;function DU(e,t){var r=this.__data__,n=$U(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var MU=DU,IU=yU,RU=PU,LU=TU,FU=EU,BU=MU;function rl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rl.prototype.clear=IU;rl.prototype.delete=RU;rl.prototype.get=LU;rl.prototype.has=FU;rl.prototype.set=BU;var gm=rl,zU=ci,UU=Yn,VU=zU(UU,"Map"),Pb=VU,ZN=gU,WU=gm,HU=Pb;function qU(){this.size=0,this.__data__={hash:new ZN,map:new(HU||WU),string:new ZN}}var KU=qU;function GU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var XU=GU,YU=XU;function QU(e,t){var r=e.__data__;return YU(t)?r[typeof t=="string"?"string":"hash"]:r.map}var xm=QU,ZU=xm;function JU(e){var t=ZU(this,e).delete(e);return this.size-=t?1:0,t}var eV=JU,tV=xm;function rV(e){return tV(this,e).get(e)}var nV=rV,aV=xm;function sV(e){return aV(this,e).has(e)}var iV=sV,oV=xm;function lV(e,t){var r=oV(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var cV=lV,dV=KU,uV=eV,fV=nV,hV=iV,mV=cV;function nl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nl.prototype.clear=dV;nl.prototype.delete=uV;nl.prototype.get=fV;nl.prototype.has=hV;nl.prototype.set=mV;var Ob=nl,QC=Ob,pV="Expected a function";function Ab(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pV);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Ab.Cache||QC),r}Ab.Cache=QC;var ZC=Ab;const gV=Me(ZC);var xV=ZC,yV=500;function vV(e){var t=xV(e,function(n){return r.size===yV&&r.clear(),n}),r=t.cache;return t}var bV=vV,jV=bV,wV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NV=/\\(\\)?/g,kV=jV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wV,function(r,n,s,i){t.push(s?i.replace(NV,"$1"):n||r)}),t}),SV=kV;function PV(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Tb=PV,JN=Dd,OV=Tb,AV=kr,TV=Jo,ek=JN?JN.prototype:void 0,tk=ek?ek.toString:void 0;function JC(e){if(typeof e=="string")return e;if(AV(e))return OV(e,JC)+"";if(TV(e))return tk?tk.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var CV=JC,_V=CV;function EV(e){return e==null?"":_V(e)}var e_=EV,$V=kr,DV=Nb,MV=SV,IV=e_;function RV(e,t){return $V(e)?e:DV(e,t)?[e]:MV(IV(e))}var t_=RV,LV=Jo;function FV(e){if(typeof e=="string"||LV(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ym=FV,BV=t_,zV=ym;function UV(e,t){t=BV(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[zV(t[r++])];return r&&r==n?e:void 0}var Cb=UV,VV=Cb;function WV(e,t,r){var n=e==null?void 0:VV(e,t);return n===void 0?r:n}var r_=WV;const Dr=Me(r_);function HV(e){return e==null}var qV=HV;const be=Me(qV);var KV=Pa,GV=kr,XV=Oa,YV="[object String]";function QV(e){return typeof e=="string"||!GV(e)&&XV(e)&&KV(e)==YV}var ZV=QV;const Js=Me(ZV);var n_={exports:{}},Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b=Symbol.for("react.element"),Eb=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),JV=Symbol.for("react.server_context"),km=Symbol.for("react.forward_ref"),Sm=Symbol.for("react.suspense"),Pm=Symbol.for("react.suspense_list"),Om=Symbol.for("react.memo"),Am=Symbol.for("react.lazy"),eW=Symbol.for("react.offscreen"),a_;a_=Symbol.for("react.module.reference");function dn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _b:switch(e=e.type,e){case vm:case jm:case bm:case Sm:case Pm:return e;default:switch(e=e&&e.$$typeof,e){case JV:case Nm:case km:case Am:case Om:case wm:return e;default:return t}}case Eb:return t}}}Ie.ContextConsumer=Nm;Ie.ContextProvider=wm;Ie.Element=_b;Ie.ForwardRef=km;Ie.Fragment=vm;Ie.Lazy=Am;Ie.Memo=Om;Ie.Portal=Eb;Ie.Profiler=jm;Ie.StrictMode=bm;Ie.Suspense=Sm;Ie.SuspenseList=Pm;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(e){return dn(e)===Nm};Ie.isContextProvider=function(e){return dn(e)===wm};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_b};Ie.isForwardRef=function(e){return dn(e)===km};Ie.isFragment=function(e){return dn(e)===vm};Ie.isLazy=function(e){return dn(e)===Am};Ie.isMemo=function(e){return dn(e)===Om};Ie.isPortal=function(e){return dn(e)===Eb};Ie.isProfiler=function(e){return dn(e)===jm};Ie.isStrictMode=function(e){return dn(e)===bm};Ie.isSuspense=function(e){return dn(e)===Sm};Ie.isSuspenseList=function(e){return dn(e)===Pm};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vm||e===jm||e===bm||e===Sm||e===Pm||e===eW||typeof e=="object"&&e!==null&&(e.$$typeof===Am||e.$$typeof===Om||e.$$typeof===wm||e.$$typeof===Nm||e.$$typeof===km||e.$$typeof===a_||e.getModuleId!==void 0)};Ie.typeOf=dn;n_.exports=Ie;var tW=n_.exports,rW=Pa,nW=Oa,aW="[object Number]";function sW(e){return typeof e=="number"||nW(e)&&rW(e)==aW}var s_=sW;const iW=Me(s_);var oW=s_;function lW(e){return oW(e)&&e!=+e}var cW=lW;const Md=Me(cW);var rr=function(t){return t===0?0:t>0?1:-1},Ds=function(t){return Js(t)&&t.indexOf("%")===t.length-1},ee=function(t){return iW(t)&&!Md(t)},dW=function(t){return be(t)},Ct=function(t){return ee(t)||Js(t)},uW=0,al=function(t){var r=++uW;return"".concat(t||"").concat(r)},nr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(t)&&!Js(t))return n;var i;if(Ds(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Md(i)&&(i=n),s&&i>r&&(i=r),i},Fa=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},fW=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Cr=function(t,r){return ee(t)&&ee(r)?function(n){return t+n*(r-t)}:function(){return r}};function If(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Dr(n,t))===r})}var hW=function(t,r){return ee(t)&&ee(r)?t-r:Js(t)&&Js(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Qi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}var mW=["viewBox","children"],pW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rk=["points","pathLength"],ag={svg:mW,polygon:rk,polyline:rk},$b=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!el(n))return null;var s={};return Object.keys(n).forEach(function(i){$b.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},gW=function(t,r,n){return function(s){return t(r,n,s),null}},ei=function(t,r,n){if(!el(t)||nx(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];$b.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=gW(o,r,n))}),s},xW=["children"],yW=["children"];function nk(e,t){if(e==null)return{};var r=vW(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ax(e){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ax(e)}var ak={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ua=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},sk=null,sg=null,Db=function e(t){if(t===sk&&Array.isArray(sg))return sg;var r=[];return N.Children.forEach(t,function(n){be(n)||(tW.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),sg=r,sk=t,r};function Mr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return ua(s)}):n=[ua(t)],Db(e).forEach(function(s){var i=Dr(s,"type.displayName")||Dr(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Tr(e,t){var r=Mr(e,t);return r&&r[0]}var ik=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!ee(n)||n<=0||!ee(s)||s<=0)},bW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jW=function(t){return t&&t.type&&Js(t.type)&&bW.indexOf(t.type)>=0},wW=function(t){return t&&ax(t)==="object"&&"clipDot"in t},NW=function(t,r,n,s){var i,o=(i=ag==null?void 0:ag[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!xe(t)&&(s&&o.includes(r)||pW.includes(r))||n&&$b.includes(r)},fe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(N.isValidElement(t)&&(s=t.props),!el(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;NW((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},sx=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ok(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!ok(i,o))return!1}return!0},ok=function(t,r){if(be(t)&&be(r))return!0;if(!be(t)&&!be(r)){var n=t.props||{},s=n.children,i=nk(n,xW),o=r.props||{},l=o.children,c=nk(o,yW);return s&&l?Qi(i,c)&&sx(s,l):!s&&!l?Qi(i,c):!1}return!1},lk=function(t,r){var n=[],s={};return Db(t).forEach(function(i,o){if(jW(i))n.push(i);else if(i){var l=ua(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var f=d(i,l,o);n.push(f),s[l]=!0}}}),n},kW=function(t){var r=t&&t.type;return r&&ak[r]?ak[r]:null},SW=function(t,r){return Db(r).indexOf(t)},PW=["children","width","height","viewBox","className","style","title","desc"];function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ix.apply(this,arguments)}function OW(e,t){if(e==null)return{};var r=AW(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ox(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=OW(e,PW),u=s||{width:r,height:n,x:0,y:0},f=we("recharts-surface",i);return R.createElement("svg",ix({},fe(d,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var TW=["children","className"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(this,arguments)}function CW(e,t){if(e==null)return{};var r=_W(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _W(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ce=R.forwardRef(function(e,t){var r=e.children,n=e.className,s=CW(e,TW),i=we("recharts-layer",n);return R.createElement("g",lx({className:i},fe(s,!0),{ref:t}),r)}),Sn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function EW(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var $W=EW,DW=$W;function MW(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:DW(e,t,r)}var IW=MW,RW="\\ud800-\\udfff",LW="\\u0300-\\u036f",FW="\\ufe20-\\ufe2f",BW="\\u20d0-\\u20ff",zW=LW+FW+BW,UW="\\ufe0e\\ufe0f",VW="\\u200d",WW=RegExp("["+VW+RW+zW+UW+"]");function HW(e){return WW.test(e)}var i_=HW;function qW(e){return e.split("")}var KW=qW,o_="\\ud800-\\udfff",GW="\\u0300-\\u036f",XW="\\ufe20-\\ufe2f",YW="\\u20d0-\\u20ff",QW=GW+XW+YW,ZW="\\ufe0e\\ufe0f",JW="["+o_+"]",cx="["+QW+"]",dx="\\ud83c[\\udffb-\\udfff]",eH="(?:"+cx+"|"+dx+")",l_="[^"+o_+"]",c_="(?:\\ud83c[\\udde6-\\uddff]){2}",d_="[\\ud800-\\udbff][\\udc00-\\udfff]",tH="\\u200d",u_=eH+"?",f_="["+ZW+"]?",rH="(?:"+tH+"(?:"+[l_,c_,d_].join("|")+")"+f_+u_+")*",nH=f_+u_+rH,aH="(?:"+[l_+cx+"?",cx,c_,d_,JW].join("|")+")",sH=RegExp(dx+"(?="+dx+")|"+aH+nH,"g");function iH(e){return e.match(sH)||[]}var oH=iH,lH=KW,cH=i_,dH=oH;function uH(e){return cH(e)?dH(e):lH(e)}var fH=uH,hH=IW,mH=i_,pH=fH,gH=e_;function xH(e){return function(t){t=gH(t);var r=mH(t)?pH(t):void 0,n=r?r[0]:t.charAt(0),s=r?hH(r,1).join(""):t.slice(1);return n[e]()+s}}var yH=xH,vH=yH,bH=vH("toUpperCase"),jH=bH;const Tm=Me(jH);function Ue(e){return function(){return e}}const h_=Math.cos,Lf=Math.sin,_n=Math.sqrt,Ff=Math.PI,Cm=2*Ff,ux=Math.PI,fx=2*ux,Ns=1e-6,wH=fx-Ns;function m_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function NH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return m_;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class kH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?m_:NH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=s-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ns)if(!(Math.abs(f*c-d*u)>Ns)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=s-l,x=c*c+d*d,y=p*p+m*m,g=Math.sqrt(x),v=Math.sqrt(h),b=i*Math.tan((ux-Math.acos((x+h-y)/(2*g*v)))/2),w=b/v,j=b/g;Math.abs(w-1)>Ns&&this._append`L${t+w*u},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*p>u*m)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=t+l,u=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ns||Math.abs(this._y1-u)>Ns)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%fx+fx),h>wH?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>Ns&&this._append`A${n},${n},0,${+(h>=ux)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Mb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new kH(t)}function Ib(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function p_(e){this._context=e}p_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _m(e){return new p_(e)}function g_(e){return e[0]}function x_(e){return e[1]}function y_(e,t){var r=Ue(!0),n=null,s=_m,i=null,o=Mb(l);e=typeof e=="function"?e:e===void 0?g_:Ue(e),t=typeof t=="function"?t:t===void 0?x_:Ue(t);function l(c){var d,u=(c=Ib(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,d,c),+t(f,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ue(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ue(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ue(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function pu(e,t,r){var n=null,s=Ue(!0),i=null,o=_m,l=null,c=Mb(d);e=typeof e=="function"?e:e===void 0?g_:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?x_:Ue(+r);function d(f){var h,p,m,x=(f=Ib(f)).length,y,g=!1,v,b=new Array(x),w=new Array(x);for(i==null&&(l=o(v=c())),h=0;h<=x;++h){if(!(h<x&&s(y=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(b[m],w[m]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(y,h,f),w[h]=+t(y,h,f),l.point(n?+n(y,h,f):b[h],r?+r(y,h,f):w[h]))}if(v)return l=null,v+""||null}function u(){return y_().defined(s).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ue(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ue(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ue(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ue(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ue(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ue(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ue(!!f),d):s},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class v_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function SH(e){return new v_(e,!0)}function PH(e){return new v_(e,!1)}const Rb={draw(e,t){const r=_n(t/Ff);e.moveTo(r,0),e.arc(0,0,r,0,Cm)}},OH={draw(e,t){const r=_n(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},b_=_n(1/3),AH=b_*2,TH={draw(e,t){const r=_n(t/AH),n=r*b_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},CH={draw(e,t){const r=_n(t),n=-r/2;e.rect(n,n,r,r)}},_H=.8908130915292852,j_=Lf(Ff/10)/Lf(7*Ff/10),EH=Lf(Cm/10)*j_,$H=-h_(Cm/10)*j_,DH={draw(e,t){const r=_n(t*_H),n=EH*r,s=$H*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Cm*i/5,l=h_(o),c=Lf(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},ig=_n(3),MH={draw(e,t){const r=-_n(t/(ig*3));e.moveTo(0,r*2),e.lineTo(-ig*r,-r),e.lineTo(ig*r,-r),e.closePath()}},Ur=-.5,Vr=_n(3)/2,hx=1/_n(12),IH=(hx/2+1)*3,RH={draw(e,t){const r=_n(t/IH),n=r/2,s=r*hx,i=n,o=r*hx+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ur*n-Vr*s,Vr*n+Ur*s),e.lineTo(Ur*i-Vr*o,Vr*i+Ur*o),e.lineTo(Ur*l-Vr*c,Vr*l+Ur*c),e.lineTo(Ur*n+Vr*s,Ur*s-Vr*n),e.lineTo(Ur*i+Vr*o,Ur*o-Vr*i),e.lineTo(Ur*l+Vr*c,Ur*c-Vr*l),e.closePath()}};function LH(e,t){let r=null,n=Mb(s);e=typeof e=="function"?e:Ue(e||Rb),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ue(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Bf(){}function zf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function w_(e){this._context=e}w_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FH(e){return new w_(e)}function N_(e){this._context=e}N_.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BH(e){return new N_(e)}function k_(e){this._context=e}k_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zH(e){return new k_(e)}function S_(e){this._context=e}S_.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function UH(e){return new S_(e)}function ck(e){return e<0?-1:1}function dk(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(ck(i)+ck(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function uk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function og(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Uf(e){this._context=e}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:og(this,this._t0,uk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,og(this,uk(this,r=dk(this,e,t)),r);break;default:og(this,this._t0,r=dk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function P_(e){this._context=new O_(e)}(P_.prototype=Object.create(Uf.prototype)).point=function(e,t){Uf.prototype.point.call(this,t,e)};function O_(e){this._context=e}O_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function VH(e){return new Uf(e)}function WH(e){return new P_(e)}function A_(e){this._context=e}A_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fk(e),s=fk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fk(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function HH(e){return new A_(e)}function Em(e,t){this._context=e,this._t=t}Em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function qH(e){return new Em(e,.5)}function KH(e){return new Em(e,0)}function GH(e){return new Em(e,1)}function go(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function mx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function XH(e,t){return e[t]}function YH(e){const t=[];return t.key=e,t}function QH(){var e=Ue([]),t=mx,r=go,n=XH;function s(i){var o=Array.from(e.apply(this,arguments),YH),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(f,o[l].key,d,i)]).data=f;for(l=0,u=Ib(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ue(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?mx:typeof i=="function"?i:Ue(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??go,s):r},s}function ZH(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}go(e,t)}}function JH(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}go(e,t)}}function eq(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var x=e[t[m]],y=x[n][1]||0,g=x[n-1][1]||0;p+=y-g}c+=f,d+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,go(e,t)}}function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}var tq=["type","size","sizeType"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(this,arguments)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rq(e,t,r){return t=nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nq(e){var t=aq(e,"string");return Lc(t)=="symbol"?t:t+""}function aq(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sq(e,t){if(e==null)return{};var r=iq(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var T_={symbolCircle:Rb,symbolCross:OH,symbolDiamond:TH,symbolSquare:CH,symbolStar:DH,symbolTriangle:MH,symbolWye:RH},oq=Math.PI/180,lq=function(t){var r="symbol".concat(Tm(t));return T_[r]||Rb},cq=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*oq;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},dq=function(t,r){T_["symbol".concat(Tm(t))]=r},Lb=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=sq(t,tq),d=mk(mk({},c),{},{type:n,size:i,sizeType:l}),u=function(){var y=lq(n),g=LH().type(y).size(cq(i,l,n));return g()},f=d.className,h=d.cx,p=d.cy,m=fe(d,!0);return h===+h&&p===+p&&i===+i?R.createElement("path",px({},m,{className:we("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Lb.registerSymbol=dq;function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(this,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){Fc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,__(n.key),n)}}function mq(e,t,r){return t&&hq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pq(e,t,r){return t=Vf(t),gq(e,C_()?Reflect.construct(t,r||[],Vf(e).constructor):t.apply(e,r))}function gq(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xq(e)}function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C_=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(e)}function yq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xx(e,t)}function xx(e,t){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xx(e,t)}function Fc(e,t,r){return t=__(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __(e){var t=vq(e,"string");return xo(t)=="symbol"?t:t+""}function vq(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wr=32,Fb=function(e){function t(){return fq(this,t),pq(this,t,arguments)}return yq(t,e),mq(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Wr/2,o=Wr/6,l=Wr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Wr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Wr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var d=uq({},n);return delete d.legendIcon,R.cloneElement(n.legendIcon,d)}return R.createElement(Lb,{fill:c,cx:i,cy:i,size:Wr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:Wr,height:Wr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var x=p.formatter||c,y=we(Fc(Fc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=xe(p.value)?null:p.value;Sn(!xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?d:p.color;return R.createElement("li",gx({className:y,style:f,key:"legend-item-".concat(m)},ei(n.props,p,m)),R.createElement(ox,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},x?x(g,p,m):g))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);Fc(Fb,"displayName","Legend");Fc(Fb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bq=gm;function jq(){this.__data__=new bq,this.size=0}var wq=jq;function Nq(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kq=Nq;function Sq(e){return this.__data__.get(e)}var Pq=Sq;function Oq(e){return this.__data__.has(e)}var Aq=Oq,Tq=gm,Cq=Pb,_q=Ob,Eq=200;function $q(e,t){var r=this.__data__;if(r instanceof Tq){var n=r.__data__;if(!Cq||n.length<Eq-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _q(n)}return r.set(e,t),this.size=r.size,this}var Dq=$q,Mq=gm,Iq=wq,Rq=kq,Lq=Pq,Fq=Aq,Bq=Dq;function sl(e){var t=this.__data__=new Mq(e);this.size=t.size}sl.prototype.clear=Iq;sl.prototype.delete=Rq;sl.prototype.get=Lq;sl.prototype.has=Fq;sl.prototype.set=Bq;var E_=sl,zq="__lodash_hash_undefined__";function Uq(e){return this.__data__.set(e,zq),this}var Vq=Uq;function Wq(e){return this.__data__.has(e)}var Hq=Wq,qq=Ob,Kq=Vq,Gq=Hq;function Wf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new qq;++t<r;)this.add(e[t])}Wf.prototype.add=Wf.prototype.push=Kq;Wf.prototype.has=Gq;var $_=Wf;function Xq(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var D_=Xq;function Yq(e,t){return e.has(t)}var M_=Yq,Qq=$_,Zq=D_,Jq=M_,eK=1,tK=2;function rK(e,t,r,n,s,i){var o=r&eK,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,p=r&tK?new Qq:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],x=t[f];if(n)var y=o?n(x,m,f,t,e,i):n(m,x,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Zq(t,function(g,v){if(!Jq(p,v)&&(m===g||s(m,g,r,n,i)))return p.push(v)})){h=!1;break}}else if(!(m===x||s(m,x,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var I_=rK,nK=Yn,aK=nK.Uint8Array,sK=aK;function iK(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var oK=iK;function lK(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Bb=lK,gk=Dd,xk=sK,cK=Sb,dK=I_,uK=oK,fK=Bb,hK=1,mK=2,pK="[object Boolean]",gK="[object Date]",xK="[object Error]",yK="[object Map]",vK="[object Number]",bK="[object RegExp]",jK="[object Set]",wK="[object String]",NK="[object Symbol]",kK="[object ArrayBuffer]",SK="[object DataView]",yk=gk?gk.prototype:void 0,lg=yk?yk.valueOf:void 0;function PK(e,t,r,n,s,i,o){switch(r){case SK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kK:return!(e.byteLength!=t.byteLength||!i(new xk(e),new xk(t)));case pK:case gK:case vK:return cK(+e,+t);case xK:return e.name==t.name&&e.message==t.message;case bK:case wK:return e==t+"";case yK:var l=uK;case jK:var c=n&hK;if(l||(l=fK),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=mK,o.set(e,t);var u=dK(l(e),l(t),n,s,i,o);return o.delete(e),u;case NK:if(lg)return lg.call(e)==lg.call(t)}return!1}var OK=PK;function AK(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var R_=AK,TK=R_,CK=kr;function _K(e,t,r){var n=t(e);return CK(e)?n:TK(n,r(e))}var EK=_K;function $K(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var DK=$K;function MK(){return[]}var IK=MK,RK=DK,LK=IK,FK=Object.prototype,BK=FK.propertyIsEnumerable,vk=Object.getOwnPropertySymbols,zK=vk?function(e){return e==null?[]:(e=Object(e),RK(vk(e),function(t){return BK.call(e,t)}))}:LK,UK=zK;function VK(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var WK=VK,HK=Pa,qK=Oa,KK="[object Arguments]";function GK(e){return qK(e)&&HK(e)==KK}var XK=GK,bk=XK,YK=Oa,L_=Object.prototype,QK=L_.hasOwnProperty,ZK=L_.propertyIsEnumerable,JK=bk(function(){return arguments}())?bk:function(e){return YK(e)&&QK.call(e,"callee")&&!ZK.call(e,"callee")},zb=JK,Hf={exports:{}};function eG(){return!1}var tG=eG;Hf.exports;(function(e,t){var r=Yn,n=tG,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(Hf,Hf.exports);var F_=Hf.exports,rG=9007199254740991,nG=/^(?:0|[1-9]\d*)$/;function aG(e,t){var r=typeof e;return t=t??rG,!!t&&(r=="number"||r!="symbol"&&nG.test(e))&&e>-1&&e%1==0&&e<t}var Ub=aG,sG=9007199254740991;function iG(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sG}var Vb=iG,oG=Pa,lG=Vb,cG=Oa,dG="[object Arguments]",uG="[object Array]",fG="[object Boolean]",hG="[object Date]",mG="[object Error]",pG="[object Function]",gG="[object Map]",xG="[object Number]",yG="[object Object]",vG="[object RegExp]",bG="[object Set]",jG="[object String]",wG="[object WeakMap]",NG="[object ArrayBuffer]",kG="[object DataView]",SG="[object Float32Array]",PG="[object Float64Array]",OG="[object Int8Array]",AG="[object Int16Array]",TG="[object Int32Array]",CG="[object Uint8Array]",_G="[object Uint8ClampedArray]",EG="[object Uint16Array]",$G="[object Uint32Array]",Xe={};Xe[SG]=Xe[PG]=Xe[OG]=Xe[AG]=Xe[TG]=Xe[CG]=Xe[_G]=Xe[EG]=Xe[$G]=!0;Xe[dG]=Xe[uG]=Xe[NG]=Xe[fG]=Xe[kG]=Xe[hG]=Xe[mG]=Xe[pG]=Xe[gG]=Xe[xG]=Xe[yG]=Xe[vG]=Xe[bG]=Xe[jG]=Xe[wG]=!1;function DG(e){return cG(e)&&lG(e.length)&&!!Xe[oG(e)]}var MG=DG;function IG(e){return function(t){return e(t)}}var B_=IG,qf={exports:{}};qf.exports;(function(e,t){var r=GC,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(qf,qf.exports);var RG=qf.exports,LG=MG,FG=B_,jk=RG,wk=jk&&jk.isTypedArray,BG=wk?FG(wk):LG,z_=BG,zG=WK,UG=zb,VG=kr,WG=F_,HG=Ub,qG=z_,KG=Object.prototype,GG=KG.hasOwnProperty;function XG(e,t){var r=VG(e),n=!r&&UG(e),s=!r&&!n&&WG(e),i=!r&&!n&&!s&&qG(e),o=r||n||s||i,l=o?zG(e.length,String):[],c=l.length;for(var d in e)(t||GG.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||HG(d,c)))&&l.push(d);return l}var YG=XG,QG=Object.prototype;function ZG(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||QG;return e===r}var JG=ZG;function eX(e,t){return function(r){return e(t(r))}}var U_=eX,tX=U_,rX=tX(Object.keys,Object),nX=rX,aX=JG,sX=nX,iX=Object.prototype,oX=iX.hasOwnProperty;function lX(e){if(!aX(e))return sX(e);var t=[];for(var r in Object(e))oX.call(e,r)&&r!="constructor"&&t.push(r);return t}var cX=lX,dX=kb,uX=Vb;function fX(e){return e!=null&&uX(e.length)&&!dX(e)}var Id=fX,hX=YG,mX=cX,pX=Id;function gX(e){return pX(e)?hX(e):mX(e)}var $m=gX,xX=EK,yX=UK,vX=$m;function bX(e){return xX(e,vX,yX)}var jX=bX,Nk=jX,wX=1,NX=Object.prototype,kX=NX.hasOwnProperty;function SX(e,t,r,n,s,i){var o=r&wX,l=Nk(e),c=l.length,d=Nk(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:kX.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var x=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<c;){h=l[f];var g=e[h],v=t[h];if(n)var b=o?n(v,g,h,t,e,i):n(g,v,h,e,t,i);if(!(b===void 0?g===v||s(g,v,r,n,i):b)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var w=e.constructor,j=t.constructor;w!=j&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof j=="function"&&j instanceof j)&&(x=!1)}return i.delete(e),i.delete(t),x}var PX=SX,OX=ci,AX=Yn,TX=OX(AX,"DataView"),CX=TX,_X=ci,EX=Yn,$X=_X(EX,"Promise"),DX=$X,MX=ci,IX=Yn,RX=MX(IX,"Set"),V_=RX,LX=ci,FX=Yn,BX=LX(FX,"WeakMap"),zX=BX,yx=CX,vx=Pb,bx=DX,jx=V_,wx=zX,W_=Pa,il=YC,kk="[object Map]",UX="[object Object]",Sk="[object Promise]",Pk="[object Set]",Ok="[object WeakMap]",Ak="[object DataView]",VX=il(yx),WX=il(vx),HX=il(bx),qX=il(jx),KX=il(wx),ks=W_;(yx&&ks(new yx(new ArrayBuffer(1)))!=Ak||vx&&ks(new vx)!=kk||bx&&ks(bx.resolve())!=Sk||jx&&ks(new jx)!=Pk||wx&&ks(new wx)!=Ok)&&(ks=function(e){var t=W_(e),r=t==UX?e.constructor:void 0,n=r?il(r):"";if(n)switch(n){case VX:return Ak;case WX:return kk;case HX:return Sk;case qX:return Pk;case KX:return Ok}return t});var GX=ks,cg=E_,XX=I_,YX=OK,QX=PX,Tk=GX,Ck=kr,_k=F_,ZX=z_,JX=1,Ek="[object Arguments]",$k="[object Array]",gu="[object Object]",eY=Object.prototype,Dk=eY.hasOwnProperty;function tY(e,t,r,n,s,i){var o=Ck(e),l=Ck(t),c=o?$k:Tk(e),d=l?$k:Tk(t);c=c==Ek?gu:c,d=d==Ek?gu:d;var u=c==gu,f=d==gu,h=c==d;if(h&&_k(e)){if(!_k(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new cg),o||ZX(e)?XX(e,t,r,n,s,i):YX(e,t,c,r,n,s,i);if(!(r&JX)){var p=u&&Dk.call(e,"__wrapped__"),m=f&&Dk.call(t,"__wrapped__");if(p||m){var x=p?e.value():e,y=m?t.value():t;return i||(i=new cg),s(x,y,r,n,i)}}return h?(i||(i=new cg),QX(e,t,r,n,s,i)):!1}var rY=tY,nY=rY,Mk=Oa;function H_(e,t,r,n,s){return e===t?!0:e==null||t==null||!Mk(e)&&!Mk(t)?e!==e&&t!==t:nY(e,t,r,n,H_,s)}var Wb=H_,aY=E_,sY=Wb,iY=1,oY=2;function lY(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new aY;if(n)var h=n(d,u,c,e,t,f);if(!(h===void 0?sY(u,d,iY|oY,n,f):h))return!1}}return!0}var cY=lY,dY=fs;function uY(e){return e===e&&!dY(e)}var q_=uY,fY=q_,hY=$m;function mY(e){for(var t=hY(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,fY(s)]}return t}var pY=mY;function gY(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var K_=gY,xY=cY,yY=pY,vY=K_;function bY(e){var t=yY(e);return t.length==1&&t[0][2]?vY(t[0][0],t[0][1]):function(r){return r===e||xY(r,e,t)}}var jY=bY;function wY(e,t){return e!=null&&t in Object(e)}var NY=wY,kY=t_,SY=zb,PY=kr,OY=Ub,AY=Vb,TY=ym;function CY(e,t,r){t=kY(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=TY(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&AY(s)&&OY(o,s)&&(PY(e)||SY(e)))}var _Y=CY,EY=NY,$Y=_Y;function DY(e,t){return e!=null&&$Y(e,t,EY)}var MY=DY,IY=Wb,RY=r_,LY=MY,FY=Nb,BY=q_,zY=K_,UY=ym,VY=1,WY=2;function HY(e,t){return FY(e)&&BY(t)?zY(UY(e),t):function(r){var n=RY(r,e);return n===void 0&&n===t?LY(r,e):IY(t,n,VY|WY)}}var qY=HY;function KY(e){return e}var ol=KY;function GY(e){return function(t){return t==null?void 0:t[e]}}var XY=GY,YY=Cb;function QY(e){return function(t){return YY(t,e)}}var ZY=QY,JY=XY,eQ=ZY,tQ=Nb,rQ=ym;function nQ(e){return tQ(e)?JY(rQ(e)):eQ(e)}var aQ=nQ,sQ=jY,iQ=qY,oQ=ol,lQ=kr,cQ=aQ;function dQ(e){return typeof e=="function"?e:e==null?oQ:typeof e=="object"?lQ(e)?iQ(e[0],e[1]):sQ(e):cQ(e)}var Qn=dQ;function uQ(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var G_=uQ;function fQ(e){return e!==e}var hQ=fQ;function mQ(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var pQ=mQ,gQ=G_,xQ=hQ,yQ=pQ;function vQ(e,t,r){return t===t?yQ(e,t,r):gQ(e,xQ,r)}var bQ=vQ,jQ=bQ;function wQ(e,t){var r=e==null?0:e.length;return!!r&&jQ(e,t,0)>-1}var NQ=wQ;function kQ(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var SQ=kQ;function PQ(){}var OQ=PQ,dg=V_,AQ=OQ,TQ=Bb,CQ=1/0,_Q=dg&&1/TQ(new dg([,-0]))[1]==CQ?function(e){return new dg(e)}:AQ,EQ=_Q,$Q=$_,DQ=NQ,MQ=SQ,IQ=M_,RQ=EQ,LQ=Bb,FQ=200;function BQ(e,t,r){var n=-1,s=DQ,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=MQ;else if(i>=FQ){var d=t?null:RQ(e);if(d)return LQ(d);o=!1,s=IQ,c=new $Q}else c=t?[]:l;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(u)}else s(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var zQ=BQ,UQ=Qn,VQ=zQ;function WQ(e,t){return e&&e.length?VQ(e,UQ(t)):[]}var HQ=WQ;const Ik=Me(HQ);function X_(e,t,r){return t===!0?Ik(e,r):xe(t)?Ik(e,t):e}function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}var qQ=["ref"];function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){Dm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q_(n.key),n)}}function GQ(e,t,r){return t&&Lk(e.prototype,t),r&&Lk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XQ(e,t,r){return t=Kf(t),YQ(e,Y_()?Reflect.construct(t,r||[],Kf(e).constructor):t.apply(e,r))}function YQ(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QQ(e)}function QQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y_=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}function ZQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nx(e,t)}function Nx(e,t){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Nx(e,t)}function Dm(e,t,r){return t=Q_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q_(e){var t=JQ(e,"string");return yo(t)=="symbol"?t:t+""}function JQ(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eZ(e,t){if(e==null)return{};var r=tZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rZ(e){return e.value}function nZ(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=eZ(t,qQ);return R.createElement(Fb,r)}var Fk=1,It=function(e){function t(){var r;KQ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=XQ(this,t,[].concat(s)),Dm(r,"lastBoundingBox",{width:-1,height:-1}),r}return ZQ(t,e),GQ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Fk||Math.abs(s.height-this.lastBoundingBox.height)>Fk)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ea({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((d||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ea(ea({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=ea(ea({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},nZ(i,ea(ea({},this.props),{},{payload:X_(u,d,rZ)})))}}],[{key:"getWithHeight",value:function(n,s){var i=ea(ea({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ee(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(N.PureComponent);Dm(It,"displayName","Legend");Dm(It,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Bk=Dd,aZ=zb,sZ=kr,zk=Bk?Bk.isConcatSpreadable:void 0;function iZ(e){return sZ(e)||aZ(e)||!!(zk&&e&&e[zk])}var oZ=iZ,lZ=R_,cZ=oZ;function Z_(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=cZ),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?Z_(l,t-1,r,n,s):lZ(s,l):n||(s[s.length]=l)}return s}var J_=Z_;function dZ(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var uZ=dZ,fZ=uZ,hZ=fZ(),mZ=hZ,pZ=mZ,gZ=$m;function xZ(e,t){return e&&pZ(e,t,gZ)}var eE=xZ,yZ=Id;function vZ(e,t){return function(r,n){if(r==null)return r;if(!yZ(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var bZ=vZ,jZ=eE,wZ=bZ,NZ=wZ(jZ),Hb=NZ,kZ=Hb,SZ=Id;function PZ(e,t){var r=-1,n=SZ(e)?Array(e.length):[];return kZ(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var tE=PZ;function OZ(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var AZ=OZ,Uk=Jo;function TZ(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=Uk(e),o=t!==void 0,l=t===null,c=t===t,d=Uk(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!d&&e<t||d&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var CZ=TZ,_Z=CZ;function EZ(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=_Z(s[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var $Z=EZ,ug=Tb,DZ=Cb,MZ=Qn,IZ=tE,RZ=AZ,LZ=B_,FZ=$Z,BZ=ol,zZ=kr;function UZ(e,t,r){t.length?t=ug(t,function(i){return zZ(i)?function(o){return DZ(o,i.length===1?i[0]:i)}:i}):t=[BZ];var n=-1;t=ug(t,LZ(MZ));var s=IZ(e,function(i,o,l){var c=ug(t,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return RZ(s,function(i,o){return FZ(i,o,r)})}var VZ=UZ;function WZ(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var HZ=WZ,qZ=HZ,Vk=Math.max;function KZ(e,t,r){return t=Vk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=Vk(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),qZ(e,this,l)}}var GZ=KZ;function XZ(e){return function(){return e}}var YZ=XZ,QZ=ci,ZZ=function(){try{var e=QZ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rE=ZZ,JZ=YZ,Wk=rE,eJ=ol,tJ=Wk?function(e,t){return Wk(e,"toString",{configurable:!0,enumerable:!1,value:JZ(t),writable:!0})}:eJ,rJ=tJ,nJ=800,aJ=16,sJ=Date.now;function iJ(e){var t=0,r=0;return function(){var n=sJ(),s=aJ-(n-r);if(r=n,s>0){if(++t>=nJ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var oJ=iJ,lJ=rJ,cJ=oJ,dJ=cJ(lJ),uJ=dJ,fJ=ol,hJ=GZ,mJ=uJ;function pJ(e,t){return mJ(hJ(e,t,fJ),e+"")}var gJ=pJ,xJ=Sb,yJ=Id,vJ=Ub,bJ=fs;function jJ(e,t,r){if(!bJ(r))return!1;var n=typeof t;return(n=="number"?yJ(r)&&vJ(t,r.length):n=="string"&&t in r)?xJ(r[t],e):!1}var Mm=jJ,wJ=J_,NJ=VZ,kJ=gJ,Hk=Mm,SJ=kJ(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Hk(e,t[0],t[1])?t=[]:r>2&&Hk(t[0],t[1],t[2])&&(t=[t[0]]),NJ(e,wJ(t,1),[])}),PJ=SJ;const qb=Me(PJ);function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(this,arguments)}function OJ(e,t){return _J(e)||CJ(e,t)||TJ(e,t)||AJ()}function AJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TJ(e,t){if(e){if(typeof e=="string")return qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qk(e,t)}}function qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function _J(e){if(Array.isArray(e))return e}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){EJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t,r){return t=$J(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $J(e){var t=DJ(e,"string");return Bc(t)=="symbol"?t:t+""}function DJ(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MJ(e){return Array.isArray(e)&&Ct(e[0])&&Ct(e[1])?e.join(" ~ "):e}var IJ=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,x=t.label,y=t.labelFormatter,g=t.accessibilityLayer,v=g===void 0?!1:g,b=function(){if(u&&u.length){var T={padding:0,margin:0},F=(h?qb(u,h):u).map(function(z,M){if(z.type==="none")return null;var L=fg({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),V=z.formatter||f||MJ,$=z.value,_=z.name,U=$,I=_;if(V&&U!=null&&I!=null){var B=V($,_,z,M,u);if(Array.isArray(B)){var q=OJ(B,2);U=q[0],I=q[1]}else U=B}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:L},Ct(I)?R.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Ct(I)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},U),R.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},w=fg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=fg({margin:0},d),k=!be(x),P=k?x:"",S=we("recharts-default-tooltip",p),O=we("recharts-tooltip-label",m);k&&y&&u!==void 0&&u!==null&&(P=y(x,u));var A=v?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",kx({className:S,style:w},A),R.createElement("p",{className:O,style:j},R.isValidElement(P)?P:"".concat(P)),b())};function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function xu(e,t,r){return t=RJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=LJ(e,"string");return zc(t)=="symbol"?t:t+""}function LJ(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ol="recharts-tooltip-wrapper",FJ={visibility:"hidden"};function BJ(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return we(Ol,xu(xu(xu(xu({},"".concat(Ol,"-right"),ee(r)&&t&&ee(t.x)&&r>=t.x),"".concat(Ol,"-left"),ee(r)&&t&&ee(t.x)&&r<t.x),"".concat(Ol,"-bottom"),ee(n)&&t&&ee(t.y)&&n>=t.y),"".concat(Ol,"-top"),ee(n)&&t&&ee(t.y)&&n<t.y))}function Gk(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&ee(i[n]))return i[n];var u=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?u:f;if(o[n]){var h=u,p=c[n];return h<p?Math.max(f,c[n]):Math.max(u,c[n])}var m=f+l,x=c[n]+d;return m>x?Math.max(u,c[n]):Math.max(f,c[n])}function zJ(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function UJ(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=Gk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Gk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=zJ({translateX:u,translateY:f,useTranslate3d:l})):d=FJ,{cssProperties:d,cssClasses:BJ({translateX:u,translateY:f,coordinate:r})}}function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){Px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aE(n.key),n)}}function HJ(e,t,r){return t&&WJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qJ(e,t,r){return t=Gf(t),KJ(e,nE()?Reflect.construct(t,r||[],Gf(e).constructor):t.apply(e,r))}function KJ(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GJ(e)}function GJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nE=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(e)}function XJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sx(e,t)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Sx(e,t)}function Px(e,t,r){return t=aE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aE(e){var t=YJ(e,"string");return vo(t)=="symbol"?t:t+""}function YJ(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qk=1,QJ=function(e){function t(){var r;VJ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=qJ(this,t,[].concat(s)),Px(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Px(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return XJ(t,e),HJ(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Qk||Math.abs(n.height-this.state.lastBoundingBox.height)>Qk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,m=s.position,x=s.reverseDirection,y=s.useTranslate3d,g=s.viewBox,v=s.wrapperStyle,b=UJ({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:g}),w=b.cssClasses,j=b.cssProperties,k=Yk(Yk({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return R.createElement("div",{tabIndex:-1,className:w,style:k,ref:function(S){n.wrapperNode=S}},d)}}])}(N.PureComponent),ZJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},di={isSsr:ZJ()};function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(n){Kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iE(n.key),n)}}function tee(e,t,r){return t&&eee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ree(e,t,r){return t=Xf(t),nee(e,sE()?Reflect.construct(t,r||[],Xf(e).constructor):t.apply(e,r))}function nee(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aee(e)}function aee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sE=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(e)}function see(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ox(e,t)}function Ox(e,t){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ox(e,t)}function Kb(e,t,r){return t=iE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iE(e){var t=iee(e,"string");return bo(t)=="symbol"?t:t+""}function iee(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oee(e){return e.dataKey}function lee(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(IJ,t)}var We=function(e){function t(){return JJ(this,t),ree(this,t,arguments)}return see(t,e),tee(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,m=s.payload,x=s.payloadUniqBy,y=s.position,g=s.reverseDirection,v=s.useTranslate3d,b=s.viewBox,w=s.wrapperStyle,j=m??[];f&&j.length&&(j=X_(m.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),x,oee));var k=j.length>0;return R.createElement(QJ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:k,offset:p,position:y,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:w},lee(d,Jk(Jk({},this.props),{},{payload:j})))}}])}(N.PureComponent);Kb(We,"displayName","Tooltip");Kb(We,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!di.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cee=Yn,dee=function(){return cee.Date.now()},uee=dee,fee=/\s/;function hee(e){for(var t=e.length;t--&&fee.test(e.charAt(t)););return t}var mee=hee,pee=mee,gee=/^\s+/;function xee(e){return e&&e.slice(0,pee(e)+1).replace(gee,"")}var yee=xee,vee=yee,e2=fs,bee=Jo,t2=NaN,jee=/^[-+]0x[0-9a-f]+$/i,wee=/^0b[01]+$/i,Nee=/^0o[0-7]+$/i,kee=parseInt;function See(e){if(typeof e=="number")return e;if(bee(e))return t2;if(e2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=e2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vee(e);var r=wee.test(e);return r||Nee.test(e)?kee(e.slice(2),r?2:8):jee.test(e)?t2:+e}var oE=See,Pee=fs,hg=uee,r2=oE,Oee="Expected a function",Aee=Math.max,Tee=Math.min;function Cee(e,t,r){var n,s,i,o,l,c,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Oee);t=r2(t)||0,Pee(r)&&(u=!!r.leading,f="maxWait"in r,i=f?Aee(r2(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(k){var P=n,S=s;return n=s=void 0,d=k,o=e.apply(S,P),o}function m(k){return d=k,l=setTimeout(g,t),u?p(k):o}function x(k){var P=k-c,S=k-d,O=t-P;return f?Tee(O,i-S):O}function y(k){var P=k-c,S=k-d;return c===void 0||P>=t||P<0||f&&S>=i}function g(){var k=hg();if(y(k))return v(k);l=setTimeout(g,x(k))}function v(k){return l=void 0,h&&n?p(k):(n=s=void 0,o)}function b(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function w(){return l===void 0?o:v(hg())}function j(){var k=hg(),P=y(k);if(n=arguments,s=this,c=k,P){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return j.cancel=b,j.flush=w,j}var _ee=Cee,Eee=_ee,$ee=fs,Dee="Expected a function";function Mee(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(Dee);return $ee(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Eee(e,t,{leading:n,maxWait:t,trailing:s})}var Iee=Mee;const lE=Me(Iee);function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return t=Lee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lee(e){var t=Fee(e,"string");return Uc(t)=="symbol"?t:t+""}function Fee(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bee(e,t){return Wee(e)||Vee(e,t)||Uee(e,t)||zee()}function zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(e,t){if(e){if(typeof e=="string")return a2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(e,t)}}function a2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Wee(e){if(Array.isArray(e))return e}var Ut=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,x=m===void 0?0:m,y=e.id,g=e.className,v=e.onResize,b=e.style,w=b===void 0?{}:b,j=N.useRef(null),k=N.useRef();k.current=v,N.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var P=N.useState({containerWidth:s.width,containerHeight:s.height}),S=Bee(P,2),O=S[0],A=S[1],C=N.useCallback(function(F,z){A(function(M){var L=Math.round(F),V=Math.round(z);return M.containerWidth===L&&M.containerHeight===V?M:{containerWidth:L,containerHeight:V}})},[]);N.useEffect(function(){var F=function(_){var U,I=_[0].contentRect,B=I.width,q=I.height;C(B,q),(U=k.current)===null||U===void 0||U.call(k,B,q)};x>0&&(F=lE(F,x,{trailing:!0,leading:!1}));var z=new ResizeObserver(F),M=j.current.getBoundingClientRect(),L=M.width,V=M.height;return C(L,V),z.observe(j.current),function(){z.disconnect()}},[C,x]);var T=N.useMemo(function(){var F=O.containerWidth,z=O.containerHeight;if(F<0||z<0)return null;Sn(Ds(o)||Ds(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Sn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Ds(o)?F:o,L=Ds(c)?z:c;r&&r>0&&(M?L=M/r:L&&(M=L*r),h&&L>h&&(L=h)),Sn(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,o,c,u,f,r);var V=!Array.isArray(p)&&ua(p.type).endsWith("Chart");return R.Children.map(p,function($){return R.isValidElement($)?N.cloneElement($,yu({width:M,height:L},V?{style:yu({height:"100%",width:"100%",maxHeight:L,maxWidth:M},$.props.style)}:{})):$})},[r,p,c,h,f,u,O,o]);return R.createElement("div",{id:y?"".concat(y):void 0,className:we("recharts-responsive-container",g),style:yu(yu({},w),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:h}),ref:j},T)}),qn=function(t){return null};qn.displayName="Cell";function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){Hee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hee(e,t,r){return t=qee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qee(e){var t=Kee(e,"string");return Vc(t)=="symbol"?t:t+""}function Kee(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xi={widthCache:{},cacheCount:0},Gee=2e3,Xee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i2="recharts_measurement_span";function Yee(e){var t=Ax({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var rc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||di.isSsr)return{width:0,height:0};var n=Yee(r),s=JSON.stringify({text:t,copyStyle:n});if(xi.widthCache[s])return xi.widthCache[s];try{var i=document.getElementById(i2);i||(i=document.createElement("span"),i.setAttribute("id",i2),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Ax(Ax({},Xee),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return xi.widthCache[s]=c,++xi.cacheCount>Gee&&(xi.cacheCount=0,xi.widthCache={}),c}catch{return{width:0,height:0}}},Qee=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Yf(e,t){return tte(e)||ete(e,t)||Jee(e,t)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jee(e,t){if(e){if(typeof e=="string")return o2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o2(e,t)}}function o2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ete(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function tte(e){if(Array.isArray(e))return e}function rte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ate(n.key),n)}}function nte(e,t,r){return t&&l2(e.prototype,t),r&&l2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ate(e){var t=ste(e,"string");return Wc(t)=="symbol"?t:t+""}function ste(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ite=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ote=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lte=Object.keys(cE),Fi="NaN";function cte(e,t){return e*cE[t]}var vu=function(){function e(t,r){rte(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ite.test(r)&&(this.num=NaN,this.unit=""),lte.includes(r)&&(this.num=cte(t,r),this.unit="px")}return nte(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=ote.exec(r))!==null&&n!==void 0?n:[],i=Yf(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function dE(e){if(e.includes(Fi))return Fi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=c2.exec(t))!==null&&r!==void 0?r:[],s=Yf(n,4),i=s[1],o=s[2],l=s[3],c=vu.parse(i??""),d=vu.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Fi;t=t.replace(c2,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=d2.exec(t))!==null&&f!==void 0?f:[],p=Yf(h,4),m=p[1],x=p[2],y=p[3],g=vu.parse(m??""),v=vu.parse(y??""),b=x==="+"?g.add(v):g.subtract(v);if(b.isNaN())return Fi;t=t.replace(d2,b.toString())}return t}var u2=/\(([^()]*)\)/;function dte(e){for(var t=e;t.includes("(");){var r=u2.exec(t),n=Yf(r,2),s=n[1];t=t.replace(u2,dE(s))}return t}function ute(e){var t=e.replace(/\s+/g,"");return t=dte(t),t=dE(t),t}function fte(e){try{return ute(e)}catch{return Fi}}function mg(e){var t=fte(e.slice(5,-1));return t===Fi?"":t}var hte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mte=["dx","dy","angle","className","breakAll"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tx.apply(this,arguments)}function f2(e,t){if(e==null)return{};var r=pte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h2(e,t){return vte(e)||yte(e,t)||xte(e,t)||gte()}function gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xte(e,t){if(e){if(typeof e=="string")return m2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(e,t)}}function m2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function vte(e){if(Array.isArray(e))return e}var uE=/[ \f\n\r\t\v\u2028\u2029]+/,fE=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];be(r)||(n?i=r.toString().split(""):i=r.toString().split(uE));var o=i.map(function(c){return{word:c,width:rc(c,s).width}}),l=n?0:rc("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},bte=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=ee(o),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(L,V){var $=V.word,_=V.width,U=L[L.length-1];if(U&&(s==null||i||U.width+_+n<Number(s)))U.words.push($),U.width+=_+n;else{var I={words:[$],width:_};L.push(I)}return L},[])},p=h(r),m=function(M){return M.reduce(function(L,V){return L.width>V.width?L:V})};if(!u)return p;for(var x="",y=function(M){var L=f.slice(0,M),V=fE({breakAll:d,style:c,children:L+x}).wordsWithComputedWidth,$=h(V),_=$.length>o||m($).width>Number(s);return[_,$]},g=0,v=f.length-1,b=0,w;g<=v&&b<=f.length-1;){var j=Math.floor((g+v)/2),k=j-1,P=y(k),S=h2(P,2),O=S[0],A=S[1],C=y(j),T=h2(C,1),F=T[0];if(!O&&!F&&(g=j+1),O&&F&&(v=j-1),!O&&F){w=A;break}b++}return w||p},p2=function(t){var r=be(t)?[]:t.toString().split(uE);return[{words:r}]},jte=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!di.isSsr){var c,d,u=fE({breakAll:o,children:s,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;c=f,d=h}else return p2(s);return bte({breakAll:o,children:s,maxLines:l,style:i},c,d,r,n)}return p2(s)},g2="#808080",ti=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,x=m===void 0?"end":m,y=t.fill,g=y===void 0?g2:y,v=f2(t,hte),b=N.useMemo(function(){return jte({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),w=v.dx,j=v.dy,k=v.angle,P=v.className,S=v.breakAll,O=f2(v,mte);if(!Ct(n)||!Ct(i))return null;var A=n+(ee(w)?w:0),C=i+(ee(j)?j:0),T;switch(x){case"start":T=mg("calc(".concat(d,")"));break;case"middle":T=mg("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:T=mg("calc(".concat(b.length-1," * -").concat(l,")"));break}var F=[];if(f){var z=b[0].width,M=v.width;F.push("scale(".concat((ee(M)?M/z:1)/z,")"))}return k&&F.push("rotate(".concat(k,", ").concat(A,", ").concat(C,")")),F.length&&(O.transform=F.join(" ")),R.createElement("text",Tx({},fe(O,!0),{x:A,y:C,className:we("recharts-text",P),textAnchor:p,fill:g.includes("url")?g2:g}),b.map(function(L,V){var $=L.words.join(S?"":" ");return R.createElement("tspan",{x:A,dy:V===0?T:l,key:"".concat($,"-").concat(V)},$)}))};function Ja(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gb(e){let t,r,n;e.length!==2?(t=Ja,r=(l,c)=>Ja(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ja||e===wte?e:Nte,r=e,n=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=s(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Nte(){return 0}function hE(e){return e===null?NaN:+e}function*kte(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ste=Gb(Ja),Rd=Ste.right;Gb(hE).center;class x2 extends Map{constructor(t,r=Ate){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(y2(this,t))}has(t){return super.has(y2(this,t))}set(t,r){return super.set(Pte(this,t),r)}delete(t){return super.delete(Ote(this,t))}}function y2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Pte({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Ote({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ate(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Tte(e=Ja){if(e===Ja)return mE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Cte=Math.sqrt(50),_te=Math.sqrt(10),Ete=Math.sqrt(2);function Qf(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Cte?10:i>=_te?5:i>=Ete?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Qf(e,t,r*2):[l,c,d]}function Cx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Qf(t,e,r):Qf(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function _x(e,t,r){return t=+t,e=+e,r=+r,Qf(e,t,r)[2]}function Ex(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?_x(t,e,r):_x(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function v2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pE(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?mE:Tte(s);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/c+h)),m=Math.min(n,Math.floor(t+(c-d)*f/c+h));pE(e,t,p,m,s)}const i=e[t];let o=r,l=n;for(Al(e,r,t),s(e[n],i)>0&&Al(e,r,n);o<l;){for(Al(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Al(e,r,l):(++l,Al(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Al(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $te(e,t,r){if(e=Float64Array.from(kte(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b2(e);if(t>=1)return v2(e);var n,s=(n-1)*t,i=Math.floor(s),o=v2(pE(e,i).subarray(0,i+1)),l=b2(e.subarray(i+1));return o+(l-o)*(s-i)}}function Dte(e,t,r=hE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Mte(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Aa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $x=Symbol("implicit");function Xb(){var e=new x2,t=[],r=[],n=$x;function s(i){let o=e.get(i);if(o===void 0){if(n!==$x)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new x2;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Xb(t,r).unknown(n)},un.apply(s,arguments),s}function Hc(){var e=Xb().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,p=s<n,m=p?s:n,x=p?n:s;i=(x-m)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),m+=(x-m-i*(h-c))*u,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var y=Mte(h).map(function(g){return m+i*g});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Hc(t(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},un.apply(f(),arguments)}function gE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gE(t())},e}function nc(){return gE(Hc.apply(null,arguments).paddingInner(1))}function Yb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function xE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ld(){}var qc=.7,Zf=1/qc,Zi="\\s*([+-]?\\d+)\\s*",Kc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ite=/^#([0-9a-f]{3,8})$/,Rte=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),Lte=new RegExp(`^rgb\\(${Wn},${Wn},${Wn}\\)$`),Fte=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${Kc}\\)$`),Bte=new RegExp(`^rgba\\(${Wn},${Wn},${Wn},${Kc}\\)$`),zte=new RegExp(`^hsl\\(${Kc},${Wn},${Wn}\\)$`),Ute=new RegExp(`^hsla\\(${Kc},${Wn},${Wn},${Kc}\\)$`),j2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yb(Ld,Gc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w2,formatHex:w2,formatHex8:Vte,formatHsl:Wte,formatRgb:N2,toString:N2});function w2(){return this.rgb().formatHex()}function Vte(){return this.rgb().formatHex8()}function Wte(){return yE(this).formatHsl()}function N2(){return this.rgb().formatRgb()}function Gc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ite.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?k2(t):r===3?new pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rte.exec(e))?new pr(t[1],t[2],t[3],1):(t=Lte.exec(e))?new pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fte.exec(e))?bu(t[1],t[2],t[3],t[4]):(t=Bte.exec(e))?bu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zte.exec(e))?O2(t[1],t[2]/100,t[3]/100,1):(t=Ute.exec(e))?O2(t[1],t[2]/100,t[3]/100,t[4]):j2.hasOwnProperty(e)?k2(j2[e]):e==="transparent"?new pr(NaN,NaN,NaN,0):null}function k2(e){return new pr(e>>16&255,e>>8&255,e&255,1)}function bu(e,t,r,n){return n<=0&&(e=t=r=NaN),new pr(e,t,r,n)}function Hte(e){return e instanceof Ld||(e=Gc(e)),e?(e=e.rgb(),new pr(e.r,e.g,e.b,e.opacity)):new pr}function Dx(e,t,r,n){return arguments.length===1?Hte(e):new pr(e,t,r,n??1)}function pr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Yb(pr,Dx,xE(Ld,{brighter(e){return e=e==null?Zf:Math.pow(Zf,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qc:Math.pow(qc,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pr(Vs(this.r),Vs(this.g),Vs(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S2,formatHex:S2,formatHex8:qte,formatRgb:P2,toString:P2}));function S2(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function qte(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function P2(){const e=Jf(this.opacity);return`${e===1?"rgb(":"rgba("}${Vs(this.r)}, ${Vs(this.g)}, ${Vs(this.b)}${e===1?")":`, ${e})`}`}function Jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ms(e){return e=Vs(e),(e<16?"0":"")+e.toString(16)}function O2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wn(e,t,r,n)}function yE(e){if(e instanceof wn)return new wn(e.h,e.s,e.l,e.opacity);if(e instanceof Ld||(e=Gc(e)),!e)return new wn;if(e instanceof wn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new wn(o,l,c,e.opacity)}function Kte(e,t,r,n){return arguments.length===1?yE(e):new wn(e,t,r,n??1)}function wn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Yb(wn,Kte,xE(Ld,{brighter(e){return e=e==null?Zf:Math.pow(Zf,e),new wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qc:Math.pow(qc,e),new wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new pr(pg(e>=240?e-240:e+120,s,n),pg(e,s,n),pg(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new wn(A2(this.h),ju(this.s),ju(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jf(this.opacity);return`${e===1?"hsl(":"hsla("}${A2(this.h)}, ${ju(this.s)*100}%, ${ju(this.l)*100}%${e===1?")":`, ${e})`}`}}));function A2(e){return e=(e||0)%360,e<0?e+360:e}function ju(e){return Math.max(0,Math.min(1,e||0))}function pg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Qb=e=>()=>e;function Gte(e,t){return function(r){return e+r*t}}function Xte(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Yte(e){return(e=+e)==1?vE:function(t,r){return r-t?Xte(t,r,e):Qb(isNaN(t)?r:t)}}function vE(e,t){var r=t-e;return r?Gte(e,r):Qb(isNaN(e)?t:e)}const T2=function e(t){var r=Yte(t);function n(s,i){var o=r((s=Dx(s)).r,(i=Dx(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=vE(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return n.gamma=e,n}(1);function Qte(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Zte(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jte(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=ll(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function ere(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function eh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tre(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ll(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Mx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gg=new RegExp(Mx.source,"g");function rre(e){return function(){return e}}function nre(e){return function(t){return e(t)+""}}function are(e,t){var r=Mx.lastIndex=gg.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Mx.exec(e))&&(s=gg.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:eh(n,s)})),r=gg.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?nre(c[0].x):rre(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function ll(e,t){var r=typeof t,n;return t==null||r==="boolean"?Qb(t):(r==="number"?eh:r==="string"?(n=Gc(t))?(t=n,T2):are:t instanceof Gc?T2:t instanceof Date?ere:Zte(t)?Qte:Array.isArray(t)?Jte:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tre:eh)(e,t)}function Zb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function sre(e,t){t===void 0&&(t=e,e=ll);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function ire(e){return function(){return e}}function th(e){return+e}var C2=[0,1];function ar(e){return e}function Ix(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ire(isNaN(t)?NaN:.5)}function ore(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function lre(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Ix(s,n),i=r(o,i)):(n=Ix(n,s),i=r(i,o)),function(l){return i(n(l))}}function cre(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Ix(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Rd(e,l,1,n)-1;return i[c](s[c](l))}}function Fd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Im(){var e=C2,t=C2,r=ll,n,s,i,o=ar,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==ar&&(o=ore(e[0],e[h-1])),l=h>2?cre:lre,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((d||(d=l(t,e.map(n),eh)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,th),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Zb,u()},f.clamp=function(h){return arguments.length?(o=h?!0:ar,u()):o!==ar},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,u()}}function Jb(){return Im()(ar,ar)}function dre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function jo(e){return e=rh(Math.abs(e)),e?e[1]:NaN}function ure(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function fre(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var hre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xc(e){if(!(t=hre.exec(e)))throw new Error("invalid format: "+e);var t;return new ej({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xc.prototype=ej.prototype;function ej(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ej.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mre(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var bE;function pre(e,t){var r=rh(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(bE=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+rh(e,Math.max(0,t+i-1))[0]}function _2(e,t){var r=rh(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const E2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_2(e*100,t),r:_2,s:pre,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $2(e){return e}var D2=Array.prototype.map,M2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gre(e){var t=e.grouping===void 0||e.thousands===void 0?$2:ure(D2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?$2:fre(D2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Xc(f);var h=f.fill,p=f.align,m=f.sign,x=f.symbol,y=f.zero,g=f.width,v=f.comma,b=f.precision,w=f.trim,j=f.type;j==="n"?(v=!0,j="g"):E2[j]||(b===void 0&&(b=12),w=!0,j="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var k=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=x==="$"?n:/[%p]/.test(j)?o:"",S=E2[j],O=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(C){var T=k,F=P,z,M,L;if(j==="c")F=S(C)+F,C="";else{C=+C;var V=C<0||1/C<0;if(C=isNaN(C)?c:S(Math.abs(C),b),w&&(C=mre(C)),V&&+C==0&&m!=="+"&&(V=!1),T=(V?m==="("?m:l:m==="-"||m==="("?"":m)+T,F=(j==="s"?M2[8+bE/3]:"")+F+(V&&m==="("?")":""),O){for(z=-1,M=C.length;++z<M;)if(L=C.charCodeAt(z),48>L||L>57){F=(L===46?s+C.slice(z+1):C.slice(z))+F,C=C.slice(0,z);break}}}v&&!y&&(C=t(C,1/0));var $=T.length+C.length+F.length,_=$<g?new Array(g-$+1).join(h):"";switch(v&&y&&(C=t(_+C,_.length?g-F.length:1/0),_=""),p){case"<":C=T+C+F+_;break;case"=":C=T+_+C+F;break;case"^":C=_.slice(0,$=_.length>>1)+T+C+F+_.slice($);break;default:C=_+T+C+F;break}return i(C)}return A.toString=function(){return f+""},A}function u(f,h){var p=d((f=Xc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(jo(h)/3)))*3,x=Math.pow(10,-m),y=M2[8+m/3];return function(g){return p(x*g)+y}}return{format:d,formatPrefix:u}}var wu,tj,jE;xre({thousands:",",grouping:[3],currency:["$",""]});function xre(e){return wu=gre(e),tj=wu.format,jE=wu.formatPrefix,wu}function yre(e){return Math.max(0,-jo(Math.abs(e)))}function vre(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jo(t)/3)))*3-jo(Math.abs(e)))}function bre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jo(t)-jo(e))+1}function wE(e,t,r,n){var s=Ex(e,t,r),i;switch(n=Xc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=vre(s,o))&&(n.precision=i),jE(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=bre(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=yre(s))&&(n.precision=i-(n.type==="%")*2);break}}return tj(n)}function hs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Cx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return wE(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=_x(o,l,r),d===c)return n[s]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function nh(){var e=Jb();return e.copy=function(){return Fd(e,nh())},un.apply(e,arguments),hs(e)}function NE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,th),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return NE(e).unknown(t)},e=arguments.length?Array.from(e,th):[0,1],hs(r)}function kE(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function I2(e){return Math.log(e)}function R2(e){return Math.exp(e)}function jre(e){return-Math.log(-e)}function wre(e){return-Math.exp(-e)}function Nre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kre(e){return e===10?Nre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function L2(e){return(t,r)=>-e(-t,r)}function rj(e){const t=e(I2,R2),r=t.domain;let n=10,s,i;function o(){return s=Sre(n),i=kre(n),r()[0]<0?(s=L2(s),i=L2(i),e(jre,wre)):e(I2,R2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=s(d),p=s(u),m,x;const y=l==null?10:+l;let g=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(m=1;m<n;++m)if(x=h<0?m/i(-h):m*i(h),!(x<d)){if(x>u)break;g.push(x)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(x=h>0?m/i(-h):m*i(h),!(x<d)){if(x>u)break;g.push(x)}g.length*2<y&&(g=Cx(d,u,y))}else g=Cx(h,p,Math.min(p-h,y)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Xc(c)).precision==null&&(c.trim=!0),c=tj(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/i(Math.round(s(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(kE(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function SE(){const e=rj(Im()).domain([1,10]);return e.copy=()=>Fd(e,SE()).base(e.base()),un.apply(e,arguments),e}function F2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function B2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nj(e){var t=1,r=e(F2(t),B2(t));return r.constant=function(n){return arguments.length?e(F2(t=+n),B2(t)):t},hs(r)}function PE(){var e=nj(Im());return e.copy=function(){return Fd(e,PE()).constant(e.constant())},un.apply(e,arguments)}function z2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Pre(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ore(e){return e<0?-e*e:e*e}function aj(e){var t=e(ar,ar),r=1;function n(){return r===1?e(ar,ar):r===.5?e(Pre,Ore):e(z2(r),z2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},hs(t)}function sj(){var e=aj(Im());return e.copy=function(){return Fd(e,sj()).exponent(e.exponent())},un.apply(e,arguments),e}function Are(){return sj.apply(null,arguments).exponent(.5)}function U2(e){return Math.sign(e)*e*e}function Tre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OE(){var e=Jb(),t=[0,1],r=!1,n;function s(i){var o=Tre(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(U2(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,th)).map(U2)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return OE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},un.apply(s,arguments),hs(s)}function AE(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Dte(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Rd(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ja),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return AE().domain(e).range(t).unknown(n)},un.apply(i,arguments)}function TE(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Rd(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return TE().domain([e,t]).range(s).unknown(i)},un.apply(hs(o),arguments)}function CE(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Rd(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return CE().domain(e).range(t).unknown(r)},un.apply(s,arguments)}const xg=new Date,yg=new Date;function _t(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>_t(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(xg.setTime(+i),yg.setTime(+o),e(xg),e(yg),Math.floor(r(xg,yg))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const ah=_t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ah.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ah);ah.range;const oa=1e3,Qr=oa*60,la=Qr*60,ja=la*24,ij=ja*7,V2=ja*30,vg=ja*365,Is=_t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCSeconds());Is.range;const oj=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oa)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getMinutes());oj.range;const lj=_t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getUTCMinutes());lj.range;const cj=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oa-e.getMinutes()*Qr)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getHours());cj.range;const dj=_t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCHours());dj.range;const Bd=_t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/ja,e=>e.getDate()-1);Bd.range;const Rm=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>e.getUTCDate()-1);Rm.range;const _E=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>Math.floor(e/ja));_E.range;function ui(e){return _t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/ij)}const Lm=ui(0),sh=ui(1),Cre=ui(2),_re=ui(3),wo=ui(4),Ere=ui(5),$re=ui(6);Lm.range;sh.range;Cre.range;_re.range;wo.range;Ere.range;$re.range;function fi(e){return _t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ij)}const Fm=fi(0),ih=fi(1),Dre=fi(2),Mre=fi(3),No=fi(4),Ire=fi(5),Rre=fi(6);Fm.range;ih.range;Dre.range;Mre.range;No.range;Ire.range;Rre.range;const uj=_t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uj.range;const fj=_t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fj.range;const wa=_t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wa.range;const Na=_t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Na.range;function EE(e,t,r,n,s,i){const o=[[Is,1,oa],[Is,5,5*oa],[Is,15,15*oa],[Is,30,30*oa],[i,1,Qr],[i,5,5*Qr],[i,15,15*Qr],[i,30,30*Qr],[s,1,la],[s,3,3*la],[s,6,6*la],[s,12,12*la],[n,1,ja],[n,2,2*ja],[r,1,ij],[t,1,V2],[t,3,3*V2],[e,1,vg]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),m=p?p.range(d,+u+1):[];return h?m.reverse():m}function c(d,u,f){const h=Math.abs(u-d)/f,p=Gb(([,,y])=>y).right(o,h);if(p===o.length)return e.every(Ex(d/vg,u/vg,f));if(p===0)return ah.every(Math.max(Ex(d,u,f),1));const[m,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(x)}return[l,c]}const[Lre,Fre]=EE(Na,fj,Fm,_E,dj,lj),[Bre,zre]=EE(wa,uj,Lm,Bd,cj,oj);function bg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ure(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Cl(s),u=_l(s),f=Cl(i),h=_l(i),p=Cl(o),m=_l(o),x=Cl(l),y=_l(l),g=Cl(c),v=_l(c),b={a:V,A:$,b:_,B:U,c:null,d:X2,e:X2,f:une,g:jne,G:Nne,H:lne,I:cne,j:dne,L:$E,m:fne,M:hne,p:I,q:B,Q:Z2,s:J2,S:mne,u:pne,U:gne,V:xne,w:yne,W:vne,x:null,X:null,y:bne,Y:wne,Z:kne,"%":Q2},w={a:q,A:Y,b:re,B:J,c:null,d:Y2,e:Y2,f:Ane,g:Lne,G:Bne,H:Sne,I:Pne,j:One,L:ME,m:Tne,M:Cne,p:ve,q:Pe,Q:Z2,s:J2,S:_ne,u:Ene,U:$ne,V:Dne,w:Mne,W:Ine,x:null,X:null,y:Rne,Y:Fne,Z:zne,"%":Q2},j={a:A,A:C,b:T,B:F,c:z,d:K2,e:K2,f:ane,g:q2,G:H2,H:G2,I:G2,j:ene,L:nne,m:Jre,M:tne,p:O,q:Zre,Q:ine,s:one,S:rne,u:Kre,U:Gre,V:Xre,w:qre,W:Yre,x:M,X:L,y:q2,Y:H2,Z:Qre,"%":sne};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),w.x=k(r,w),w.X=k(n,w),w.c=k(t,w);function k(te,se){return function(ye){var K=[],Re=-1,ne=0,Be=te.length,ge,Oe,En;for(ye instanceof Date||(ye=new Date(+ye));++Re<Be;)te.charCodeAt(Re)===37&&(K.push(te.slice(ne,Re)),(Oe=W2[ge=te.charAt(++Re)])!=null?ge=te.charAt(++Re):Oe=ge==="e"?" ":"0",(En=se[ge])&&(ge=En(ye,Oe)),K.push(ge),ne=Re+1);return K.push(te.slice(ne,Re)),K.join("")}}function P(te,se){return function(ye){var K=Tl(1900,void 0,1),Re=S(K,te,ye+="",0),ne,Be;if(Re!=ye.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(se&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ne=jg(Tl(K.y,0,1)),Be=ne.getUTCDay(),ne=Be>4||Be===0?ih.ceil(ne):ih(ne),ne=Rm.offset(ne,(K.V-1)*7),K.y=ne.getUTCFullYear(),K.m=ne.getUTCMonth(),K.d=ne.getUTCDate()+(K.w+6)%7):(ne=bg(Tl(K.y,0,1)),Be=ne.getDay(),ne=Be>4||Be===0?sh.ceil(ne):sh(ne),ne=Bd.offset(ne,(K.V-1)*7),K.y=ne.getFullYear(),K.m=ne.getMonth(),K.d=ne.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Be="Z"in K?jg(Tl(K.y,0,1)).getUTCDay():bg(Tl(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Be+5)%7:K.w+K.U*7-(Be+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,jg(K)):bg(K)}}function S(te,se,ye,K){for(var Re=0,ne=se.length,Be=ye.length,ge,Oe;Re<ne;){if(K>=Be)return-1;if(ge=se.charCodeAt(Re++),ge===37){if(ge=se.charAt(Re++),Oe=j[ge in W2?se.charAt(Re++):ge],!Oe||(K=Oe(te,ye,K))<0)return-1}else if(ge!=ye.charCodeAt(K++))return-1}return K}function O(te,se,ye){var K=d.exec(se.slice(ye));return K?(te.p=u.get(K[0].toLowerCase()),ye+K[0].length):-1}function A(te,se,ye){var K=p.exec(se.slice(ye));return K?(te.w=m.get(K[0].toLowerCase()),ye+K[0].length):-1}function C(te,se,ye){var K=f.exec(se.slice(ye));return K?(te.w=h.get(K[0].toLowerCase()),ye+K[0].length):-1}function T(te,se,ye){var K=g.exec(se.slice(ye));return K?(te.m=v.get(K[0].toLowerCase()),ye+K[0].length):-1}function F(te,se,ye){var K=x.exec(se.slice(ye));return K?(te.m=y.get(K[0].toLowerCase()),ye+K[0].length):-1}function z(te,se,ye){return S(te,t,se,ye)}function M(te,se,ye){return S(te,r,se,ye)}function L(te,se,ye){return S(te,n,se,ye)}function V(te){return o[te.getDay()]}function $(te){return i[te.getDay()]}function _(te){return c[te.getMonth()]}function U(te){return l[te.getMonth()]}function I(te){return s[+(te.getHours()>=12)]}function B(te){return 1+~~(te.getMonth()/3)}function q(te){return o[te.getUTCDay()]}function Y(te){return i[te.getUTCDay()]}function re(te){return c[te.getUTCMonth()]}function J(te){return l[te.getUTCMonth()]}function ve(te){return s[+(te.getUTCHours()>=12)]}function Pe(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var se=k(te+="",b);return se.toString=function(){return te},se},parse:function(te){var se=P(te+="",!1);return se.toString=function(){return te},se},utcFormat:function(te){var se=k(te+="",w);return se.toString=function(){return te},se},utcParse:function(te){var se=P(te+="",!0);return se.toString=function(){return te},se}}}var W2={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,Vre=/^%/,Wre=/[\\^$*+?|[\]().{}]/g;function _e(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Hre(e){return e.replace(Wre,"\\$&")}function Cl(e){return new RegExp("^(?:"+e.map(Hre).join("|")+")","i")}function _l(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qre(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Kre(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Gre(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Xre(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Yre(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function H2(e,t,r){var n=Rt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function q2(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Qre(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Zre(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Jre(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function K2(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ene(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function G2(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function tne(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function rne(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function nne(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ane(e,t,r){var n=Rt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sne(e,t,r){var n=Vre.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ine(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function one(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function X2(e,t){return _e(e.getDate(),t,2)}function lne(e,t){return _e(e.getHours(),t,2)}function cne(e,t){return _e(e.getHours()%12||12,t,2)}function dne(e,t){return _e(1+Bd.count(wa(e),e),t,3)}function $E(e,t){return _e(e.getMilliseconds(),t,3)}function une(e,t){return $E(e,t)+"000"}function fne(e,t){return _e(e.getMonth()+1,t,2)}function hne(e,t){return _e(e.getMinutes(),t,2)}function mne(e,t){return _e(e.getSeconds(),t,2)}function pne(e){var t=e.getDay();return t===0?7:t}function gne(e,t){return _e(Lm.count(wa(e)-1,e),t,2)}function DE(e){var t=e.getDay();return t>=4||t===0?wo(e):wo.ceil(e)}function xne(e,t){return e=DE(e),_e(wo.count(wa(e),e)+(wa(e).getDay()===4),t,2)}function yne(e){return e.getDay()}function vne(e,t){return _e(sh.count(wa(e)-1,e),t,2)}function bne(e,t){return _e(e.getFullYear()%100,t,2)}function jne(e,t){return e=DE(e),_e(e.getFullYear()%100,t,2)}function wne(e,t){return _e(e.getFullYear()%1e4,t,4)}function Nne(e,t){var r=e.getDay();return e=r>=4||r===0?wo(e):wo.ceil(e),_e(e.getFullYear()%1e4,t,4)}function kne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function Y2(e,t){return _e(e.getUTCDate(),t,2)}function Sne(e,t){return _e(e.getUTCHours(),t,2)}function Pne(e,t){return _e(e.getUTCHours()%12||12,t,2)}function One(e,t){return _e(1+Rm.count(Na(e),e),t,3)}function ME(e,t){return _e(e.getUTCMilliseconds(),t,3)}function Ane(e,t){return ME(e,t)+"000"}function Tne(e,t){return _e(e.getUTCMonth()+1,t,2)}function Cne(e,t){return _e(e.getUTCMinutes(),t,2)}function _ne(e,t){return _e(e.getUTCSeconds(),t,2)}function Ene(e){var t=e.getUTCDay();return t===0?7:t}function $ne(e,t){return _e(Fm.count(Na(e)-1,e),t,2)}function IE(e){var t=e.getUTCDay();return t>=4||t===0?No(e):No.ceil(e)}function Dne(e,t){return e=IE(e),_e(No.count(Na(e),e)+(Na(e).getUTCDay()===4),t,2)}function Mne(e){return e.getUTCDay()}function Ine(e,t){return _e(ih.count(Na(e)-1,e),t,2)}function Rne(e,t){return _e(e.getUTCFullYear()%100,t,2)}function Lne(e,t){return e=IE(e),_e(e.getUTCFullYear()%100,t,2)}function Fne(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function Bne(e,t){var r=e.getUTCDay();return e=r>=4||r===0?No(e):No.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function zne(){return"+0000"}function Q2(){return"%"}function Z2(e){return+e}function J2(e){return Math.floor(+e/1e3)}var yi,RE,LE;Une({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Une(e){return yi=Ure(e),RE=yi.format,yi.parse,LE=yi.utcFormat,yi.utcParse,yi}function Vne(e){return new Date(e)}function Wne(e){return e instanceof Date?+e:+new Date(+e)}function hj(e,t,r,n,s,i,o,l,c,d){var u=Jb(),f=u.invert,h=u.domain,p=d(".%L"),m=d(":%S"),x=d("%I:%M"),y=d("%I %p"),g=d("%a %d"),v=d("%b %d"),b=d("%B"),w=d("%Y");function j(k){return(c(k)<k?p:l(k)<k?m:o(k)<k?x:i(k)<k?y:n(k)<k?s(k)<k?g:v:r(k)<k?b:w)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?h(Array.from(k,Wne)):h().map(Vne)},u.ticks=function(k){var P=h();return e(P[0],P[P.length-1],k??10)},u.tickFormat=function(k,P){return P==null?j:d(P)},u.nice=function(k){var P=h();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?h(kE(P,k)):u},u.copy=function(){return Fd(u,hj(e,t,r,n,s,i,o,l,c,d))},u}function Hne(){return un.apply(hj(Bre,zre,wa,uj,Lm,Bd,cj,oj,Is,RE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qne(){return un.apply(hj(Lre,Fre,Na,fj,Fm,Rm,dj,lj,Is,LE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bm(){var e=0,t=1,r,n,s,i,o=ar,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),d):[o(0),o(1)]}}return d.range=u(ll),d.rangeRound=u(Zb),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),d}}function ms(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FE(){var e=hs(Bm()(ar));return e.copy=function(){return ms(e,FE())},Aa.apply(e,arguments)}function BE(){var e=rj(Bm()).domain([1,10]);return e.copy=function(){return ms(e,BE()).base(e.base())},Aa.apply(e,arguments)}function zE(){var e=nj(Bm());return e.copy=function(){return ms(e,zE()).constant(e.constant())},Aa.apply(e,arguments)}function mj(){var e=aj(Bm());return e.copy=function(){return ms(e,mj()).exponent(e.exponent())},Aa.apply(e,arguments)}function Kne(){return mj.apply(null,arguments).exponent(.5)}function UE(){var e=[],t=ar;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ja),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>$te(e,i/n))},r.copy=function(){return UE(t).domain(e)},Aa.apply(r,arguments)}function zm(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,d=ar,u,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-i)*(n*x<n*i?l:c),d(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(d=x,p):d};function m(x){return function(y){var g,v,b;return arguments.length?([g,v,b]=y,d=sre(x,[g,v,b]),p):[d(0),d(.5),d(1)]}}return p.range=m(ll),p.rangeRound=m(Zb),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,s=x(e),i=x(t),o=x(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function VE(){var e=hs(zm()(ar));return e.copy=function(){return ms(e,VE())},Aa.apply(e,arguments)}function WE(){var e=rj(zm()).domain([.1,1,10]);return e.copy=function(){return ms(e,WE()).base(e.base())},Aa.apply(e,arguments)}function HE(){var e=nj(zm());return e.copy=function(){return ms(e,HE()).constant(e.constant())},Aa.apply(e,arguments)}function pj(){var e=aj(zm());return e.copy=function(){return ms(e,pj()).exponent(e.exponent())},Aa.apply(e,arguments)}function Gne(){return pj.apply(null,arguments).exponent(.5)}const eS=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hc,scaleDiverging:VE,scaleDivergingLog:WE,scaleDivergingPow:pj,scaleDivergingSqrt:Gne,scaleDivergingSymlog:HE,scaleIdentity:NE,scaleImplicit:$x,scaleLinear:nh,scaleLog:SE,scaleOrdinal:Xb,scalePoint:nc,scalePow:sj,scaleQuantile:AE,scaleQuantize:TE,scaleRadial:OE,scaleSequential:FE,scaleSequentialLog:BE,scaleSequentialPow:mj,scaleSequentialQuantile:UE,scaleSequentialSqrt:Kne,scaleSequentialSymlog:zE,scaleSqrt:Are,scaleSymlog:PE,scaleThreshold:CE,scaleTime:Hne,scaleUtc:qne,tickFormat:wE},Symbol.toStringTag,{value:"Module"}));var Xne=Jo;function Yne(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Xne(o):r(o,l)))var l=o,c=i}return c}var Um=Yne;function Qne(e,t){return e>t}var qE=Qne,Zne=Um,Jne=qE,eae=ol;function tae(e){return e&&e.length?Zne(e,eae,Jne):void 0}var rae=tae;const Vm=Me(rae);function nae(e,t){return e<t}var KE=nae,aae=Um,sae=KE,iae=ol;function oae(e){return e&&e.length?aae(e,iae,sae):void 0}var lae=oae;const Wm=Me(lae);var cae=Tb,dae=Qn,uae=tE,fae=kr;function hae(e,t){var r=fae(e)?cae:uae;return r(e,dae(t))}var mae=hae,pae=J_,gae=mae;function xae(e,t){return pae(gae(e,t),1)}var yae=xae;const vae=Me(yae);var bae=Wb;function jae(e,t){return bae(e,t)}var wae=jae;const zd=Me(wae);var cl=1e9,Nae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xj,rt=!0,on="[DecimalError] ",Ws=on+"Invalid argument: ",gj=on+"Exponent out of range: ",dl=Math.floor,Ss=Math.pow,kae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_r,Et=1e7,Ye=7,GE=9007199254740991,oh=dl(GE/Ye),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ye;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return fa(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return Fe(fa(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return jt(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_r))throw Error(on+"NaN");if(r.s<1)throw Error(on+(r.s?"NaN":"-Infinity"));return r.eq(_r)?new n(0):(rt=!1,t=fa(Yc(r,i),Yc(e,i),i),rt=!0,Fe(t,s))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QE(t,e):XE(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(on+"NaN");return r.s?(rt=!1,t=fa(r,e,0,1).times(e),rt=!0,r.minus(t)):Fe(new n(r),s)};le.naturalExponential=le.exp=function(){return YE(this)};le.naturalLogarithm=le.ln=function(){return Yc(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XE(t,e):QE(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ws+e);if(t=jt(s)+1,n=s.d.length-1,r=n*Ye+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(on+"NaN")}for(e=jt(l),rt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Fn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=dl((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(fa(l,i,o+2)).times(.5),Fn(i.d).slice(0,o)===(t=Fn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Fe(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return rt=!0,Fe(n,r)};le.times=le.mul=function(e){var t,r,n,s,i,o,l,c,d,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=p.length,c<d&&(i=h,h=p,p=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%Et|0,t=l/Et|0;i[s]=(i[s]+t)%Et|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rt?Fe(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Kn(e,0,cl),t===void 0?t=n.rounding:Kn(t,0,8),Fe(r,e+jt(r)+1,t))};le.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ri(n,!0):(Kn(e,0,cl),t===void 0?t=s.rounding:Kn(t,0,8),n=Fe(new s(n),e+1,t),r=ri(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?ri(s):(Kn(e,0,cl),t===void 0?t=i.rounding:Kn(t,0,8),n=Fe(new i(s),e+jt(s)+1,t),r=ri(n.abs(),!1,e+jt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return Fe(new t(e),jt(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(_r);if(l=new c(l),!l.s){if(e.s<1)throw Error(on+"Infinity");return l}if(l.eq(_r))return l;if(n=c.precision,e.eq(_r))return Fe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=GE){for(s=new c(_r),t=Math.ceil(n/Ye+4),rt=!1;r%2&&(s=s.times(l),rS(s.d,t)),r=dl(r/2),r!==0;)l=l.times(l),rS(l.d,t);return rt=!0,e.s<0?new c(_r).div(s):Fe(s,n)}}else if(i<0)throw Error(on+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rt=!1,s=e.times(Yc(l,n+d)),rt=!0,s=YE(s),s.s=i,s};le.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=jt(s),n=ri(s,r<=i.toExpNeg||r>=i.toExpPos)):(Kn(e,1,cl),t===void 0?t=i.rounding:Kn(t,0,8),s=Fe(new i(s),e,t),r=jt(s),n=ri(s,e<=r||r<=i.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Kn(e,1,cl),t===void 0?t=n.rounding:Kn(t,0,8)),Fe(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jt(e),r=e.constructor;return ri(e,t<=r.toExpNeg||t>=r.toExpPos)};function XE(e,t){var r,n,s,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),rt?Fe(t,f):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(f/Ye),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Et|0,c[i]%=Et;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,rt?Fe(t,f):t}function Kn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ws+e)}function Fn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ye-n.length,r&&(i+=Ma(r)),i+=n;o=e[t],n=o+"",r=Ye-n.length,r&&(i+=Ma(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var fa=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Et|0,o=i/Et|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Et+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,u,f,h,p,m,x,y,g,v,b,w,j,k,P,S,O=n.constructor,A=n.s==s.s?1:-1,C=n.d,T=s.d;if(!n.s)return new O(n);if(!s.s)throw Error(on+"Division by zero");for(c=n.e-s.e,P=T.length,j=C.length,p=new O(A),m=p.d=[],d=0;T[d]==(C[d]||0);)++d;if(T[d]>(C[d]||0)&&--c,i==null?v=i=O.precision:o?v=i+(jt(n)-jt(s))+1:v=i,v<0)return new O(0);if(v=v/Ye+2|0,d=0,P==1)for(u=0,T=T[0],v++;(d<j||u)&&v--;d++)b=u*Et+(C[d]||0),m[d]=b/T|0,u=b%T|0;else{for(u=Et/(T[0]+1)|0,u>1&&(T=e(T,u),C=e(C,u),P=T.length,j=C.length),w=P,x=C.slice(0,P),y=x.length;y<P;)x[y++]=0;S=T.slice(),S.unshift(0),k=T[0],T[1]>=Et/2&&++k;do u=0,l=t(T,x,P,y),l<0?(g=x[0],P!=y&&(g=g*Et+(x[1]||0)),u=g/k|0,u>1?(u>=Et&&(u=Et-1),f=e(T,u),h=f.length,y=x.length,l=t(f,x,h,y),l==1&&(u--,r(f,P<h?S:T,h))):(u==0&&(l=u=1),f=T.slice()),h=f.length,h<y&&f.unshift(0),r(x,f,y),l==-1&&(y=x.length,l=t(T,x,P,y),l<1&&(u++,r(x,P<y?S:T,y))),y=x.length):l===0&&(u++,x=[0]),m[d++]=u,l&&x[0]?x[y++]=C[w]||0:(x=[C[w]],y=1);while((w++<j||x[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=c,Fe(p,o?i+jt(p)+1:i)}}();function YE(e,t){var r,n,s,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(jt(e)>16)throw Error(gj+jt(e));if(!e.s)return new u(_r);for(rt=!1,l=f,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Ss(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new u(_r),u.precision=l;;){if(s=Fe(s.times(e),l),r=r.times(++c),o=i.plus(fa(s,r,l)),Fn(o.d).slice(0,l)===Fn(i.d).slice(0,l)){for(;d--;)i=Fe(i.times(i),l);return u.precision=f,t==null?(rt=!0,Fe(i,f)):i}i=o}}function jt(e){for(var t=e.e*Ye,r=e.d[0];r>=10;r/=10)t++;return t}function wg(e,t,r){if(t>e.LN10.sd())throw rt=!0,r&&(e.precision=r),Error(on+"LN10 precision limit exceeded");return Fe(new e(e.LN10),t)}function Ma(e){for(var t="";e--;)t+="0";return t}function Yc(e,t){var r,n,s,i,o,l,c,d,u,f=1,h=10,p=e,m=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(on+(p.s?"NaN":"-Infinity"));if(p.eq(_r))return new x(0);if(t==null?(rt=!1,d=y):d=t,p.eq(10))return t==null&&(rt=!0),wg(x,d);if(d+=h,x.precision=d,r=Fn(m),n=r.charAt(0),i=jt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Fn(p.d),n=r.charAt(0),f++;i=jt(p),n>1?(p=new x("0."+r),i++):p=new x(n+"."+r.slice(1))}else return c=wg(x,d+2,y).times(i+""),p=Yc(new x(n+"."+r.slice(1)),d-h).plus(c),x.precision=y,t==null?(rt=!0,Fe(p,y)):p;for(l=o=p=fa(p.minus(_r),p.plus(_r),d),u=Fe(p.times(p),d),s=3;;){if(o=Fe(o.times(u),d),c=l.plus(fa(o,new x(s),d)),Fn(c.d).slice(0,d)===Fn(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(wg(x,d+2,y).times(i+""))),l=fa(l,new x(f),d),x.precision=y,t==null?(rt=!0,Fe(l,y)):l;l=c,s+=2}}function tS(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=dl(r/Ye),e.d=[],n=(r+1)%Ye,r<0&&(n+=Ye),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ye;n<s;)e.d.push(+t.slice(n,n+=Ye));t=t.slice(n),n=Ye-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),rt&&(e.e>oh||e.e<-oh))throw Error(gj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Fe(e,t,r){var n,s,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ye,s=t,d=f[u=0];else{if(u=Math.ceil((n+1)/Ye),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;n%=Ye,s=n-Ye+o}if(r!==void 0&&(i=Ss(10,o-s-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/Ss(10,o-s):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=jt(e),f.length=1,t=t-i-1,f[0]=Ss(10,(Ye-t%Ye)%Ye),e.e=dl(-t/Ye)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Ss(10,Ye-n),f[u]=s>0?(d/Ss(10,o-s)%Ss(10,s)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Et&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Et)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(rt&&(e.e>oh||e.e<-oh))throw Error(gj+jt(e));return e}function QE(e,t){var r,n,s,i,o,l,c,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rt?Fe(t,p):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,n=d,l=c.length),s=Math.max(Math.ceil(p/Ye),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Et-1;--c[i],c[s]+=Et}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rt?Fe(t,p):t):new h(0)}function ri(e,t,r){var n,s=jt(e),i=Fn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ma(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ma(-s-1)+i,r&&(n=r-o)>0&&(i+=Ma(n))):s>=o?(i+=Ma(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Ma(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Ma(n))),e.s<0?"-"+i:i}function rS(e,t){if(e.length>t)return e.length=t,!0}function ZE(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ws+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return tS(o,i.toString())}else if(typeof i!="string")throw Error(Ws+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,kae.test(i))tS(o,i);else throw Error(Ws+i)}if(s.prototype=le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=ZE,s.config=s.set=Sae,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Sae(e){if(!e||typeof e!="object")throw Error(on+"Object expected");var t,r,n,s=["precision",1,cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(dl(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ws+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ws+r+": "+n);return this}var xj=ZE(Nae);_r=new xj(1);const Le=xj;function Pae(e){return Cae(e)||Tae(e)||Aae(e)||Oae()}function Oae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(e,t){if(e){if(typeof e=="string")return Rx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rx(e,t)}}function Tae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Cae(e){if(Array.isArray(e))return Rx(e)}function Rx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _ae=function(t){return t},JE={},e3=function(t){return t===JE},nS=function(t){return function r(){return arguments.length===0||arguments.length===1&&e3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Eae=function e(t,r){return t===1?r:nS(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==JE}).length;return o>=t?r.apply(void 0,s):e(t-o,nS(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(f){return e3(f)?c.shift():f});return r.apply(void 0,Pae(u).concat(c))}))})},Hm=function(t){return Eae(t.length,t)},Lx=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},$ae=Hm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Dae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _ae;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Fx=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},t3=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Mae(e){var t;return e===0?t=1:t=Math.floor(new Le(e).abs().log(10).toNumber())+1,t}function Iae(e,t,r){for(var n=new Le(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var Rae=Hm(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Lae=Hm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Fae=Hm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const qm={rangeStep:Iae,getDigitCount:Mae,interpolateNumber:Rae,uninterpolateNumber:Lae,uninterpolateTruncation:Fae};function Bx(e){return Uae(e)||zae(e)||r3(e)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Uae(e){if(Array.isArray(e))return zx(e)}function Qc(e,t){return Hae(e)||Wae(e,t)||r3(e,t)||Vae()}function Vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3(e,t){if(e){if(typeof e=="string")return zx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zx(e,t)}}function zx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wae(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Hae(e){if(Array.isArray(e))return e}function n3(e){var t=Qc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function a3(e,t,r){if(e.lte(0))return new Le(0);var n=qm.getDigitCount(e.toNumber()),s=new Le(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Le(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Le(Math.ceil(c))}function qae(e,t,r){var n=1,s=new Le(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Le(10).pow(qm.getDigitCount(e)-1),s=new Le(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Le(Math.floor(e)))}else e===0?s=new Le(Math.floor((t-1)/2)):r||(s=new Le(Math.floor(e)));var o=Math.floor((t-1)/2),l=Dae($ae(function(c){return s.add(new Le(c-o).mul(n)).toNumber()}),Lx);return l(0,t)}function s3(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var i=a3(new Le(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Le(0):(o=new Le(e).add(t).div(2),o=o.sub(new Le(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Le(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?s3(e,t,r,n,s+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Le(l).mul(i)),tickMax:o.add(new Le(c).mul(i))})}function Kae(e){var t=Qc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=n3([r,n]),c=Qc(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(Bx(Lx(0,s-1).map(function(){return 1/0}))):[].concat(Bx(Lx(0,s-1).map(function(){return-1/0})),[u]);return r>n?Fx(f):f}if(d===u)return qae(d,s,i);var h=s3(d,u,o,i),p=h.step,m=h.tickMin,x=h.tickMax,y=qm.rangeStep(m,x.add(new Le(.1).mul(p)),p);return r>n?Fx(y):y}function Gae(e,t){var r=Qc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n3([n,s]),l=Qc(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,s];if(c===d)return[c];var u=Math.max(t,2),f=a3(new Le(d).sub(c).div(u-1),i,0),h=[].concat(Bx(qm.rangeStep(new Le(c),new Le(d).sub(new Le(.99).mul(f)),f)),[d]);return n>s?Fx(h):h}var Xae=t3(Kae),Yae=t3(Gae),Qae="Invariant failed";function ni(e,t){throw new Error(Qae)}var Zae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}function Jae(e,t){return nse(e)||rse(e,t)||tse(e,t)||ese()}function ese(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tse(e,t){if(e){if(typeof e=="string")return aS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(e,t)}}function aS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function nse(e){if(Array.isArray(e))return e}function ase(e,t){if(e==null)return{};var r=sse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ose(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l3(n.key),n)}}function lse(e,t,r){return t&&ose(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cse(e,t,r){return t=ch(t),dse(e,i3()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function dse(e,t){if(t&&(ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(e)}function use(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function fse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ux(e,t)}function Ux(e,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ux(e,t)}function o3(e,t,r){return t=l3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3(e){var t=hse(e,"string");return ko(t)=="symbol"?t:t+""}function hse(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ud=function(e){function t(){return ise(this,t),cse(this,t,arguments)}return fse(t,e),lse(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=ase(n,Zae),p=fe(h,!1);this.props.direction==="x"&&u.type!=="number"&&ni();var m=c.map(function(x){var y=d(x,l),g=y.x,v=y.y,b=y.value,w=y.errorVal;if(!w)return null;var j=[],k,P;if(Array.isArray(w)){var S=Jae(w,2);k=S[0],P=S[1]}else k=P=w;if(i==="vertical"){var O=u.scale,A=v+s,C=A+o,T=A-o,F=O(b-k),z=O(b+P);j.push({x1:z,y1:C,x2:z,y2:T}),j.push({x1:F,y1:A,x2:z,y2:A}),j.push({x1:F,y1:C,x2:F,y2:T})}else if(i==="horizontal"){var M=f.scale,L=g+s,V=L-o,$=L+o,_=M(b-k),U=M(b+P);j.push({x1:V,y1:U,x2:$,y2:U}),j.push({x1:L,y1:_,x2:L,y2:U}),j.push({x1:V,y1:_,x2:$,y2:_})}return R.createElement(Ce,lh({className:"recharts-errorBar",key:"bar-".concat(j.map(function(I){return"".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))},p),j.map(function(I){return R.createElement("line",lh({},I,{key:"line-".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))}))});return R.createElement(Ce,{className:"recharts-errorBars"},m)}}])}(R.Component);o3(Ud,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});o3(Ud,"displayName","ErrorBar");function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mse(e,t,r){return t=pse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pse(e){var t=gse(e,"string");return Zc(t)=="symbol"?t:t+""}function gse(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c3=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Tr(r,It);if(!o)return null;var l=It.defaultProps,c=l!==void 0?xs(xs({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return u.concat(m.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?xs(xs({},h),f.props):{},m=p.dataKey,x=p.name,y=p.legendType,g=p.hide;return{inactive:g,dataKey:m,type:c.iconType||y||"square",color:yj(f),value:x||m,payload:p}}),xs(xs(xs({},c),It.getWithHeight(o,s)),{},{payload:d,item:o})};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function iS(e){return bse(e)||vse(e)||yse(e)||xse()}function xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yse(e,t){if(e){if(typeof e=="string")return Vx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vx(e,t)}}function vse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bse(e){if(Array.isArray(e))return Vx(e)}function Vx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){Ji(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ji(e,t,r){return t=jse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jse(e){var t=wse(e,"string");return Jc(t)=="symbol"?t:t+""}function wse(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return be(e)||be(t)?r:Ct(t)?Dr(e,t,r):xe(t)?t(e):r}function ac(e,t,r,n){var s=vae(e,function(l){return At(l,t)});if(r==="number"){var i=s.filter(function(l){return ee(l)||parseFloat(l)});return i.length?[Wm(i),Vm(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!be(l)}):s;return o.map(function(l){return Ct(l)||l instanceof Date?l:""})}var Nse=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,f=s[d].coordinate,h=d>=l-1?s[0].coordinate:s[d+1].coordinate,p=void 0;if(rr(f-u)!==rr(h-f)){var m=[];if(rr(h-f)===rr(c[1]-c[0])){p=h;var x=f+c[1]-c[0];m[0]=Math.min(x,(x+u)/2),m[1]=Math.max(x,(x+u)/2)}else{p=u;var y=h+c[1]-c[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=m[0]&&t<=m[1]){o=s[d].index;break}}else{var v=Math.min(u,h),b=Math.max(u,h);if(t>(v+f)/2&&t<=(b+f)/2){o=s[d].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},yj=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ft(ft({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},kse=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var m=u[f[h]],x=m.items,y=m.cateAxisId,g=x.filter(function(P){return ua(P.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].type.defaultProps,b=v!==void 0?ft(ft({},v),g[0].props):g[0].props,w=b.barSize,j=b[y];o[j]||(o[j]=[]);var k=be(w)?r:w;o[j].push({item:g[0],stackList:g.slice(1),barSize:be(k)?void 0:nr(k,n,0)})}}return o},Sse=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=nr(r,s,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,m=o.reduce(function(w,j){return w+j.barSize||0},0);m+=(c-1)*d,m>=s&&(m-=(c-1)*d,d=0),m>=s&&p>0&&(h=!0,p*=.9,m=c*p);var x=(s-m)/2>>0,y={offset:x-d,size:0};u=o.reduce(function(w,j){var k={item:j.item,position:{offset:y.offset+y.size+d,size:h?p:j.barSize}},P=[].concat(iS(w),[k]);return y=P[P.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){P.push({item:S,position:y})}),P},f)}else{var g=nr(n,s,0,!0);s-2*g-(c-1)*d<=0&&(d=0);var v=(s-2*g-(c-1)*d)/c;v>1&&(v>>=0);var b=l===+l?Math.min(v,l):v;u=o.reduce(function(w,j,k){var P=[].concat(iS(w),[{item:j.item,position:{offset:g+(v+d)*k+(v-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){P.push({item:S,position:P[P.length-1].position})}),P},f)}return u},Pse=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=c3({children:i,legendWidth:c});if(d){var u=s||{},f=u.width,h=u.height,p=d.align,m=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&ee(t[p]))return ft(ft({},t),{},Ji({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&ee(t[m]))return ft(ft({},t),{},Ji({},m,t[m]+(h||0)))}return t},Ose=function(t,r,n){return be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},d3=function(t,r,n,s,i){var o=r.props.children,l=Mr(o,Ud).filter(function(d){return Ose(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=At(u,n);if(be(f))return d;var h=Array.isArray(f)?[Wm(f),Vm(f)]:[f,f],p=c.reduce(function(m,x){var y=At(u,x,0),g=h[0]-Math.abs(Array.isArray(y)?y[0]:y),v=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(g,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},Ase=function(t,r,n,s,i){var o=r.map(function(l){return d3(t,l,n,i,s)}).filter(function(l){return!be(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},u3=function(t,r,n,s,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&d3(t,c,d,s)||ac(t,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},f3=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},h3=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ca=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?rr(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+d,value:f,offset:d}});return u.filter(function(f){return!Md(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+d,value:f,index:h,offset:d}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,h){return{coordinate:s(f)+d,value:i?i[f]:f,index:h,offset:d}})},Ng=new WeakMap,Nu=function(t,r){if(typeof r!="function")return t;Ng.has(t)||Ng.set(t,new WeakMap);var n=Ng.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},m3=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Hc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:nh(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:nc(),realScaleType:"point"}:i==="category"?{scale:Hc(),realScaleType:"band"}:{scale:nh(),realScaleType:"linear"};if(Js(s)){var c="scale".concat(Tm(s));return{scale:(eS[c]||nc)(),realScaleType:eS[c]?c:"point"}}return xe(s)?{scale:s}:{scale:nc(),realScaleType:"point"}},lS=1e-4,p3=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-lS,o=Math.max(s[0],s[1])+lS,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Tse=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Cse=function(t,r){if(!r||r.length!==2||!ee(r[0])||!ee(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ee(t[0])||t[0]<n)&&(i[0]=n),(!ee(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},_se=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Md(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Ese=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Md(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},$se={sign:_se,expand:ZH,none:go,silhouette:JH,wiggle:eq,positive:Ese},Dse=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=$se[n],o=QH().keys(s).value(function(l,c){return+At(l,c,0)}).order(mx).offset(i);return o(t)},Mse=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ft(ft({},h.type.defaultProps),h.props):h.props,x=m.stackId,y=m.hide;if(y)return f;var g=m[n],v=f[g]||{hasStack:!1,stackGroups:{}};if(Ct(x)){var b=v.stackGroups[x]||{numericAxisId:n,cateAxisId:s,items:[]};b.items.push(h),v.hasStack=!0,v.stackGroups[x]=b}else v.stackGroups[al("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return ft(ft({},f),{},Ji({},g,v))},c),u={};return Object.keys(d).reduce(function(f,h){var p=d[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,y){var g=p.stackGroups[y];return ft(ft({},x),{},Ji({},y,{numericAxisId:n,cateAxisId:s,items:g.items,stackedData:Dse(t,g.items,i)}))},m)}return ft(ft({},f),{},Ji({},h,p))},u)},g3=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Xae(d,i,l);return t.domain([Wm(u),Vm(u)]),{niceTicks:u}}if(i&&s==="number"){var f=t.domain(),h=Yae(f,i,l);return{niceTicks:h}}return null};function cS(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!be(s[t.dataKey])){var l=If(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=At(s,be(o)?t.dataKey:o);return be(c)?null:t.scale(c)}var dS=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=At(o,r.dataKey,r.domain[l]);return be(c)?null:r.scale(c)-i/2+s},Ise=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},Rse=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ft(ft({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Ct(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Lse=function(t){return t.reduce(function(r,n){return[Wm(n.concat([r[0]]).filter(ee)),Vm(n.concat([r[1]]).filter(ee))]},[1/0,-1/0])},x3=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=Lse(u.slice(r,n+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},uS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wx=function(t,r,n){if(xe(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(ee(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(uS.test(t[0])){var i=+uS.exec(t[0])[1];s[0]=r[0]-i}else xe(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ee(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(fS.test(t[1])){var o=+fS.exec(t[1])[1];s[1]=r[1]+o}else xe(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},dh=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=qb(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},hS=function(t,r,n){return!t||!t.length||zd(t,Dr(n,"type.defaultProps.domain"))?r:t},y3=function(t,r){var n=t.type.defaultProps?ft(ft({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return ft(ft({},fe(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:yj(t),value:At(r,s),type:c,payload:r,chartType:d,hide:u})};function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){v3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v3(e,t,r){return t=Fse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fse(e){var t=Bse(e,"string");return ed(t)=="symbol"?t:t+""}function Bse(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zse(e,t){return Hse(e)||Wse(e,t)||Vse(e,t)||Use()}function Use(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vse(e,t){if(e){if(typeof e=="string")return pS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(e,t)}}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Hse(e){if(Array.isArray(e))return e}var uh=Math.PI/180,qse=function(t){return t*180/Math.PI},qe=function(t,r,n,s){return{x:t+Math.cos(-uh*s)*n,y:r+Math.sin(-uh*s)*n}},b3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Kse=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=nr(t.cx,o,o/2),f=nr(t.cy,l,l/2),h=b3(o,l,n),p=nr(t.innerRadius,h,0),m=nr(t.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(y,g){var v=r[g],b=v.domain,w=v.reversed,j;if(be(v.range))s==="angleAxis"?j=[c,d]:s==="radiusAxis"&&(j=[p,m]),w&&(j=[j[1],j[0]]);else{j=v.range;var k=j,P=zse(k,2);c=P[0],d=P[1]}var S=m3(v,i),O=S.realScaleType,A=S.scale;A.domain(b).range(j),p3(A);var C=g3(A,na(na({},v),{},{realScaleType:O})),T=na(na(na({},v),C),{},{range:j,radius:m,realScaleType:O,scale:A,cx:u,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:d});return na(na({},y),{},v3({},g,T))},{})},Gse=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},Xse=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=Gse({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:qse(d),angleInRadian:d}},Yse=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},Qse=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},gS=function(t,r){var n=t.x,s=t.y,i=Xse({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Yse(r),f=u.startAngle,h=u.endAngle,p=l,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?na(na({},r),{},{radius:o,angle:Qse(p,r)}):null},j3=function(t){return!N.isValidElement(t)&&!xe(t)&&typeof t!="boolean"?t.className:""};function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}var Zse=["offset"];function Jse(e){return nie(e)||rie(e)||tie(e)||eie()}function eie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(e,t){if(e){if(typeof e=="string")return Hx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hx(e,t)}}function rie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nie(e){if(Array.isArray(e))return Hx(e)}function Hx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aie(e,t){if(e==null)return{};var r=sie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iie(e,t,r){return t=oie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oie(e){var t=lie(e,"string");return td(t)=="symbol"?t:t+""}function lie(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}var cie=function(t){var r=t.value,n=t.formatter,s=be(t.children)?r:t.children;return xe(n)?n(s):s},die=function(t,r){var n=rr(r-t),s=Math.min(Math.abs(r-t),360);return n*s},uie=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,x=c.clockWise,y=(f+h)/2,g=die(p,m),v=g>=0?1:-1,b,w;s==="insideStart"?(b=p+v*o,w=x):s==="insideEnd"?(b=m-v*o,w=!x):s==="end"&&(b=m+v*o,w=x),w=g<=0?w:!w;var j=qe(d,u,y,b),k=qe(d,u,y,b+(w?1:-1)*359),P="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(k.x,",").concat(k.y),S=be(t.id)?al("recharts-radial-line-"):t.id;return R.createElement("text",rd({},n,{dominantBaseline:"central",className:we("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:S,d:P})),R.createElement("textPath",{xlinkHref:"#".concat(S)},r))},fie=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(s==="outside"){var p=qe(o,l,d+n,h),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,g=qe(o,l,y,h),v=g.x,b=g.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},hie=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,h=f*s,p=f>0?"end":"start",m=f>0?"start":"end",x=d>=0?1:-1,y=x*s,g=x>0?"end":"start",v=x>0?"start":"end";if(i==="top"){var b={x:l+d/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Nt(Nt({},b),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var w={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:m};return Nt(Nt({},w),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var j={x:l-y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"};return Nt(Nt({},j),n?{width:Math.max(j.x-n.x,0),height:u}:{})}if(i==="right"){var k={x:l+d+y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return Nt(Nt({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:u}:{})}var P=n?{width:d,height:u}:{};return i==="insideLeft"?Nt({x:l+y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},P):i==="insideRight"?Nt({x:l+d-y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"},P):i==="insideTop"?Nt({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:m},P):i==="insideBottom"?Nt({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:p},P):i==="insideTopLeft"?Nt({x:l+y,y:c+h,textAnchor:v,verticalAnchor:m},P):i==="insideTopRight"?Nt({x:l+d-y,y:c+h,textAnchor:g,verticalAnchor:m},P):i==="insideBottomLeft"?Nt({x:l+y,y:c+u-h,textAnchor:v,verticalAnchor:p},P):i==="insideBottomRight"?Nt({x:l+d-y,y:c+u-h,textAnchor:g,verticalAnchor:p},P):el(i)&&(ee(i.x)||Ds(i.x))&&(ee(i.y)||Ds(i.y))?Nt({x:l+nr(i.x,d),y:c+nr(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):Nt({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},mie=function(t){return"cx"in t&&ee(t.cx)};function Dt(e){var t=e.offset,r=t===void 0?5:t,n=aie(e,Zse),s=Nt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,f=u===void 0?"":u,h=s.textBreakAll;if(!i||be(l)&&be(c)&&!N.isValidElement(d)&&!xe(d))return null;if(N.isValidElement(d))return N.cloneElement(d,s);var p;if(xe(d)){if(p=N.createElement(d,s),N.isValidElement(p))return p}else p=cie(s);var m=mie(i),x=fe(s,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return uie(s,p,x);var y=m?fie(s):hie(s);return R.createElement(ti,rd({className:we("recharts-label",f)},x,y,{breakAll:h}),p)}Dt.displayName="Label";var w3=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,x=t.width,y=t.height,g=t.clockWise,v=t.labelViewBox;if(v)return v;if(ee(x)&&ee(y)){if(ee(f)&&ee(h))return{x:f,y:h,width:x,height:y};if(ee(p)&&ee(m))return{x:p,y:m,width:x,height:y}}return ee(f)&&ee(h)?{x:f,y:h,width:0,height:0}:ee(r)&&ee(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},pie=function(t,r){return t?t===!0?R.createElement(Dt,{key:"label-implicit",viewBox:r}):Ct(t)?R.createElement(Dt,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===Dt?N.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):xe(t)?R.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):el(t)?R.createElement(Dt,rd({viewBox:r},t,{key:"label-implicit"})):null:null},gie=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=w3(t),o=Mr(s,Dt).map(function(c,d){return N.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=pie(t.label,r||i);return[l].concat(Jse(o))};Dt.parseViewBox=w3;Dt.renderCallByParent=gie;function xie(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var yie=xie;const vie=Me(yie);function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}var bie=["valueAccessor"],jie=["data","dataKey","clockWise","id","textBreakAll"];function wie(e){return Pie(e)||Sie(e)||kie(e)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(e,t){if(e){if(typeof e=="string")return qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qx(e,t)}}function Sie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pie(e){if(Array.isArray(e))return qx(e)}function qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){Oie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oie(e,t,r){return t=Aie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aie(e){var t=Tie(e,"string");return nd(t)=="symbol"?t:t+""}function Tie(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bS(e,t){if(e==null)return{};var r=Cie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _ie=function(t){return Array.isArray(t.value)?vie(t.value):t.value};function ha(e){var t=e.valueAccessor,r=t===void 0?_ie:t,n=bS(e,bie),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=bS(n,jie);return!s||!s.length?null:R.createElement(Ce,{className:"recharts-label-list"},s.map(function(u,f){var h=be(i)?r(u,f):At(u&&u.payload,i),p=be(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(Dt,fh({},fe(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:Dt.parseViewBox(be(o)?u:vS(vS({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ha.displayName="LabelList";function Eie(e,t){return e?e===!0?R.createElement(ha,{key:"labelList-implicit",data:t}):R.isValidElement(e)||xe(e)?R.createElement(ha,{key:"labelList-implicit",data:t,content:e}):el(e)?R.createElement(ha,fh({data:t},e,{key:"labelList-implicit"})):null:null}function $ie(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Mr(n,ha).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Eie(e.label,t);return[i].concat(wie(s))}ha.renderCallByParent=$ie;function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){Die(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Die(e,t,r){return t=Mie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mie(e){var t=Iie(e,"string");return ad(t)=="symbol"?t:t+""}function Iie(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rie=function(t,r){var n=rr(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},ku=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,f=Math.asin(c/u)/uh,h=d?i:i+o*f,p=qe(r,n,u,h),m=qe(r,n,s,h),x=d?i-o*f:i,y=qe(r,n,u*Math.cos(f*uh),x);return{center:p,circleTangency:m,lineTangency:y,theta:f}},N3=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Rie(o,l),d=o+c,u=qe(r,n,i,o),f=qe(r,n,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=qe(r,n,s,o),m=qe(r,n,s,d);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Lie=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=rr(u-d),h=ku({cx:r,cy:n,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,x=h.theta,y=ku({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=y.circleTangency,v=y.lineTangency,b=y.theta,w=c?Math.abs(d-u):Math.abs(d-u)-x-b;if(w<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):N3({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var k=ku({cx:r,cy:n,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=k.circleTangency,S=k.lineTangency,O=k.theta,A=ku({cx:r,cy:n,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=A.circleTangency,T=A.lineTangency,F=A.theta,z=c?Math.abs(d-u):Math.abs(d-u)-O-F;if(z<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Fie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},k3=function(t){var r=wS(wS({},Fie),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<i||u===f)return null;var p=we("recharts-sector",h),m=o-i,x=nr(l,m,0,!0),y;return x>0&&Math.abs(u-f)<360?y=Lie({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,m/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):y=N3({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),R.createElement("path",Kx({},fe(r,!0),{className:p,d:y,role:"img"}))};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(this,arguments)}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){Bie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bie(e,t,r){return t=zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Uie(e,"string");return sd(t)=="symbol"?t:t+""}function Uie(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SS={curveBasisClosed:BH,curveBasisOpen:zH,curveBasis:FH,curveBumpX:SH,curveBumpY:PH,curveLinearClosed:UH,curveLinear:_m,curveMonotoneX:VH,curveMonotoneY:WH,curveNatural:HH,curveStep:qH,curveStepAfter:GH,curveStepBefore:KH},Su=function(t){return t.x===+t.x&&t.y===+t.y},El=function(t){return t.x},$l=function(t){return t.y},Vie=function(t,r){if(xe(t))return t;var n="curve".concat(Tm(t));return(n==="curveMonotone"||n==="curveBump")&&r?SS["".concat(n).concat(r==="vertical"?"Y":"X")]:SS[n]||_m},Wie=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Vie(n,l),f=d?i.filter(function(x){return Su(x)}):i,h;if(Array.isArray(o)){var p=d?o.filter(function(x){return Su(x)}):o,m=f.map(function(x,y){return kS(kS({},x),{},{base:p[y]})});return l==="vertical"?h=pu().y($l).x1(El).x0(function(x){return x.base.x}):h=pu().x(El).y1($l).y0(function(x){return x.base.y}),h.defined(Su).curve(u),h(m)}return l==="vertical"&&ee(o)?h=pu().y($l).x1(El).x0(o):ee(o)?h=pu().x(El).y1($l).y0(o):h=y_().x(El).y($l),h.defined(Su).curve(u),h(f)},hh=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?Wie(t):s;return N.createElement("path",Gx({},fe(t,!1),Rf(t),{className:we("recharts-curve",r),d:o,ref:i}))},S3={exports:{}},Hie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qie=Hie,Kie=qie;function P3(){}function O3(){}O3.resetWarningCache=P3;var Gie=function(){function e(n,s,i,o,l,c){if(c!==Kie){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:O3,resetWarningCache:P3};return r.PropTypes=r,r};S3.exports=Gie();var Xie=S3.exports;const Ee=Me(Xie);var Yie=Object.getOwnPropertyNames,Qie=Object.getOwnPropertySymbols,Zie=Object.prototype.hasOwnProperty;function PS(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Pu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Jie(e){return e!=null?e[Symbol.toStringTag]:void 0}function OS(e){return Yie(e).concat(Qie(e))}var eoe=Object.hasOwn||function(e,t){return Zie.call(e,t)};function hi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var toe="__v",roe="__o",noe="_owner",AS=Object.getOwnPropertyDescriptor,TS=Object.keys;function aoe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function soe(e,t){return hi(e.getTime(),t.getTime())}function ioe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ooe(e,t){return e===t}function CS(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,f=0;(l=d.next())&&!l.done;){if(s[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1;c++}return!0}var loe=hi;function coe(e,t,r){var n=TS(e),s=n.length;if(TS(t).length!==s)return!1;for(;s-- >0;)if(!A3(e,t,r,n[s]))return!1;return!0}function Dl(e,t,r){var n=OS(e),s=n.length;if(OS(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!A3(e,t,r,i)||(o=AS(e,i),l=AS(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function doe(e,t){return hi(e.valueOf(),t.valueOf())}function uoe(e,t){return e.source===t.source&&e.flags===t.flags}function _S(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function foe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function hoe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function A3(e,t,r,n){return(n===noe||n===roe||n===toe)&&(e.$$typeof||t.$$typeof)?!0:eoe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var moe="[object Arguments]",poe="[object Boolean]",goe="[object Date]",xoe="[object Error]",yoe="[object Map]",voe="[object Number]",boe="[object Object]",joe="[object RegExp]",woe="[object Set]",Noe="[object String]",koe="[object URL]",Soe=Array.isArray,ES=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,$S=Object.assign,Poe=Object.prototype.toString.call.bind(Object.prototype.toString);function Ooe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;var v=typeof x;if(v!==typeof y)return!1;if(v!=="object")return v==="number"?o(x,y,g):v==="function"?s(x,y,g):!1;var b=x.constructor;if(b!==y.constructor)return!1;if(b===Object)return l(x,y,g);if(Soe(x))return t(x,y,g);if(ES!=null&&ES(x))return f(x,y,g);if(b===Date)return r(x,y,g);if(b===RegExp)return d(x,y,g);if(b===Map)return i(x,y,g);if(b===Set)return u(x,y,g);var w=Poe(x);if(w===goe)return r(x,y,g);if(w===joe)return d(x,y,g);if(w===yoe)return i(x,y,g);if(w===woe)return u(x,y,g);if(w===boe)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===koe)return h(x,y,g);if(w===xoe)return n(x,y,g);if(w===moe)return l(x,y,g);if(w===poe||w===voe||w===Noe)return c(x,y,g);if(p){var j=p[w];if(!j){var k=Jie(x);k&&(j=p[k])}if(j)return j(x,y,g)}return!1}}function Aoe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Dl:aoe,areDatesEqual:soe,areErrorsEqual:ioe,areFunctionsEqual:ooe,areMapsEqual:n?PS(CS,Dl):CS,areNumbersEqual:loe,areObjectsEqual:n?Dl:coe,arePrimitiveWrappersEqual:doe,areRegExpsEqual:uoe,areSetsEqual:n?PS(_S,Dl):_S,areTypedArraysEqual:n?Dl:foe,areUrlsEqual:hoe,unknownTagComparators:void 0};if(r&&(s=$S({},s,r(s))),t){var i=Pu(s.areArraysEqual),o=Pu(s.areMapsEqual),l=Pu(s.areObjectsEqual),c=Pu(s.areSetsEqual);s=$S({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function Toe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function Coe(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,d){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(c,d,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var _oe=ps();ps({strict:!0});ps({circular:!0});ps({circular:!0,strict:!0});ps({createInternalComparator:function(){return hi}});ps({strict:!0,createInternalComparator:function(){return hi}});ps({circular:!0,createInternalComparator:function(){return hi}});ps({circular:!0,createInternalComparator:function(){return hi},strict:!0});function ps(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=Aoe(e),c=Ooe(l),d=n?n(c):Toe(c);return Coe({circular:r,comparator:c,createState:s,equals:d,strict:o})}function Eoe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function DS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Eoe(s)};requestAnimationFrame(n)}function Xx(e){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(e)}function $oe(e){return Roe(e)||Ioe(e)||Moe(e)||Doe()}function Doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Moe(e,t){if(e){if(typeof e=="string")return MS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(e,t)}}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ioe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Roe(e){if(Array.isArray(e))return e}function Loe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=$oe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){DS(s.bind(null,d),c);return}s(c),DS(s.bind(null,d));return}Xx(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){T3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T3(e,t,r){return t=Foe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Foe(e){var t=Boe(e,"string");return id(t)==="symbol"?t:String(t)}function Boe(e,t){if(id(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zoe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Uoe=function(t){return t},Voe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},sc=function(t,r){return Object.keys(r).reduce(function(n,s){return RS(RS({},n),{},T3({},s,t(s,r[s])))},{})},LS=function(t,r,n){return t.map(function(s){return"".concat(Voe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Woe(e,t){return Koe(e)||qoe(e,t)||C3(e,t)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Koe(e){if(Array.isArray(e))return e}function Goe(e){return Qoe(e)||Yoe(e)||C3(e)||Xoe()}function Xoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C3(e,t){if(e){if(typeof e=="string")return Yx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yx(e,t)}}function Yoe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qoe(e){if(Array.isArray(e))return Yx(e)}function Yx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mh=1e-4,_3=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},E3=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},FS=function(t,r){return function(n){var s=_3(t,r);return E3(s,n)}},Zoe=function(t,r){return function(n){var s=_3(t,r),i=[].concat(Goe(s.map(function(o,l){return o*l}).slice(1)),[0]);return E3(i,n)}},BS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Woe(d,4);s=u[0],i=u[1],o=u[2],l=u[3]}}}var f=FS(s,o),h=FS(i,l),p=Zoe(s,o),m=function(g){return g>1?1:g<0?0:g},x=function(g){for(var v=g>1?1:g,b=v,w=0;w<8;++w){var j=f(b)-v,k=p(b);if(Math.abs(j-v)<mh||k<mh)return h(b);b=m(b-j/k)}return h(b)};return x.isStepper=!1,x},Joe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,f,h){var p=-(u-f)*n,m=h*i,x=h+(p-m)*l/1e3,y=h*l/1e3+u;return Math.abs(y-f)<mh&&Math.abs(x)<mh?[f,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},ele=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BS(s);case"spring":return Joe();default:if(s.split("(")[0]==="cubic-bezier")return BS(s)}return typeof s=="function"?s:null};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function zS(e){return nle(e)||rle(e)||$3(e)||tle()}function tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nle(e){if(Array.isArray(e))return Zx(e)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){Qx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qx(e,t,r){return t=ale(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ale(e){var t=sle(e,"string");return od(t)==="symbol"?t:String(t)}function sle(e,t){if(od(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ile(e,t){return cle(e)||lle(e,t)||$3(e,t)||ole()}function ole(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3(e,t){if(e){if(typeof e=="string")return Zx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zx(e,t)}}function Zx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function cle(e){if(Array.isArray(e))return e}var ph=function(t,r,n){return t+(r-t)*n},Jx=function(t){var r=t.from,n=t.to;return r!==n},dle=function e(t,r,n){var s=sc(function(i,o){if(Jx(o)){var l=t(o.from,o.to,o.velocity),c=ile(l,2),d=c[0],u=c[1];return Ft(Ft({},o),{},{from:d,velocity:u})}return o},r);return n<1?sc(function(i,o){return Jx(o)?Ft(Ft({},o),{},{velocity:ph(o.velocity,s[i].velocity,n),from:ph(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const ule=function(e,t,r,n,s){var i=zoe(e,t),o=i.reduce(function(y,g){return Ft(Ft({},y),{},Qx({},g,[e[g],t[g]]))},{}),l=i.reduce(function(y,g){return Ft(Ft({},y),{},Qx({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,d,u,f=function(){return null},h=function(){return sc(function(g,v){return v.from},l)},p=function(){return!Object.values(l).filter(Jx).length},m=function(g){d||(d=g);var v=g-d,b=v/r.dt;l=dle(r,l,b),s(Ft(Ft(Ft({},e),t),h())),d=g,p()||(c=requestAnimationFrame(f))},x=function(g){u||(u=g);var v=(g-u)/n,b=sc(function(j,k){return ph.apply(void 0,zS(k).concat([r(v)]))},o);if(s(Ft(Ft(Ft({},e),t),b)),v<1)c=requestAnimationFrame(f);else{var w=sc(function(j,k){return ph.apply(void 0,zS(k).concat([r(1)]))},o);s(Ft(Ft(Ft({},e),t),w))}};return f=r.isStepper?m:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}var fle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hle(e,t){if(e==null)return{};var r=mle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mle(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kg(e){return yle(e)||xle(e)||gle(e)||ple()}function ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gle(e,t){if(e){if(typeof e=="string")return ey(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ey(e,t)}}function xle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yle(e){if(Array.isArray(e))return ey(e)}function ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){Ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ul(e,t,r){return t=D3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ble(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D3(n.key),n)}}function jle(e,t,r){return t&&ble(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D3(e){var t=wle(e,"string");return So(t)==="symbol"?t:String(t)}function wle(e,t){if(So(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(So(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ty(e,t)}function kle(e){var t=Sle();return function(){var n=gh(e),s;if(t){var i=gh(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return ry(this,s)}}function ry(e,t){if(t&&(So(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ny(e)}function ny(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}var Gn=function(e){Nle(r,e);var t=kle(r);function r(n,s){var i;vle(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ny(i)),i.changeStyle=i.changeStyle.bind(ny(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),ry(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof h=="function")return i.state={style:d},ry(i);i.state={style:c?Ul({},c,d):d}}else i.state={style:{}};return i}return jle(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Ul({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(p);return}if(!(_oe(s.to,u)&&s.canBegin&&s.isActive)){var m=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||d?f:s.to;if(this.state&&h){var y={style:c?Ul({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(y)}this.runAnimation(pn(pn({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=ule(o,l,ele(d),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,u,m,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,f=d.duration,h=f===void 0?0:f,p=function(x,y,g){if(g===0)return x;var v=y.duration,b=y.easing,w=b===void 0?"ease":b,j=y.style,k=y.properties,P=y.onAnimationEnd,S=g>0?o[g-1]:y,O=k||Object.keys(j);if(typeof w=="function"||w==="spring")return[].concat(kg(x),[i.runJSAnimation.bind(i,{from:S.style,to:j,duration:v,easing:w}),v]);var A=LS(O,v,w),C=pn(pn(pn({},S.style),j),{},{transition:A});return[].concat(kg(x),[C,v,P]).filter(Uoe)};return this.manager.start([c].concat(kg(o.reduce(p,[u,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Loe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var x=l?Ul({},l,c):c,y=LS(Object.keys(x),o,d);m.start([u,i,pn(pn({},x),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=hle(s,fle),d=N.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(p){var m=p.props,x=m.style,y=x===void 0?{}:x,g=m.className,v=N.cloneElement(p,pn(pn({},c),{},{style:pn(pn({},y),u),className:g}));return v};return d===1?f(N.Children.only(i)):R.createElement("div",null,N.Children.map(i,function(h){return f(h)}))}}]),r}(N.PureComponent);Gn.displayName="Animate";Gn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gn.propTypes={from:Ee.oneOfType([Ee.object,Ee.string]),to:Ee.oneOfType([Ee.object,Ee.string]),attributeName:Ee.string,duration:Ee.number,begin:Ee.number,easing:Ee.oneOfType([Ee.string,Ee.func]),steps:Ee.arrayOf(Ee.shape({duration:Ee.number.isRequired,style:Ee.object.isRequired,easing:Ee.oneOfType([Ee.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ee.func]),properties:Ee.arrayOf("string"),onAnimationEnd:Ee.func})),children:Ee.oneOfType([Ee.node,Ee.func]),isActive:Ee.bool,canBegin:Ee.bool,onAnimationEnd:Ee.func,shouldReAnimate:Ee.bool,onAnimationStart:Ee.func,onAnimationReStart:Ee.func};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(this,arguments)}function Ple(e,t){return Cle(e)||Tle(e,t)||Ale(e,t)||Ole()}function Ole(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ale(e,t){if(e){if(typeof e=="string")return WS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WS(e,t)}}function WS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Cle(e){if(Array.isArray(e))return e}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){_le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _le(e,t,r){return t=Ele(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ele(e){var t=$le(e,"string");return ld(t)=="symbol"?t:t+""}function $le(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KS=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*f[1])),u+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),u+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+s-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);u="M ".concat(t,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*m,`
            L `).concat(t+n,",").concat(r+s-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+n-c*m,",").concat(r+s,`
            L `).concat(t+c*m,",").concat(r+s,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t,",").concat(r+s-l*m," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return u},Dle=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=d&&n<=u&&s>=f&&s<=h}return!1},Mle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vj=function(t){var r=qS(qS({},Mle),t),n=N.useRef(),s=N.useState(-1),i=Ple(s,2),o=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,y=r.animationBegin,g=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var b=we("recharts-rectangle",p);return v?R.createElement(Gn,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:x,animationEasing:m,isActive:v},function(w){var j=w.width,k=w.height,P=w.x,S=w.y;return R.createElement(Gn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:g,easing:m},R.createElement("path",xh({},fe(r,!0),{className:b,d:KS(P,S,j,k,h),ref:n})))}):R.createElement("path",xh({},fe(r,!0),{className:b,d:KS(c,d,u,f,h)}))},Ile=["points","className","baseLinePoints","connectNulls"];function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(this,arguments)}function Rle(e,t){if(e==null)return{};var r=Lle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GS(e){return Ule(e)||zle(e)||Ble(e)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ble(e,t){if(e){if(typeof e=="string")return ay(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ay(e,t)}}function zle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ule(e){if(Array.isArray(e))return ay(e)}function ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XS=function(t){return t&&t.x===+t.x&&t.y===+t.y},Vle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){XS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),XS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ic=function(t,r){var n=Vle(t);r&&(n=[n.reduce(function(i,o){return[].concat(GS(i),GS(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Wle=function(t,r,n){var s=ic(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(ic(r.reverse(),n).slice(1))},Hle=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=Rle(t,Ile);if(!r||!r.length)return null;var l=we("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=Wle(r,s,i);return R.createElement("g",{className:l},R.createElement("path",Bi({},fe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?R.createElement("path",Bi({},fe(o,!0),{fill:"none",d:ic(r,i)})):null,c?R.createElement("path",Bi({},fe(o,!0),{fill:"none",d:ic(s,i)})):null)}var u=ic(r,i);return R.createElement("path",Bi({},fe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(this,arguments)}var Km=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=we("recharts-dot",i);return r===+r&&n===+n&&s===+s?N.createElement("circle",sy({},fe(t,!1),Rf(t),{className:o,cx:r,cy:n,r:s})):null};function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}var qle=["x","y","top","left","width","height","className"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(this,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){Gle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gle(e,t,r){return t=Xle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xle(e){var t=Yle(e,"string");return cd(t)=="symbol"?t:t+""}function Yle(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qle(e,t){if(e==null)return{};var r=Zle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jle=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},ece=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,m=t.className,x=Qle(t,qle),y=Kle({x:n,y:i,top:l,left:d,width:f,height:p},x);return!ee(n)||!ee(i)||!ee(f)||!ee(p)||!ee(l)||!ee(d)?null:R.createElement("path",iy({},fe(y,!0),{className:we("recharts-cross",m),d:Jle(n,i,f,p,l,d)}))},tce=Um,rce=qE,nce=Qn;function ace(e,t){return e&&e.length?tce(e,nce(t),rce):void 0}var sce=ace;const ice=Me(sce);var oce=Um,lce=Qn,cce=KE;function dce(e,t){return e&&e.length?oce(e,lce(t),cce):void 0}var uce=dce;const fce=Me(uce);var hce=["cx","cy","angle","ticks","axisLine"],mce=["ticks","tick","angle","tickFormatter","stroke"];function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oc.apply(this,arguments)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){Gm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZS(e,t){if(e==null)return{};var r=pce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I3(n.key),n)}}function xce(e,t,r){return t&&JS(e.prototype,t),r&&JS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yce(e,t,r){return t=yh(t),vce(e,M3()?Reflect.construct(t,r||[],yh(e).constructor):t.apply(e,r))}function vce(e,t){if(t&&(Po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bce(e)}function bce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M3=function(){return!!e})()}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yh(e)}function jce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oy(e,t)}function Gm(e,t,r){return t=I3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I3(e){var t=wce(e,"string");return Po(t)=="symbol"?t:t+""}function wce(e,t){if(Po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xm=function(e){function t(){return gce(this,t),yce(this,t,arguments)}return jce(t,e),xce(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return qe(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=ice(l,function(u){return u.coordinate||0}),d=fce(l,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=ZS(n,hce),u=l.reduce(function(m,x){return[Math.min(m[0],x.coordinate),Math.max(m[1],x.coordinate)]},[1/0,-1/0]),f=qe(s,i,u[0],o),h=qe(s,i,u[1],o),p=ys(ys(ys({},fe(d,!1)),{},{fill:"none"},fe(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",oc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=ZS(s,mce),f=this.getTickTextAnchor(),h=fe(u,!1),p=fe(o,!1),m=i.map(function(x,y){var g=n.getTickValueCoord(x),v=ys(ys(ys(ys({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:d},p),{},{index:y},g),{},{payload:x});return R.createElement(Ce,oc({className:we("recharts-polar-radius-axis-tick",j3(o)),key:"tick-".concat(x.coordinate)},ei(n.props,x,y)),t.renderTickItem(o,v,c?c(x.value,y):x.value))});return R.createElement(Ce,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:R.createElement(Ce,{className:we("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return R.isValidElement(n)?o=R.cloneElement(n,s):xe(n)?o=n(s):o=R.createElement(ti,oc({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(N.PureComponent);Gm(Xm,"displayName","PolarRadiusAxis");Gm(Xm,"axisType","radiusAxis");Gm(Xm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(this,arguments)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){Ym(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L3(n.key),n)}}function kce(e,t,r){return t&&tP(e.prototype,t),r&&tP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sce(e,t,r){return t=vh(t),Pce(e,R3()?Reflect.construct(t,r||[],vh(e).constructor):t.apply(e,r))}function Pce(e,t){if(t&&(Oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oce(e)}function Oce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R3=function(){return!!e})()}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vh(e)}function Ace(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ly(e,t)}function Ym(e,t,r){return t=L3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3(e){var t=Tce(e,"string");return Oo(t)=="symbol"?t:t+""}function Tce(e,t){if(Oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cce=Math.PI/180,rP=1e-5,Qm=function(e){function t(){return Nce(this,t),Sce(this,t,arguments)}return Ace(t,e),kce(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,f=qe(i,o,l,n.coordinate),h=qe(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*Cce),o;return i>rP?o=s==="outer"?"start":"end":i<-rP?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=vs(vs({},fe(this.props,!1)),{},{fill:"none"},fe(l,!1));if(c==="circle")return R.createElement(Km,Ps({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(h){return qe(s,i,o,h.coordinate)});return R.createElement(Hle,Ps({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=fe(this.props,!1),f=fe(o,!1),h=vs(vs({},u),{},{fill:"none"},fe(l,!1)),p=i.map(function(m,x){var y=n.getTickLineCoord(m),g=n.getTickTextAnchor(m),v=vs(vs(vs({textAnchor:g},u),{},{stroke:"none",fill:d},f),{},{index:x,payload:m,x:y.x2,y:y.y2});return R.createElement(Ce,Ps({className:we("recharts-polar-angle-axis-tick",j3(o)),key:"tick-".concat(m.coordinate)},ei(n.props,m,x)),l&&R.createElement("line",Ps({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,v,c?c(m.value,x):m.value))});return R.createElement(Ce,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:R.createElement(Ce,{className:we("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return R.isValidElement(n)?o=R.cloneElement(n,s):xe(n)?o=n(s):o=R.createElement(ti,Ps({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(N.PureComponent);Ym(Qm,"displayName","PolarAngleAxis");Ym(Qm,"axisType","angleAxis");Ym(Qm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _ce=U_,Ece=_ce(Object.getPrototypeOf,Object),$ce=Ece,Dce=Pa,Mce=$ce,Ice=Oa,Rce="[object Object]",Lce=Function.prototype,Fce=Object.prototype,F3=Lce.toString,Bce=Fce.hasOwnProperty,zce=F3.call(Object);function Uce(e){if(!Ice(e)||Dce(e)!=Rce)return!1;var t=Mce(e);if(t===null)return!0;var r=Bce.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&F3.call(r)==zce}var Vce=Uce;const Wce=Me(Vce);var Hce=Pa,qce=Oa,Kce="[object Boolean]";function Gce(e){return e===!0||e===!1||qce(e)&&Hce(e)==Kce}var Xce=Gce;const Yce=Me(Xce);function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(this,arguments)}function Qce(e,t){return tde(e)||ede(e,t)||Jce(e,t)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jce(e,t){if(e){if(typeof e=="string")return nP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nP(e,t)}}function nP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ede(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function tde(e){if(Array.isArray(e))return e}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){rde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rde(e,t,r){return t=nde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nde(e){var t=ade(e,"string");return dd(t)=="symbol"?t:t+""}function ade(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iP=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},sde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ide=function(t){var r=sP(sP({},sde),t),n=N.useRef(),s=N.useState(-1),i=Qce(s,2),o=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,y=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var v=we("recharts-trapezoid",p);return g?R.createElement(Gn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:h,x:c,y:d},duration:x,animationEasing:m,isActive:g},function(b){var w=b.upperWidth,j=b.lowerWidth,k=b.height,P=b.x,S=b.y;return R.createElement(Gn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:m},R.createElement("path",bh({},fe(r,!0),{className:v,d:iP(P,S,w,j,k),ref:n})))}):R.createElement("g",null,R.createElement("path",bh({},fe(r,!0),{className:v,d:iP(c,d,u,f,h)})))},ode=["option","shapeType","propTransformer","activeClassName","isActive"];function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function lde(e,t){if(e==null)return{};var r=cde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){dde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dde(e,t,r){return t=ude(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=fde(e,"string");return ud(t)=="symbol"?t:t+""}function fde(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hde(e,t){return jh(jh({},t),e)}function mde(e,t){return e==="symbols"}function lP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(vj,r);case"trapezoid":return R.createElement(ide,r);case"sector":return R.createElement(k3,r);case"symbols":if(mde(t))return R.createElement(Lb,r);break;default:return null}}function pde(e){return N.isValidElement(e)?e.props:e}function B3(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?hde:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=lde(e,ode),d;if(N.isValidElement(t))d=N.cloneElement(t,jh(jh({},c),pde(t)));else if(xe(t))d=t(c);else if(Wce(t)&&!Yce(t)){var u=s(t,c);d=R.createElement(lP,{shapeType:r,elementProps:u})}else{var f=c;d=R.createElement(lP,{shapeType:r,elementProps:f})}return l?R.createElement(Ce,{className:o},d):d}function Zm(e,t){return t!=null&&"trapezoids"in e.props}function Jm(e,t){return t!=null&&"sectors"in e.props}function fd(e,t){return t!=null&&"points"in e.props}function gde(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function xde(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function yde(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function vde(e,t){var r;return Zm(e,t)?r=gde:Jm(e,t)?r=xde:fd(e,t)&&(r=yde),r}function bde(e,t){var r;return Zm(e,t)?r="trapezoids":Jm(e,t)?r="sectors":fd(e,t)&&(r="points"),r}function jde(e,t){if(Zm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return fd(e,t)?t.payload:{}}function wde(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=bde(r,t),i=jde(r,t),o=n.filter(function(c,d){var u=zd(i,c),f=r.props[s].filter(function(m){var x=vde(r,t);return x(m,t)}),h=r.props[s].indexOf(f[f.length-1]),p=d===h;return u&&p}),l=n.indexOf(o[o.length-1]);return l}var Yu;function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(this,arguments)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){Gr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U3(n.key),n)}}function kde(e,t,r){return t&&dP(e.prototype,t),r&&dP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sde(e,t,r){return t=wh(t),Pde(e,z3()?Reflect.construct(t,r||[],wh(e).constructor):t.apply(e,r))}function Pde(e,t){if(t&&(Ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ode(e)}function Ode(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z3=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(e)}function Ade(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cy(e,t)}function Gr(e,t,r){return t=U3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U3(e){var t=Tde(e,"string");return Ao(t)=="symbol"?t:t+""}function Tde(e,t){if(Ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sr=function(e){function t(r){var n;return Nde(this,t),n=Sde(this,t,[r]),Gr(n,"pieRef",null),Gr(n,"sectorRefs",[]),Gr(n,"id",al("recharts-pie-")),Gr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xe(s)&&s()}),Gr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xe(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Ade(t,e),kde(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=fe(this.props,!1),f=fe(o,!1),h=fe(l,!1),p=o&&o.offsetRadius||20,m=n.map(function(x,y){var g=(x.startAngle+x.endAngle)/2,v=qe(x.cx,x.cy,x.outerRadius+p,g),b=ze(ze(ze(ze({},u),x),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(v.x,x.cx)},v),w=ze(ze(ze(ze({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:y,points:[qe(x.cx,x.cy,x.outerRadius,g),v]}),j=c;return be(c)&&be(d)?j="value":be(c)&&(j=d),R.createElement(Ce,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,b,At(x,j)))});return R.createElement(Ce,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(u),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,m=ze(ze({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return R.createElement(Ce,zi({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},ei(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),R.createElement(B3,zi({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return R.createElement(Gn,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var x=m.t,y=[],g=i&&i[0],v=g.startAngle;return i.forEach(function(b,w){var j=h&&h[w],k=w>0?Dr(b,"paddingAngle",0):0;if(j){var P=Cr(j.endAngle-j.startAngle,b.endAngle-b.startAngle),S=ze(ze({},b),{},{startAngle:v+k,endAngle:v+P(x)+k});y.push(S),v=S.endAngle}else{var O=b.endAngle,A=b.startAngle,C=Cr(0,O-A),T=C(x),F=ze(ze({},b),{},{startAngle:v+k,endAngle:v+T+k});y.push(F),v=F.endAngle}}),R.createElement(Ce,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!zd(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!ee(d)||!ee(u)||!ee(f)||!ee(h))return null;var x=we("recharts-pie",l);return R.createElement(Ce,{tabIndex:this.props.rootTabIndex,className:x,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),Dt.renderCallByParent(this.props,null,!1),(!p||m)&&ha.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(R.isValidElement(n))return R.cloneElement(n,s);if(xe(n))return n(s);var o=we("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return R.createElement(hh,zi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(R.isValidElement(n))return R.cloneElement(n,s);var o=i;if(xe(n)&&(o=n(s),R.isValidElement(o)))return o;var l=we("recharts-pie-label-text",typeof n!="boolean"&&!xe(n)?n.className:"");return R.createElement(ti,zi({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);Yu=Sr;Gr(Sr,"displayName","Pie");Gr(Sr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!di.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gr(Sr,"parseDeltaAngle",function(e,t){var r=rr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Gr(Sr,"getRealPieData",function(e){var t=e.data,r=e.children,n=fe(e,!1),s=Mr(r,qn);return t&&t.length?t.map(function(i,o){return ze(ze(ze({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return ze(ze({},n),i.props)}):[]});Gr(Sr,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=b3(s,i),l=n+nr(e.cx,s,s/2),c=r+nr(e.cy,i,i/2),d=nr(e.innerRadius,o,0),u=nr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});Gr(Sr,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ze(ze({},t.type.defaultProps),t.props):t.props,s=Yu.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=Yu.parseCoordinateOfPie(n,r),x=Yu.parseDeltaAngle(o,l),y=Math.abs(x),g=d;be(d)&&be(f)?(Sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):be(d)&&(Sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var v=s.filter(function(S){return At(S,g,0)!==0}).length,b=(y>=360?v:v-1)*c,w=y-v*p-b,j=s.reduce(function(S,O){var A=At(O,g,0);return S+(ee(A)?A:0)},0),k;if(j>0){var P;k=s.map(function(S,O){var A=At(S,g,0),C=At(S,u,O),T=(ee(A)?A:0)/j,F;O?F=P.endAngle+rr(x)*c*(A!==0?1:0):F=o;var z=F+rr(x)*((A!==0?p:0)+T*w),M=(F+z)/2,L=(m.innerRadius+m.outerRadius)/2,V=[{name:C,value:A,payload:S,dataKey:g,type:h}],$=qe(m.cx,m.cy,L,M);return P=ze(ze(ze({percent:T,cornerRadius:i,name:C,tooltipPayload:V,midAngle:M,middleRadius:L,tooltipPosition:$},S),m),{},{value:At(S,g),startAngle:F,endAngle:z,payload:S,paddingAngle:rr(x)*c}),P})}return ze(ze({},m),{},{sectors:k,data:s})});var Cde=Math.ceil,_de=Math.max;function Ede(e,t,r,n){for(var s=-1,i=_de(Cde((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var $de=Ede,Dde=oE,uP=1/0,Mde=17976931348623157e292;function Ide(e){if(!e)return e===0?e:0;if(e=Dde(e),e===uP||e===-uP){var t=e<0?-1:1;return t*Mde}return e===e?e:0}var V3=Ide,Rde=$de,Lde=Mm,Sg=V3;function Fde(e){return function(t,r,n){return n&&typeof n!="number"&&Lde(t,r,n)&&(r=n=void 0),t=Sg(t),r===void 0?(r=t,t=0):r=Sg(r),n=n===void 0?t<r?1:-1:Sg(n),Rde(t,r,n,e)}}var Bde=Fde,zde=Bde,Ude=zde(),Vde=Ude;const Nh=Me(Vde);function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){W3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W3(e,t,r){return t=Wde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wde(e){var t=Hde(e,"string");return hd(t)=="symbol"?t:t+""}function Hde(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qde=["Webkit","Moz","O","ms"],Kde=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=qde.reduce(function(i,o){return hP(hP({},i),{},W3({},o+n,r))},{});return s[t]=r,s};function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(this,arguments)}function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){Or(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q3(n.key),n)}}function Xde(e,t,r){return t&&pP(e.prototype,t),r&&pP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yde(e,t,r){return t=Sh(t),Qde(e,H3()?Reflect.construct(t,r||[],Sh(e).constructor):t.apply(e,r))}function Qde(e,t){if(t&&(To(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zde(e)}function Zde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H3=function(){return!!e})()}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sh(e)}function Jde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dy(e,t)}function Or(e,t,r){return t=q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q3(e){var t=eue(e,"string");return To(t)=="symbol"?t:t+""}function eue(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tue=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=nc().domain(Nh(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:u}},gP=function(t){return t.changedTouches&&!!t.changedTouches.length},Co=function(e){function t(r){var n;return Gde(this,t),n=Yde(this,t,[r]),Or(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Or(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Or(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Or(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Or(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Or(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Or(n,"handleSlideDragStart",function(s){var i=gP(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Jde(t,e),Xde(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:m===u?u:m-m%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=At(i[n],l,n);return xe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,x=n.pageX-i;x>0?x=Math.min(x,d+u-f-l,d+u-f-o):x<0&&(x=Math.max(x,d-o,d-l));var y=this.getIndex({startX:o+x,endX:l+x});(y.startIndex!==h||y.endIndex!==p)&&m&&m(y),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=gP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,x=u.gap,y=u.data,g={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-p-d):v<0&&(v=Math.max(v,f-d)),g[o]=d+v;var b=this.getIndex(g),w=b.startIndex,j=b.endIndex,k=function(){var S=y.length-1;return o==="startX"&&(l>c?w%x===0:j%x===0)||l<c&&j===S||o==="endX"&&(l>c?j%x===0:w%x===0)||l>c&&j===S};this.setState(Or(Or({},o,d+v),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],f=l.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=d||s==="endX"&&p<=c||this.setState(Or({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return R.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,f=N.Children.only(d);return f?R.cloneElement(f,{x:s,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,x=c.startIndex,y=c.endIndex,g=Math.max(n,this.props.x),v=Pg(Pg({},fe(this.props,!1)),{},{x:g,y:d,width:u,height:f}),b=p||"Min value: ".concat((i=m[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return R.createElement(Ce,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,s)+d,f=Math.max(Math.abs(s-n)-d,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:d};return R.createElement(Ce,{className:"recharts-brush-texts"},R.createElement(ti,kh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},m),this.getTextOfTick(s)),R.createElement(ti,kh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,x=h.isTextActive,y=h.isSlideMoving,g=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!ee(l)||!ee(c)||!ee(d)||!ee(u)||d<=0||u<=0)return null;var b=we("recharts-brush",i),w=R.Children.count(o)===1,j=Kde("userSelect","none");return R.createElement(Ce,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||y||g||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return R.isValidElement(n)?i=R.cloneElement(n,s):xe(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return Pg({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?tue({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(N.PureComponent);Or(Co,"displayName","Brush");Or(Co,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rue=Hb;function nue(e,t){var r;return rue(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var aue=nue,sue=D_,iue=Qn,oue=aue,lue=kr,cue=Mm;function due(e,t,r){var n=lue(e)?sue:oue;return r&&cue(e,t,r)&&(t=void 0),n(e,iue(t))}var uue=due;const fue=Me(uue);var Hn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},xP=rE;function hue(e,t,r){t=="__proto__"&&xP?xP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mue=hue,pue=mue,gue=eE,xue=Qn;function yue(e,t){var r={};return t=xue(t),gue(e,function(n,s,i){pue(r,s,t(n,s,i))}),r}var vue=yue;const bue=Me(vue);function jue(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var wue=jue,Nue=Hb;function kue(e,t){var r=!0;return Nue(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var Sue=kue,Pue=wue,Oue=Sue,Aue=Qn,Tue=kr,Cue=Mm;function _ue(e,t,r){var n=Tue(e)?Pue:Oue;return r&&Cue(e,t,r)&&(t=void 0),n(e,Aue(t))}var Eue=_ue;const K3=Me(Eue);var $ue=["x","y"];function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){Due(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Due(e,t,r){return t=Mue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mue(e){var t=Iue(e,"string");return md(t)=="symbol"?t:t+""}function Iue(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rue(e,t){if(e==null)return{};var r=Lue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fue(e,t){var r=e.x,n=e.y,s=Rue(e,$ue),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Ml(Ml(Ml(Ml(Ml({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function vP(e){return R.createElement(B3,uy({shapeType:"rectangle",propTransformer:Fue,activeClassName:"recharts-active-bar"},e))}var Bue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=ee(n)||dW(n);return i?t(n,s):(i||ni(),r)}},zue=["value","background"],G3;function _o(e){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}function Uue(e,t){if(e==null)return{};var r=Vue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){Va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y3(n.key),n)}}function Hue(e,t,r){return t&&jP(e.prototype,t),r&&jP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function que(e,t,r){return t=Oh(t),Kue(e,X3()?Reflect.construct(t,r||[],Oh(e).constructor):t.apply(e,r))}function Kue(e,t){if(t&&(_o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gue(e)}function Gue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X3=function(){return!!e})()}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(e)}function Xue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fy(e,t)}function fy(e,t){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fy(e,t)}function Va(e,t,r){return t=Y3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y3(e){var t=Yue(e,"string");return _o(t)=="symbol"?t:t+""}function Yue(e,t){if(_o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var it=function(e){function t(){var r;Wue(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=que(this,t,[].concat(s)),Va(r,"state",{isAnimationFinished:!1}),Va(r,"id",al("recharts-bar-")),Va(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Va(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Xue(t,e),Hue(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=fe(this.props,!1);return n&&n.map(function(f,h){var p=h===c,m=p?d:o,x=gt(gt(gt({},u),f),{},{isActive:p,option:m,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return R.createElement(Ce,Ph({className:"recharts-bar-rectangle"},ei(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(vP,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,h=this.state.prevData;return R.createElement(Gn,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=i.map(function(y,g){var v=h&&h[g];if(v){var b=Cr(v.x,y.x),w=Cr(v.y,y.y),j=Cr(v.width,y.width),k=Cr(v.height,y.height);return gt(gt({},y),{},{x:b(m),y:w(m),width:j(m),height:k(m)})}if(o==="horizontal"){var P=Cr(0,y.height),S=P(m);return gt(gt({},y),{},{y:y.y+y.height-S,height:S})}var O=Cr(0,y.width),A=O(m);return gt(gt({},y),{},{width:A})});return R.createElement(Ce,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!zd(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=fe(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,h=Uue(d,zue);if(!f)return null;var p=gt(gt(gt(gt(gt({},h),{},{fill:"#eee"},f),c),ei(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return R.createElement(vP,Ph({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Mr(u,Ud);if(!f)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,p=function(y,g){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:At(y,g)}},m={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(Ce,m,f.map(function(x){return R.cloneElement(x,{key:"error-bar-".concat(s,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,g=we("recharts-bar",o),v=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,w=v||b,j=be(x)?this.id:x;return R.createElement(Ce,{className:g},v||b?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(j)},R.createElement("rect",{x:v?d:d-f/2,y:b?u:u-h/2,width:v?f:f*2,height:b?h:h*2}))):null,R.createElement(Ce,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!p||y)&&ha.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(N.PureComponent);G3=it;Va(it,"displayName","Bar");Va(it,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!di.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(it,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Tse(n,r);if(!p)return null;var m=t.layout,x=r.type.defaultProps,y=x!==void 0?gt(gt({},x),r.props):r.props,g=y.dataKey,v=y.children,b=y.minPointSize,w=m==="horizontal"?o:i,j=d?w.scale.domain():null,k=Ise({numericAxis:w}),P=Mr(v,qn),S=f.map(function(O,A){var C,T,F,z,M,L;d?C=Cse(d[u+A],j):(C=At(O,g),Array.isArray(C)||(C=[k,C]));var V=Bue(b,G3.defaultProps.minPointSize)(C[1],A);if(m==="horizontal"){var $,_=[o.scale(C[0]),o.scale(C[1])],U=_[0],I=_[1];T=dS({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:O,index:A}),F=($=I??U)!==null&&$!==void 0?$:void 0,z=p.size;var B=U-I;if(M=Number.isNaN(B)?0:B,L={x:T,y:o.y,width:z,height:o.height},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var q=rr(M||V)*(Math.abs(V)-Math.abs(M));F-=q,M+=q}}else{var Y=[i.scale(C[0]),i.scale(C[1])],re=Y[0],J=Y[1];if(T=re,F=dS({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:O,index:A}),z=J-re,M=p.size,L={x:i.x,y:F,width:i.width,height:M},Math.abs(V)>0&&Math.abs(z)<Math.abs(V)){var ve=rr(z||V)*(Math.abs(V)-Math.abs(z));z+=ve}}return gt(gt(gt({},O),{},{x:T,y:F,width:z,height:M,value:d?C:C[1],payload:O,background:L},P&&P[A]&&P[A].props),{},{tooltipPayload:[y3(r,O)],tooltipPosition:{x:T+z/2,y:F+M/2}})});return gt({data:S,layout:m},h)});function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function Que(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q3(n.key),n)}}function Zue(e,t,r){return t&&wP(e.prototype,t),r&&wP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ep(e,t,r){return t=Q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3(e){var t=Jue(e,"string");return pd(t)=="symbol"?t:t+""}function Jue(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z3=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Tr(d,it);return u.reduce(function(p,m){var x=r[m],y=x.orientation,g=x.domain,v=x.padding,b=v===void 0?{}:v,w=x.mirror,j=x.reversed,k="".concat(y).concat(w?"Mirror":""),P,S,O,A,C;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var T=g[1]-g[0],F=1/0,z=x.categoricalDomain.sort(hW);if(z.forEach(function(Y,re){re>0&&(F=Math.min((Y||0)-(z[re-1]||0),F))}),Number.isFinite(F)){var M=F/T,L=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(P=M*L/2),x.padding==="no-gap"){var V=nr(t.barCategoryGap,M*L),$=M*L/2;P=$-V-($-V)/L*V}}}s==="xAxis"?S=[n.left+(b.left||0)+(P||0),n.left+n.width-(b.right||0)-(P||0)]:s==="yAxis"?S=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(P||0),n.top+n.height-(b.bottom||0)-(P||0)]:S=x.range,j&&(S=[S[1],S[0]]);var _=m3(x,i,h),U=_.scale,I=_.realScaleType;U.domain(g).range(S),p3(U);var B=g3(U,vn(vn({},x),{},{realScaleType:I}));s==="xAxis"?(C=y==="top"&&!w||y==="bottom"&&w,O=n.left,A=f[k]-C*x.height):s==="yAxis"&&(C=y==="left"&&!w||y==="right"&&w,O=f[k]-C*x.width,A=n.top);var q=vn(vn(vn({},x),B),{},{realScaleType:I,x:O,y:A,scale:U,width:s==="xAxis"?n.width:x.width,height:s==="yAxis"?n.height:x.height});return q.bandSize=dh(q,B),!x.hide&&s==="xAxis"?f[k]+=(C?-1:1)*q.height:x.hide||(f[k]+=(C?-1:1)*q.width),vn(vn({},p),{},ep({},m,q))},{})},J3=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},efe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return J3({x:r,y:n},{x:s,y:i})},e$=function(){function e(t){Que(this,e),this.scale=t}return Zue(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();ep(e$,"EPS",1e-4);var bj=function(t){var r=Object.keys(t).reduce(function(n,s){return vn(vn({},n),{},ep({},s,e$.create(t[s])))},{});return vn(vn({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return bue(s,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return K3(s,function(i,o){return r[o].isInRange(i)})}})};function tfe(e){return(e%180+180)%180}var rfe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tfe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},nfe=Qn,afe=Id,sfe=$m;function ife(e){return function(t,r,n){var s=Object(t);if(!afe(t)){var i=nfe(r);t=sfe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var ofe=ife,lfe=V3;function cfe(e){var t=lfe(e),r=t%1;return t===t?r?t-r:t:0}var dfe=cfe,ufe=G_,ffe=Qn,hfe=dfe,mfe=Math.max;function pfe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:hfe(r);return s<0&&(s=mfe(n+s,0)),ufe(e,ffe(t),s)}var gfe=pfe,xfe=ofe,yfe=gfe,vfe=xfe(yfe),bfe=vfe;const jfe=Me(bfe);var wfe=gV(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),jj=N.createContext(void 0),wj=N.createContext(void 0),t$=N.createContext(void 0),r$=N.createContext({}),n$=N.createContext(void 0),a$=N.createContext(0),s$=N.createContext(0),kP=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=wfe(i);return R.createElement(jj.Provider,{value:n},R.createElement(wj.Provider,{value:s},R.createElement(r$.Provider,{value:i},R.createElement(t$.Provider,{value:u},R.createElement(n$.Provider,{value:o},R.createElement(a$.Provider,{value:d},R.createElement(s$.Provider,{value:c},l)))))))},Nfe=function(){return N.useContext(n$)},i$=function(t){var r=N.useContext(jj);r==null&&ni();var n=r[t];return n==null&&ni(),n},kfe=function(){var t=N.useContext(jj);return Fa(t)},Sfe=function(){var t=N.useContext(wj),r=jfe(t,function(n){return K3(n.domain,Number.isFinite)});return r||Fa(t)},o$=function(t){var r=N.useContext(wj);r==null&&ni();var n=r[t];return n==null&&ni(),n},Pfe=function(){var t=N.useContext(t$);return t},Ofe=function(){return N.useContext(r$)},Nj=function(){return N.useContext(s$)},kj=function(){return N.useContext(a$)};function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function Afe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c$(n.key),n)}}function Cfe(e,t,r){return t&&Tfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _fe(e,t,r){return t=Ah(t),Efe(e,l$()?Reflect.construct(t,r||[],Ah(e).constructor):t.apply(e,r))}function Efe(e,t){if(t&&(Eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $fe(e)}function $fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!e})()}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(e)}function Dfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hy(e,t)}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){Sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sj(e,t,r){return t=c$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c$(e){var t=Mfe(e,"string");return Eo(t)=="symbol"?t:t+""}function Mfe(e,t){if(Eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ife(e,t){return Bfe(e)||Ffe(e,t)||Lfe(e,t)||Rfe()}function Rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(e,t){if(e){if(typeof e=="string")return OP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OP(e,t)}}function OP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ffe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Bfe(e){if(Array.isArray(e))return e}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(this,arguments)}var zfe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):xe(t)?n=t(r):n=R.createElement("line",my({},r,{className:"recharts-reference-line-line"})),n},Ufe=function(t,r,n,s,i,o,l,c,d){var u=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=d.y,x=t.y.apply(m,{position:o});if(Hn(d,"discard")&&!t.y.isInRange(x))return null;var y=[{x:u+h,y:x},{x:u,y:x}];return c==="left"?y.reverse():y}if(r){var g=d.x,v=t.x.apply(g,{position:o});if(Hn(d,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?b.reverse():b}if(s){var w=d.segment,j=w.map(function(k){return t.apply(k,{position:o})});return Hn(d,"discard")&&fue(j,function(k){return!t.isInRange(k)})?null:j}return null};function Vfe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Nfe(),u=i$(s),f=o$(i),h=Pfe();if(!d||!h)return null;Sn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=bj({x:u.scale,y:f.scale}),m=Ct(t),x=Ct(r),y=n&&n.length===2,g=Ufe(p,m,x,y,h,e.position,u.orientation,f.orientation,e);if(!g)return null;var v=Ife(g,2),b=v[0],w=b.x,j=b.y,k=v[1],P=k.x,S=k.y,O=Hn(e,"hidden")?"url(#".concat(d,")"):void 0,A=PP(PP({clipPath:O},fe(e,!0)),{},{x1:w,y1:j,x2:P,y2:S});return R.createElement(Ce,{className:we("recharts-reference-line",l)},zfe(o,A),Dt.renderCallByParent(e,efe({x1:w,y1:j,x2:P,y2:S})))}var Pj=function(e){function t(){return Afe(this,t),_fe(this,t,arguments)}return Dfe(t,e),Cfe(t,[{key:"render",value:function(){return R.createElement(Vfe,this.props)}}])}(R.Component);Sj(Pj,"displayName","ReferenceLine");Sj(Pj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){tp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u$(n.key),n)}}function qfe(e,t,r){return t&&Hfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kfe(e,t,r){return t=Th(t),Gfe(e,d$()?Reflect.construct(t,r||[],Th(e).constructor):t.apply(e,r))}function Gfe(e,t){if(t&&($o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xfe(e)}function Xfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!e})()}function Th(e){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Th(e)}function Yfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gy(e,t)}function gy(e,t){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gy(e,t)}function tp(e,t,r){return t=u$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u$(e){var t=Qfe(e,"string");return $o(t)=="symbol"?t:t+""}function Qfe(e,t){if($o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zfe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=bj({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Hn(t,"discard")&&!o.isInRange(l)?null:l},rp=function(e){function t(){return Wfe(this,t),Kfe(this,t,arguments)}return Yfe(t,e),qfe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=Ct(s),u=Ct(i);if(Sn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=Zfe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,x=m.shape,y=m.className,g=Hn(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=TP(TP({clipPath:g},fe(this.props,!0)),{},{cx:h,cy:p});return R.createElement(Ce,{className:we("recharts-reference-dot",y)},t.renderDot(x,v),Dt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(R.Component);tp(rp,"displayName","ReferenceDot");tp(rp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});tp(rp,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):xe(e)?r=e(t):r=R.createElement(Km,py({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){np(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ehe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h$(n.key),n)}}function the(e,t,r){return t&&ehe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rhe(e,t,r){return t=Ch(t),nhe(e,f$()?Reflect.construct(t,r||[],Ch(e).constructor):t.apply(e,r))}function nhe(e,t){if(t&&(Do(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ahe(e)}function ahe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!e})()}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ch(e)}function she(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yy(e,t)}function np(e,t,r){return t=h$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$(e){var t=ihe(e,"string");return Do(t)=="symbol"?t:t+""}function ihe(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ohe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=bj({x:u.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Hn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:J3(p,m)},ap=function(e){function t(){return Jfe(this,t),rhe(this,t,arguments)}return she(t,e),the(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;Sn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ct(s),h=Ct(i),p=Ct(o),m=Ct(l),x=this.props.shape;if(!f&&!h&&!p&&!m&&!x)return null;var y=ohe(f,h,p,m,this.props);if(!y&&!x)return null;var g=Hn(this.props,"hidden")?"url(#".concat(u,")"):void 0;return R.createElement(Ce,{className:we("recharts-reference-area",c)},t.renderRect(x,_P(_P({clipPath:g},fe(this.props,!0)),y)),Dt.renderCallByParent(this.props,y))}}])}(R.Component);np(ap,"displayName","ReferenceArea");np(ap,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});np(ap,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):xe(e)?r=e(t):r=R.createElement(vj,xy({},t,{className:"recharts-reference-area-rect"})),r});function m$(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function lhe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rfe(n,r)}function che(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function _h(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function dhe(e,t){return m$(e,t+1)}function uhe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:m$(n,d)};var x=c,y,g=function(){return y===void 0&&(y=r(m,x)),y},v=m.coordinate,b=c===0||_h(e,v,g,u,l);b||(c=0,u=o,d+=1),b&&(u=v+e*(g()/2+s),c+=d)},h;d<=i.length;)if(h=f(),h)return h.v;return[]}function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){fhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fhe(e,t,r){return t=hhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hhe(e){var t=mhe(e,"string");return gd(t)=="symbol"?t:t+""}function mhe(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function phe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(h){var p=i[h],m,x=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var y=e*(p.coordinate+e*x()/2-c);i[h]=p=Gt(Gt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[h]=p=Gt(Gt({},p),{},{tickCoord:p.coordinate});var g=_h(e,p.tickCoord,x,l,c);g&&(c=p.tickCoord-e*(x()/2+s),i[h]=Gt(Gt({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function ghe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=n[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);o[l-1]=u=Gt(Gt({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=_h(e,u.tickCoord,function(){return f},c,d);p&&(d=u.tickCoord-e*(f/2+s),o[l-1]=Gt(Gt({},u),{},{isShow:!0}))}for(var m=i?l-1:l,x=function(v){var b=o[v],w,j=function(){return w===void 0&&(w=r(b,v)),w};if(v===0){var k=e*(b.coordinate-e*j()/2-c);o[v]=b=Gt(Gt({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else o[v]=b=Gt(Gt({},b),{},{tickCoord:b.coordinate});var P=_h(e,b.tickCoord,j,c,d);P&&(c=b.tickCoord+e*(j()/2+s),o[v]=Gt(Gt({},b),{},{isShow:!0}))},y=0;y<m;y++)x(y);return o}function Oj(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(ee(c)||di.isSsr)return dhe(s,typeof c=="number"&&ee(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",m=u&&p==="width"?rc(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(b,w){var j=xe(d)?d(b.value,w):b.value;return p==="width"?lhe(rc(j,{fontSize:t,letterSpacing:r}),m,f):rc(j,{fontSize:t,letterSpacing:r})[p]},y=s.length>=2?rr(s[1].coordinate-s[0].coordinate):1,g=che(i,y,p);return c==="equidistantPreserveStart"?uhe(y,g,x,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=ghe(y,g,x,s,o,c==="preserveStartEnd"):h=phe(y,g,x,s,o),h.filter(function(v){return v.isShow}))}var xhe=["viewBox"],yhe=["viewBox"],vhe=["ticks"];function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(this,arguments)}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){Aj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Og(e,t){if(e==null)return{};var r=bhe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g$(n.key),n)}}function whe(e,t,r){return t&&DP(e.prototype,t),r&&DP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nhe(e,t,r){return t=Eh(t),khe(e,p$()?Reflect.construct(t,r||[],Eh(e).constructor):t.apply(e,r))}function khe(e,t){if(t&&(Mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return She(e)}function She(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!e})()}function Eh(e){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(e)}function Phe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vy(e,t)}function Aj(e,t,r){return t=g$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=Ohe(e,"string");return Mo(t)=="symbol"?t:t+""}function Ohe(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ul=function(e){function t(r){var n;return jhe(this,t),n=Nhe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Phe(t,e),whe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Og(n,xhe),l=this.props,c=l.viewBox,d=Og(l,yhe);return!Qi(i,c)||!Qi(o,d)||!Qi(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,h=s.tickMargin,p,m,x,y,g,v,b=f?-1:1,w=n.tickSize||u,j=ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":p=m=n.coordinate,y=o+ +!f*c,x=y-b*w,v=x-b*h,g=j;break;case"left":x=y=n.coordinate,m=i+ +!f*l,p=m-b*w,g=p-b*h,v=j;break;case"right":x=y=n.coordinate,m=i+ +f*l,p=m+b*w,g=p+b*h,v=j;break;default:p=m=n.coordinate,y=o+ +f*c,x=y+b*w,v=x+b*h,g=j;break}return{line:{x1:p,y1:x,x2:m,y2:y},tick:{x:g,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,f=wt(wt(wt({},fe(this.props,!1)),fe(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);f=wt(wt({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);f=wt(wt({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return R.createElement("line",Ui({},f,{className:we("recharts-cartesian-axis-line",Dr(u,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,h=l.unit,p=Oj(wt(wt({},this.props),{},{ticks:n}),s,i),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=fe(this.props,!1),g=fe(u,!1),v=wt(wt({},y),{},{fill:"none"},fe(c,!1)),b=p.map(function(w,j){var k=o.getTickLineCoord(w),P=k.line,S=k.tick,O=wt(wt(wt(wt({textAnchor:m,verticalAnchor:x},y),{},{stroke:"none",fill:d},g),S),{},{index:j,payload:w,visibleTicksCount:p.length,tickFormatter:f});return R.createElement(Ce,Ui({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},ei(o.props,w,j)),c&&R.createElement("line",Ui({},v,P,{className:we("recharts-cartesian-axis-tick-line",Dr(c,"className"))})),u&&t.renderTickItem(u,O,"".concat(xe(f)?f(w.value,j):w.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,h=f.ticks,p=Og(f,vhe),m=h;return xe(c)&&(m=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:R.createElement(Ce,{className:we("recharts-cartesian-axis",d),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=we(s.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?o=R.cloneElement(n,wt(wt({},s),{},{className:l})):xe(n)?o=n(wt(wt({},s),{},{className:l})):o=R.createElement(ti,Ui({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(N.Component);Aj(ul,"displayName","CartesianAxis");Aj(ul,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ahe=["x1","y1","x2","y2","key"],The=["offset"];function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Che(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Che(e,t,r){return t=_he(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _he(e){var t=Ehe(e,"string");return ai(t)=="symbol"?t:t+""}function Ehe(e,t){if(ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(this,arguments)}function IP(e,t){if(e==null)return{};var r=$he(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $he(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dhe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function x$(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(xe(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=IP(t,Ahe),d=fe(c,!1);d.offset;var u=IP(d,The);r=R.createElement("line",Rs({},u,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Mhe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Yt(Yt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return x$(s,d)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ihe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Yt(Yt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return x$(s,d)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Rhe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],x=m?s+o-h:u[p+1]-h;if(x<=0)return null;var y=p%t.length;return R.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Lhe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],x=m?i+l-h:u[p+1]-h;if(x<=0)return null;var y=p%n.length;return R.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Fhe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return h3(Oj(Yt(Yt(Yt({},ul.defaultProps),n),{},{ticks:ca(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Bhe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return h3(Oj(Yt(Yt(Yt({},ul.defaultProps),n),{},{ticks:ca(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},vi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tn(e){var t,r,n,s,i,o,l=Nj(),c=kj(),d=Ofe(),u=Yt(Yt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:vi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:vi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:vi.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:vi.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:vi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:vi.verticalFill,x:ee(e.x)?e.x:d.left,y:ee(e.y)?e.y:d.top,width:ee(e.width)?e.width:d.width,height:ee(e.height)?e.height:d.height}),f=u.x,h=u.y,p=u.width,m=u.height,x=u.syncWithTicks,y=u.horizontalValues,g=u.verticalValues,v=kfe(),b=Sfe();if(!ee(p)||p<=0||!ee(m)||m<=0||!ee(f)||f!==+f||!ee(h)||h!==+h)return null;var w=u.verticalCoordinatesGenerator||Fhe,j=u.horizontalCoordinatesGenerator||Bhe,k=u.horizontalPoints,P=u.verticalPoints;if((!k||!k.length)&&xe(j)){var S=y&&y.length,O=j({yAxis:b?Yt(Yt({},b),{},{ticks:S?y:b.ticks}):void 0,width:l,height:c,offset:d},S?!0:x);Sn(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ai(O),"]")),Array.isArray(O)&&(k=O)}if((!P||!P.length)&&xe(w)){var A=g&&g.length,C=w({xAxis:v?Yt(Yt({},v),{},{ticks:A?g:v.ticks}):void 0,width:l,height:c,offset:d},A?!0:x);Sn(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ai(C),"]")),Array.isArray(C)&&(P=C)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(Dhe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),R.createElement(Mhe,Rs({},u,{offset:d,horizontalPoints:k,xAxis:v,yAxis:b})),R.createElement(Ihe,Rs({},u,{offset:d,verticalPoints:P,xAxis:v,yAxis:b})),R.createElement(Rhe,Rs({},u,{horizontalPoints:k})),R.createElement(Lhe,Rs({},u,{verticalPoints:P})))}tn.displayName="CartesianGrid";var zhe=["type","layout","connectNulls","ref"],Uhe=["key"];function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function RP(e,t){if(e==null)return{};var r=Vhe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bi(e){return Khe(e)||qhe(e)||Hhe(e)||Whe()}function Whe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(e,t){if(e){if(typeof e=="string")return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}}function qhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Khe(e){if(Array.isArray(e))return by(e)}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ghe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v$(n.key),n)}}function Xhe(e,t,r){return t&&FP(e.prototype,t),r&&FP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yhe(e,t,r){return t=$h(t),Qhe(e,y$()?Reflect.construct(t,r||[],$h(e).constructor):t.apply(e,r))}function Qhe(e,t){if(t&&(Io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zhe(e)}function Zhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!e})()}function $h(e){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(e)}function Jhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jy(e,t)}function jy(e,t){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jy(e,t)}function bn(e,t,r){return t=v$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v$(e){var t=eme(e,"string");return Io(t)=="symbol"?t:t+""}function eme(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rn=function(e){function t(){var r;Ghe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Yhe(this,t,[].concat(s)),bn(r,"state",{isAnimationFinished:!0,totalLength:0}),bn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),bn(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(g,v){return g+v});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,h=l-o,p=[],m=0,x=0;m<c.length;x+=c[m],++m)if(x+c[m]>f){p=[].concat(bi(c.slice(0,m)),[f-x]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(bi(t.repeat(c,u)),bi(p),y).map(function(g){return"".concat(g,"px")}).join(", ")}),bn(r,"id",al("recharts-line-")),bn(r,"pathRef",function(o){r.mainCurve=o}),bn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),bn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Jhe(t,e),Xhe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Mr(u,Ud);if(!f)return null;var h=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:At(x.payload,y)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(Ce,p,f.map(function(m){return R.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=fe(this.props,!1),h=fe(c,!0),p=d.map(function(x,y){var g=Pr(Pr(Pr({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:u,payload:x.payload,points:d});return t.renderDotItem(c,g)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return R.createElement(Ce,lc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=RP(l,zhe),h=Pr(Pr(Pr({},fe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return R.createElement(hh,lc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,x=o.width,y=o.height,g=this.state,v=g.prevPoints,b=g.totalLength;return R.createElement(Gn,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(v){var k=v.length/l.length,P=l.map(function(T,F){var z=Math.floor(F*k);if(v[z]){var M=v[z],L=Cr(M.x,T.x),V=Cr(M.y,T.y);return Pr(Pr({},T),{},{x:L(j),y:V(j)})}if(m){var $=Cr(x*2,T.x),_=Cr(y/2,T.y);return Pr(Pr({},T),{},{x:$(j),y:_(j)})}return Pr(Pr({},T),{},{x:T.x,y:T.y})});return i.renderCurveStatically(P,n,s)}var S=Cr(0,b),O=S(j),A;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});A=i.getStrokeDasharray(O,b,C)}else A=i.generateSimpleStrokeDasharray(b,O);return i.renderCurveStatically(l,n,s,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!zd(d,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,u=s.yAxis,f=s.top,h=s.left,p=s.width,m=s.height,x=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,v=l.length===1,b=we("recharts-line",c),w=d&&d.allowDataOverflow,j=u&&u.allowDataOverflow,k=w||j,P=be(y)?this.id:y,S=(n=fe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=S.r,A=O===void 0?3:O,C=S.strokeWidth,T=C===void 0?2:C,F=wW(o)?o:{},z=F.clipDot,M=z===void 0?!0:z,L=A*2+T;return R.createElement(Ce,{className:b},w||j?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(P)},R.createElement("rect",{x:w?h:h-p/2,y:j?f:f-m/2,width:w?p:p*2,height:j?m:m*2})),!M&&R.createElement("clipPath",{id:"clipPath-dots-".concat(P)},R.createElement("rect",{x:h-L/2,y:f-L/2,width:p+L,height:m+L}))):null,!v&&this.renderCurve(k,P),this.renderErrorBar(k,P),(v||o)&&this.renderDots(k,M,P),(!x||g)&&ha.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(bi(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(bi(o),bi(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(R.isValidElement(n))i=R.cloneElement(n,s);else if(xe(n))i=n(s);else{var o=s.key,l=RP(s,Uhe),c=we("recharts-line-dot",typeof n!="boolean"?n.className:"");i=R.createElement(Km,lc({key:o},l,{className:c}))}return i}}])}(N.PureComponent);bn(rn,"displayName","Line");bn(rn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!di.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bn(rn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(h,p){var m=At(h,o);return u==="horizontal"?{x:cS({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:be(m)?null:n.scale(m),value:m,payload:h}:{x:be(m)?null:r.scale(m),y:cS({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:m,payload:h}});return Pr({points:f,layout:u},d)});function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function tme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w$(n.key),n)}}function nme(e,t,r){return t&&rme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ame(e,t,r){return t=Dh(t),sme(e,b$()?Reflect.construct(t,r||[],Dh(e).constructor):t.apply(e,r))}function sme(e,t){if(t&&(Ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ime(e)}function ime(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!e})()}function Dh(e){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(e)}function ome(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wy(e,t)}function j$(e,t,r){return t=w$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=lme(e,"string");return Ro(t)=="symbol"?t:t+""}function lme(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function cme(e){var t=e.xAxisId,r=Nj(),n=kj(),s=i$(t);return s==null?null:N.createElement(ul,Ny({},s,{className:we("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ca(o,!0)}}))}var or=function(e){function t(){return tme(this,t),ame(this,t,arguments)}return ome(t,e),nme(t,[{key:"render",value:function(){return N.createElement(cme,this.props)}}])}(N.Component);j$(or,"displayName","XAxis");j$(or,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function dme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ume(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S$(n.key),n)}}function fme(e,t,r){return t&&ume(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hme(e,t,r){return t=Mh(t),mme(e,N$()?Reflect.construct(t,r||[],Mh(e).constructor):t.apply(e,r))}function mme(e,t){if(t&&(Lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(e)}function pme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!e})()}function Mh(e){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mh(e)}function gme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ky(e,t)}function k$(e,t,r){return t=S$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S$(e){var t=xme(e,"string");return Lo(t)=="symbol"?t:t+""}function xme(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}var yme=function(t){var r=t.yAxisId,n=Nj(),s=kj(),i=o$(r);return i==null?null:N.createElement(ul,Sy({},i,{className:we("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return ca(l,!0)}}))},lr=function(e){function t(){return dme(this,t),hme(this,t,arguments)}return gme(t,e),fme(t,[{key:"render",value:function(){return N.createElement(yme,this.props)}}])}(N.Component);k$(lr,"displayName","YAxis");k$(lr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BP(e){return wme(e)||jme(e)||bme(e)||vme()}function vme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(e,t){if(e){if(typeof e=="string")return Py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Py(e,t)}}function jme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wme(e){if(Array.isArray(e))return Py(e)}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oy=function(t,r,n,s,i){var o=Mr(t,Pj),l=Mr(t,rp),c=[].concat(BP(o),BP(l)),d=Mr(t,ap),u="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(x,y){if(y.props[u]===n&&Hn(y.props,"extendDomain")&&ee(y.props[f])){var g=y.props[f];return[Math.min(x[0],g),Math.max(x[1],g)]}return x},h)),d.length){var p="".concat(f,"1"),m="".concat(f,"2");h=d.reduce(function(x,y){if(y.props[u]===n&&Hn(y.props,"extendDomain")&&ee(y.props[p])&&ee(y.props[m])){var g=y.props[p],v=y.props[m];return[Math.min(x[0],g,v),Math.max(x[1],g,v)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,y){return ee(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},P$={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new s(u,f||c,h),m=r?r+d:d;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,p,m){var x=r?r+d:d;if(!this._events[x])return!1;var y=this._events[x],g=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,p),!0;case 6:return y.fn.call(y.context,u,f,h,p,m),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var w=y.length,j;for(b=0;b<w;b++)switch(y[b].once&&this.removeListener(d,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,f);break;case 4:y[b].fn.call(y[b].context,u,f,h);break;default:if(!v)for(j=1,v=new Array(g-1);j<g;j++)v[j-1]=arguments[j];y[b].fn.apply(y[b].context,v)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var x=0,y=[],g=m.length;x<g;x++)(m[x].fn!==u||h&&!m[x].once||f&&m[x].context!==f)&&y.push(m[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(P$);var Nme=P$.exports;const kme=Me(Nme);var Ag=new kme,Tg="recharts.syncMouseEvents";function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function Sme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O$(n.key),n)}}function Ome(e,t,r){return t&&Pme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cg(e,t,r){return t=O$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=Ame(e,"string");return xd(t)=="symbol"?t:t+""}function Ame(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tme=function(){function e(){Sme(this,e),Cg(this,"activeIndex",0),Cg(this,"coordinateList",[]),Cg(this,"layout","horizontal")}return Ome(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Cme(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&ee(n)&&ee(s))return!0}return!1}function _me(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function A$(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=qe(t,r,n,s),l=qe(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Eme(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,h=qe(l,c,d,f),p=qe(l,c,u,f);n=h.x,s=h.y,i=p.x,o=p.y}else return A$(t);return[{x:n,y:s},{x:i,y:o}]}function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){$me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $me(e,t,r){return t=Dme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dme(e){var t=Mme(e,"string");return yd(t)=="symbol"?t:t+""}function Mme(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ime(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var m,x=hh;if(h==="ScatterChart")m=o,x=ece;else if(h==="BarChart")m=_me(f,o,c,u),x=vj;else if(f==="radial"){var y=A$(o),g=y.cx,v=y.cy,b=y.radius,w=y.startAngle,j=y.endAngle;m={cx:g,cy:v,startAngle:w,endAngle:j,innerRadius:b,outerRadius:b},x=k3}else m={points:Eme(f,o,c)},x=hh;var k=Ou(Ou(Ou(Ou({stroke:"#ccc",pointerEvents:"none"},c),m),fe(p,!1)),{},{payload:l,payloadIndex:d,className:we("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,k):N.createElement(x,k)}var Rme=["item"],Lme=["children","className","width","height","style","compact","title","desc"];function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(this,arguments)}function UP(e,t){return zme(e)||Bme(e,t)||C$(e,t)||Fme()}function Fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function zme(e){if(Array.isArray(e))return e}function VP(e,t){if(e==null)return{};var r=Ume(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ume(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_$(n.key),n)}}function Hme(e,t,r){return t&&Wme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qme(e,t,r){return t=Ih(t),Kme(e,T$()?Reflect.construct(t,r||[],Ih(e).constructor):t.apply(e,r))}function Kme(e,t){if(t&&(Fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gme(e)}function Gme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!e})()}function Ih(e){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ih(e)}function Xme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ay(e,t)}function Bo(e){return Zme(e)||Qme(e)||C$(e)||Yme()}function Yme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C$(e,t){if(e){if(typeof e=="string")return Ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ty(e,t)}}function Qme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zme(e){if(Array.isArray(e))return Ty(e)}function Ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function me(e,t,r){return t=_$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$(e){var t=Jme(e,"string");return Fo(t)=="symbol"?t:t+""}function Jme(e,t){if(Fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var epe={xAxis:["bottom","top"],yAxis:["left","right"]},tpe={width:"100%",height:"100%"},E$={x:0,y:0};function Au(e){return e}var rpe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},npe=function(t,r,n,s){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return G(G(G({},s),qe(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return G(G(G({},s),qe(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return E$},sp=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Bo(l),Bo(d)):l},[]);return o.length>0?o:t&&t.length&&ee(s)&&ee(i)?t.slice(s,i+1):[]};function $$(e){return e==="number"?[0,"auto"]:void 0}var Cy=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=sp(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=If(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Bo(c),[y3(d,h)]):c},[])},HP=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=rpe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=Nse(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,h=Cy(t,r,u,f),p=npe(n,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},ape=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=f3(u,i);return n.reduce(function(m,x){var y,g=x.type.defaultProps!==void 0?G(G({},x.type.defaultProps),x.props):x.props,v=g.type,b=g.dataKey,w=g.allowDataOverflow,j=g.allowDuplicatedCategory,k=g.scale,P=g.ticks,S=g.includeHidden,O=g[o];if(m[O])return m;var A=sp(t.data,{graphicalItems:s.filter(function(B){var q,Y=o in B.props?B.props[o]:(q=B.type.defaultProps)===null||q===void 0?void 0:q[o];return Y===O}),dataStartIndex:c,dataEndIndex:d}),C=A.length,T,F,z;Cme(g.domain,w,v)&&(T=Wx(g.domain,null,w),p&&(v==="number"||k!=="auto")&&(z=ac(A,b,"category")));var M=$$(v);if(!T||T.length===0){var L,V=(L=g.domain)!==null&&L!==void 0?L:M;if(b){if(T=ac(A,b,v),v==="category"&&p){var $=fW(T);j&&$?(F=T,T=Nh(0,C)):j||(T=hS(V,T,x).reduce(function(B,q){return B.indexOf(q)>=0?B:[].concat(Bo(B),[q])},[]))}else if(v==="category")j?T=T.filter(function(B){return B!==""&&!be(B)}):T=hS(V,T,x).reduce(function(B,q){return B.indexOf(q)>=0||q===""||be(q)?B:[].concat(Bo(B),[q])},[]);else if(v==="number"){var _=Ase(A,s.filter(function(B){var q,Y,re=o in B.props?B.props[o]:(q=B.type.defaultProps)===null||q===void 0?void 0:q[o],J="hide"in B.props?B.props.hide:(Y=B.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return re===O&&(S||!J)}),b,i,u);_&&(T=_)}p&&(v==="number"||k!=="auto")&&(z=ac(A,b,"category"))}else p?T=Nh(0,C):l&&l[O]&&l[O].hasStack&&v==="number"?T=h==="expand"?[0,1]:x3(l[O].stackGroups,c,d):T=u3(A,s.filter(function(B){var q=o in B.props?B.props[o]:B.type.defaultProps[o],Y="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return q===O&&(S||!Y)}),v,u,!0);if(v==="number")T=Oy(f,T,O,i,P),V&&(T=Wx(V,T,w));else if(v==="category"&&V){var U=V,I=T.every(function(B){return U.indexOf(B)>=0});I&&(T=U)}}return G(G({},m),{},me({},O,G(G({},g),{},{axisType:i,domain:T,categoricalDomain:z,duplicateDomain:F,originalDomain:(y=g.domain)!==null&&y!==void 0?y:M,isCategorical:p,layout:u})))},{})},spe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=sp(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),p=h.length,m=f3(u,i),x=-1;return n.reduce(function(y,g){var v=g.type.defaultProps!==void 0?G(G({},g.type.defaultProps),g.props):g.props,b=v[o],w=$$("number");if(!y[b]){x++;var j;return m?j=Nh(0,p):l&&l[b]&&l[b].hasStack?(j=x3(l[b].stackGroups,c,d),j=Oy(f,j,b,i)):(j=Wx(w,u3(h,n.filter(function(k){var P,S,O=o in k.props?k.props[o]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[o],A="hide"in k.props?k.props.hide:(S=k.type.defaultProps)===null||S===void 0?void 0:S.hide;return O===b&&!A}),"number",u),s.defaultProps.allowDataOverflow),j=Oy(f,j,b,i)),G(G({},y),{},me({},b,G(G({axisType:i},s.defaultProps),{},{hide:!0,orientation:Dr(epe,"".concat(i,".").concat(x%2),null),domain:j,originalDomain:w,isCategorical:m,layout:u})))}return y},{})},ipe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(s,"Id"),h=Mr(u,i),p={};return h&&h.length?p=ape(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=spe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},ope=function(t){var r=Fa(t),n=ca(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qb(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:dh(r,n)}},qP=function(t){var r=t.children,n=t.defaultShowTooltip,s=Tr(r,Co),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},lpe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ua(r&&r.type);return n&&n.indexOf("Bar")>=0})},KP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cpe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,f=n.children,h=n.margin||{},p=Tr(f,Co),m=Tr(f,It),x=Object.keys(c).reduce(function(j,k){var P=c[k],S=P.orientation;return!P.mirror&&!P.hide?G(G({},j),{},me({},S,j[S]+P.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,k){var P=o[k],S=P.orientation;return!P.mirror&&!P.hide?G(G({},j),{},me({},S,Dr(j,"".concat(S))+P.height)):j},{top:h.top||0,bottom:h.bottom||0}),g=G(G({},y),x),v=g.bottom;p&&(g.bottom+=p.props.height||Co.defaultProps.height),m&&r&&(g=Pse(g,s,n,r));var b=d-g.left-g.right,w=u-g.top-g.bottom;return G(G({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(w,0)})},dpe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Tj=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(g,v){var b=v.graphicalItems,w=v.stackGroups,j=v.offset,k=v.updateId,P=v.dataStartIndex,S=v.dataEndIndex,O=g.barSize,A=g.layout,C=g.barGap,T=g.barCategoryGap,F=g.maxBarSize,z=KP(A),M=z.numericAxisName,L=z.cateAxisName,V=lpe(b),$=[];return b.forEach(function(_,U){var I=sp(g.data,{graphicalItems:[_],dataStartIndex:P,dataEndIndex:S}),B=_.type.defaultProps!==void 0?G(G({},_.type.defaultProps),_.props):_.props,q=B.dataKey,Y=B.maxBarSize,re=B["".concat(M,"Id")],J=B["".concat(L,"Id")],ve={},Pe=c.reduce(function(Br,Zn){var mi=v["".concat(Zn.axisType,"Map")],zr=B["".concat(Zn.axisType,"Id")];mi&&mi[zr]||Zn.axisType==="zAxis"||ni();var hl=mi[zr];return G(G({},Br),{},me(me({},Zn.axisType,hl),"".concat(Zn.axisType,"Ticks"),ca(hl)))},ve),te=Pe[L],se=Pe["".concat(L,"Ticks")],ye=w&&w[re]&&w[re].hasStack&&Rse(_,w[re].stackGroups),K=ua(_.type).indexOf("Bar")>=0,Re=dh(te,se),ne=[],Be=V&&kse({barSize:O,stackGroups:w,totalSize:dpe(Pe,L)});if(K){var ge,Oe,En=be(Y)?F:Y,fn=(ge=(Oe=dh(te,se,!0))!==null&&Oe!==void 0?Oe:En)!==null&&ge!==void 0?ge:0;ne=Sse({barGap:C,barCategoryGap:T,bandSize:fn!==Re?fn:Re,sizeList:Be[J],maxBarSize:En}),fn!==Re&&(ne=ne.map(function(Br){return G(G({},Br),{},{position:G(G({},Br.position),{},{offset:Br.position.offset-fn/2})})}))}var nt=_&&_.type&&_.type.getComposedData;nt&&$.push({props:G(G({},nt(G(G({},Pe),{},{displayedData:I,props:g,dataKey:q,item:_,bandSize:Re,barPosition:ne,offset:j,stackedData:ye,layout:A,dataStartIndex:P,dataEndIndex:S}))),{},me(me(me({key:_.key||"item-".concat(U)},M,Pe[M]),L,Pe[L]),"animationId",k)),childIndex:SW(_,g.children),item:_})}),$},p=function(g,v){var b=g.props,w=g.dataStartIndex,j=g.dataEndIndex,k=g.updateId;if(!ik({props:b}))return null;var P=b.children,S=b.layout,O=b.stackOffset,A=b.data,C=b.reverseStackOrder,T=KP(S),F=T.numericAxisName,z=T.cateAxisName,M=Mr(P,n),L=Mse(A,M,"".concat(F,"Id"),"".concat(z,"Id"),O,C),V=c.reduce(function(B,q){var Y="".concat(q.axisType,"Map");return G(G({},B),{},me({},Y,ipe(b,G(G({},q),{},{graphicalItems:M,stackGroups:q.axisType===F&&L,dataStartIndex:w,dataEndIndex:j}))))},{}),$=cpe(G(G({},V),{},{props:b,graphicalItems:M}),v==null?void 0:v.legendBBox);Object.keys(V).forEach(function(B){V[B]=u(b,V[B],$,B.replace("Map",""),r)});var _=V["".concat(z,"Map")],U=ope(_),I=h(b,G(G({},V),{},{dataStartIndex:w,dataEndIndex:j,updateId:k,graphicalItems:M,stackGroups:L,offset:$}));return G(G({formattedGraphicalItems:I,graphicalItems:M,offset:$,stackGroups:L},U),V)},m=function(y){function g(v){var b,w,j;return Vme(this,g),j=qme(this,g,[v]),me(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(j,"accessibilityManager",new Tme),me(j,"handleLegendBBoxUpdate",function(k){if(k){var P=j.state,S=P.dataStartIndex,O=P.dataEndIndex,A=P.updateId;j.setState(G({legendBBox:k},p({props:j.props,dataStartIndex:S,dataEndIndex:O,updateId:A},G(G({},j.state),{},{legendBBox:k}))))}}),me(j,"handleReceiveSyncEvent",function(k,P,S){if(j.props.syncId===k){if(S===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(P)}}),me(j,"handleBrushChange",function(k){var P=k.startIndex,S=k.endIndex;if(P!==j.state.dataStartIndex||S!==j.state.dataEndIndex){var O=j.state.updateId;j.setState(function(){return G({dataStartIndex:P,dataEndIndex:S},p({props:j.props,dataStartIndex:P,dataEndIndex:S,updateId:O},j.state))}),j.triggerSyncEvent({dataStartIndex:P,dataEndIndex:S})}}),me(j,"handleMouseEnter",function(k){var P=j.getMouseInfo(k);if(P){var S=G(G({},P),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var O=j.props.onMouseEnter;xe(O)&&O(S,k)}}),me(j,"triggeredAfterMouseMove",function(k){var P=j.getMouseInfo(k),S=P?G(G({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var O=j.props.onMouseMove;xe(O)&&O(S,k)}),me(j,"handleItemMouseEnter",function(k){j.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),me(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),me(j,"handleMouseMove",function(k){k.persist(),j.throttleTriggeredAfterMouseMove(k)}),me(j,"handleMouseLeave",function(k){j.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var S=j.props.onMouseLeave;xe(S)&&S(P,k)}),me(j,"handleOuterEvent",function(k){var P=kW(k),S=Dr(j.props,"".concat(P));if(P&&xe(S)){var O,A;/.*touch.*/i.test(P)?A=j.getMouseInfo(k.changedTouches[0]):A=j.getMouseInfo(k),S((O=A)!==null&&O!==void 0?O:{},k)}}),me(j,"handleClick",function(k){var P=j.getMouseInfo(k);if(P){var S=G(G({},P),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var O=j.props.onClick;xe(O)&&O(S,k)}}),me(j,"handleMouseDown",function(k){var P=j.props.onMouseDown;if(xe(P)){var S=j.getMouseInfo(k);P(S,k)}}),me(j,"handleMouseUp",function(k){var P=j.props.onMouseUp;if(xe(P)){var S=j.getMouseInfo(k);P(S,k)}}),me(j,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),me(j,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.handleMouseDown(k.changedTouches[0])}),me(j,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.handleMouseUp(k.changedTouches[0])}),me(j,"handleDoubleClick",function(k){var P=j.props.onDoubleClick;if(xe(P)){var S=j.getMouseInfo(k);P(S,k)}}),me(j,"handleContextMenu",function(k){var P=j.props.onContextMenu;if(xe(P)){var S=j.getMouseInfo(k);P(S,k)}}),me(j,"triggerSyncEvent",function(k){j.props.syncId!==void 0&&Ag.emit(Tg,j.props.syncId,k,j.eventEmitterSymbol)}),me(j,"applySyncEvent",function(k){var P=j.props,S=P.layout,O=P.syncMethod,A=j.state.updateId,C=k.dataStartIndex,T=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)j.setState(G({dataStartIndex:C,dataEndIndex:T},p({props:j.props,dataStartIndex:C,dataEndIndex:T,updateId:A},j.state)));else if(k.activeTooltipIndex!==void 0){var F=k.chartX,z=k.chartY,M=k.activeTooltipIndex,L=j.state,V=L.offset,$=L.tooltipTicks;if(!V)return;if(typeof O=="function")M=O($,k);else if(O==="value"){M=-1;for(var _=0;_<$.length;_++)if($[_].value===k.activeLabel){M=_;break}}var U=G(G({},V),{},{x:V.left,y:V.top}),I=Math.min(F,U.x+U.width),B=Math.min(z,U.y+U.height),q=$[M]&&$[M].value,Y=Cy(j.state,j.props.data,M),re=$[M]?{x:S==="horizontal"?$[M].coordinate:I,y:S==="horizontal"?B:$[M].coordinate}:E$;j.setState(G(G({},k),{},{activeLabel:q,activeCoordinate:re,activePayload:Y,activeTooltipIndex:M}))}else j.setState(k)}),me(j,"renderCursor",function(k){var P,S=j.state,O=S.isTooltipActive,A=S.activeCoordinate,C=S.activePayload,T=S.offset,F=S.activeTooltipIndex,z=S.tooltipAxisBandSize,M=j.getTooltipEventType(),L=(P=k.props.active)!==null&&P!==void 0?P:O,V=j.props.layout,$=k.key||"_recharts-cursor";return R.createElement(Ime,{key:$,activeCoordinate:A,activePayload:C,activeTooltipIndex:F,chartName:r,element:k,isActive:L,layout:V,offset:T,tooltipAxisBandSize:z,tooltipEventType:M})}),me(j,"renderPolarAxis",function(k,P,S){var O=Dr(k,"type.axisType"),A=Dr(j.state,"".concat(O,"Map")),C=k.type.defaultProps,T=C!==void 0?G(G({},C),k.props):k.props,F=A&&A[T["".concat(O,"Id")]];return N.cloneElement(k,G(G({},F),{},{className:we(O,F.className),key:k.key||"".concat(P,"-").concat(S),ticks:ca(F,!0)}))}),me(j,"renderPolarGrid",function(k){var P=k.props,S=P.radialLines,O=P.polarAngles,A=P.polarRadius,C=j.state,T=C.radiusAxisMap,F=C.angleAxisMap,z=Fa(T),M=Fa(F),L=M.cx,V=M.cy,$=M.innerRadius,_=M.outerRadius;return N.cloneElement(k,{polarAngles:Array.isArray(O)?O:ca(M,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(A)?A:ca(z,!0).map(function(U){return U.coordinate}),cx:L,cy:V,innerRadius:$,outerRadius:_,key:k.key||"polar-grid",radialLines:S})}),me(j,"renderLegend",function(){var k=j.state.formattedGraphicalItems,P=j.props,S=P.children,O=P.width,A=P.height,C=j.props.margin||{},T=O-(C.left||0)-(C.right||0),F=c3({children:S,formattedGraphicalItems:k,legendWidth:T,legendContent:d});if(!F)return null;var z=F.item,M=VP(F,Rme);return N.cloneElement(z,G(G({},M),{},{chartWidth:O,chartHeight:A,margin:C,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),me(j,"renderTooltip",function(){var k,P=j.props,S=P.children,O=P.accessibilityLayer,A=Tr(S,We);if(!A)return null;var C=j.state,T=C.isTooltipActive,F=C.activeCoordinate,z=C.activePayload,M=C.activeLabel,L=C.offset,V=(k=A.props.active)!==null&&k!==void 0?k:T;return N.cloneElement(A,{viewBox:G(G({},L),{},{x:L.left,y:L.top}),active:V,label:M,payload:V?z:[],coordinate:F,accessibilityLayer:O})}),me(j,"renderBrush",function(k){var P=j.props,S=P.margin,O=P.data,A=j.state,C=A.offset,T=A.dataStartIndex,F=A.dataEndIndex,z=A.updateId;return N.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Nu(j.handleBrushChange,k.props.onChange),data:O,x:ee(k.props.x)?k.props.x:C.left,y:ee(k.props.y)?k.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:ee(k.props.width)?k.props.width:C.width,startIndex:T,endIndex:F,updateId:"brush-".concat(z)})}),me(j,"renderReferenceElement",function(k,P,S){if(!k)return null;var O=j,A=O.clipPathId,C=j.state,T=C.xAxisMap,F=C.yAxisMap,z=C.offset,M=k.type.defaultProps||{},L=k.props,V=L.xAxisId,$=V===void 0?M.xAxisId:V,_=L.yAxisId,U=_===void 0?M.yAxisId:_;return N.cloneElement(k,{key:k.key||"".concat(P,"-").concat(S),xAxis:T[$],yAxis:F[U],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:A})}),me(j,"renderActivePoints",function(k){var P=k.item,S=k.activePoint,O=k.basePoint,A=k.childIndex,C=k.isRange,T=[],F=P.props.key,z=P.item.type.defaultProps!==void 0?G(G({},P.item.type.defaultProps),P.item.props):P.item.props,M=z.activeDot,L=z.dataKey,V=G(G({index:A,dataKey:L,cx:S.x,cy:S.y,r:4,fill:yj(P.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},fe(M,!1)),Rf(M));return T.push(g.renderActiveDot(M,V,"".concat(F,"-activePoint-").concat(A))),O?T.push(g.renderActiveDot(M,G(G({},V),{},{cx:O.x,cy:O.y}),"".concat(F,"-basePoint-").concat(A))):C&&T.push(null),T}),me(j,"renderGraphicChild",function(k,P,S){var O=j.filterFormatItem(k,P,S);if(!O)return null;var A=j.getTooltipEventType(),C=j.state,T=C.isTooltipActive,F=C.tooltipAxis,z=C.activeTooltipIndex,M=C.activeLabel,L=j.props.children,V=Tr(L,We),$=O.props,_=$.points,U=$.isRange,I=$.baseLine,B=O.item.type.defaultProps!==void 0?G(G({},O.item.type.defaultProps),O.item.props):O.item.props,q=B.activeDot,Y=B.hide,re=B.activeBar,J=B.activeShape,ve=!!(!Y&&T&&V&&(q||re||J)),Pe={};A!=="axis"&&V&&V.props.trigger==="click"?Pe={onClick:Nu(j.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(Pe={onMouseLeave:Nu(j.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Nu(j.handleItemMouseEnter,k.props.onMouseEnter)});var te=N.cloneElement(k,G(G({},O.props),Pe));function se(Zn){return typeof F.dataKey=="function"?F.dataKey(Zn.payload):null}if(ve)if(z>=0){var ye,K;if(F.dataKey&&!F.allowDuplicatedCategory){var Re=typeof F.dataKey=="function"?se:"payload.".concat(F.dataKey.toString());ye=If(_,Re,M),K=U&&I&&If(I,Re,M)}else ye=_==null?void 0:_[z],K=U&&I&&I[z];if(J||re){var ne=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[N.cloneElement(k,G(G(G({},O.props),Pe),{},{activeIndex:ne})),null,null]}if(!be(ye))return[te].concat(Bo(j.renderActivePoints({item:O,activePoint:ye,basePoint:K,childIndex:z,isRange:U})))}else{var Be,ge=(Be=j.getItemByXY(j.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:te},Oe=ge.graphicalItem,En=Oe.item,fn=En===void 0?k:En,nt=Oe.childIndex,Br=G(G(G({},O.props),Pe),{},{activeIndex:nt});return[N.cloneElement(fn,Br),null,null]}return U?[te,null,null]:[te,null]}),me(j,"renderCustomized",function(k,P,S){return N.cloneElement(k,G(G({key:"recharts-customized-".concat(S)},j.props),j.state))}),me(j,"renderMap",{CartesianGrid:{handler:Au,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Au},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Au},YAxis:{handler:Au},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:al("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=lE(j.triggeredAfterMouseMove,(w=v.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return Xme(g,y),Hme(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,j=b.data,k=b.height,P=b.layout,S=Tr(w,We);if(S){var O=S.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,C=Cy(this.state,j,O,A),T=this.state.tooltipTicks[O].coordinate,F=(this.state.offset.top+k)/2,z=P==="horizontal",M=z?{x:T,y:F}:{y:T,x:F},L=this.state.formattedGraphicalItems.find(function($){var _=$.item;return _.type.name==="Scatter"});L&&(M=G(G({},M),L.props.points[O].tooltipPosition),C=L.props.points[O].tooltipPayload);var V={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:A,activePayload:C,activeCoordinate:M};this.setState(V),this.renderCursor(S),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,k;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){sx([Tr(b.children,We)],[Tr(this.props.children,We)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Tr(this.props.children,We);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),k=Qee(j),P={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},S=j.width/w.offsetWidth||1,O=this.inRange(P.chartX,P.chartY,S);if(!O)return null;var A=this.state,C=A.xAxisMap,T=A.yAxisMap,F=this.getTooltipEventType(),z=HP(this.state,this.props.data,this.props.layout,O);if(F!=="axis"&&C&&T){var M=Fa(C).scale,L=Fa(T).scale,V=M&&M.invert?M.invert(P.chartX):null,$=L&&L.invert?L.invert(P.chartY):null;return G(G({},P),{},{xValue:V,yValue:$},z)}return z?G(G({},P),z):null}},{key:"inRange",value:function(b,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=b/j,S=w/j;if(k==="horizontal"||k==="vertical"){var O=this.state.offset,A=P>=O.left&&P<=O.left+O.width&&S>=O.top&&S<=O.top+O.height;return A?{x:P,y:S}:null}var C=this.state,T=C.angleAxisMap,F=C.radiusAxisMap;if(T&&F){var z=Fa(T);return gS({x:P,y:S},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),j=Tr(b,We),k={};j&&w==="axis"&&(j.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Rf(this.props,this.handleOuterEvent);return G(G({},P),k)}},{key:"addListener",value:function(){Ag.on(Tg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ag.removeListener(Tg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,j){for(var k=this.state.formattedGraphicalItems,P=0,S=k.length;P<S;P++){var O=k[P];if(O.item===b||O.props.key===b.key||w===ua(O.item.type)&&j===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,j=w.left,k=w.top,P=w.height,S=w.width;return R.createElement("defs",null,R.createElement("clipPath",{id:b},R.createElement("rect",{x:j,y:k,height:P,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,j){var k=UP(j,2),P=k[0],S=k[1];return G(G({},w),{},me({},P,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,j){var k=UP(j,2),P=k[0],S=k[1];return G(G({},w),{},me({},P,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,j=w.formattedGraphicalItems,k=w.activeItem;if(j&&j.length)for(var P=0,S=j.length;P<S;P++){var O=j[P],A=O.props,C=O.item,T=C.type.defaultProps!==void 0?G(G({},C.type.defaultProps),C.props):C.props,F=ua(C.type);if(F==="Bar"){var z=(A.data||[]).find(function($){return Dle(b,$)});if(z)return{graphicalItem:O,payload:z}}else if(F==="RadialBar"){var M=(A.data||[]).find(function($){return gS(b,$)});if(M)return{graphicalItem:O,payload:M}}else if(Zm(O,k)||Jm(O,k)||fd(O,k)){var L=wde({graphicalItem:O,activeTooltipItem:k,itemData:T.data}),V=T.activeIndex===void 0?L:T.activeIndex;return{graphicalItem:G(G({},O),{},{childIndex:V}),payload:fd(O,k)?T.data[L]:O.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!ik(this))return null;var w=this.props,j=w.children,k=w.className,P=w.width,S=w.height,O=w.style,A=w.compact,C=w.title,T=w.desc,F=VP(w,Lme),z=fe(F,!1);if(A)return R.createElement(kP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(ox,Vi({},z,{width:P,height:S,title:C,desc:T}),this.renderClipPath(),lk(j,this.renderMap)));if(this.props.accessibilityLayer){var M,L;z.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,z.role=(L=this.props.role)!==null&&L!==void 0?L:"application",z.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},z.onFocus=function(){b.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return R.createElement(kP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Vi({className:we("recharts-wrapper",k),style:G({position:"relative",cursor:"default",width:P,height:S},O)},V,{ref:function(_){b.container=_}}),R.createElement(ox,Vi({},z,{width:P,height:S,title:C,desc:T,style:tpe}),this.renderClipPath(),lk(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);me(m,"displayName",r),me(m,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),me(m,"getDerivedStateFromProps",function(y,g){var v=y.dataKey,b=y.data,w=y.children,j=y.width,k=y.height,P=y.layout,S=y.stackOffset,O=y.margin,A=g.dataStartIndex,C=g.dataEndIndex;if(g.updateId===void 0){var T=qP(y);return G(G(G({},T),{},{updateId:0},p(G(G({props:y},T),{},{updateId:0}),g)),{},{prevDataKey:v,prevData:b,prevWidth:j,prevHeight:k,prevLayout:P,prevStackOffset:S,prevMargin:O,prevChildren:w})}if(v!==g.prevDataKey||b!==g.prevData||j!==g.prevWidth||k!==g.prevHeight||P!==g.prevLayout||S!==g.prevStackOffset||!Qi(O,g.prevMargin)){var F=qP(y),z={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},M=G(G({},HP(g,b,P)),{},{updateId:g.updateId+1}),L=G(G(G({},F),z),M);return G(G(G({},L),p(G({props:y},L),g)),{},{prevDataKey:v,prevData:b,prevWidth:j,prevHeight:k,prevLayout:P,prevStackOffset:S,prevMargin:O,prevChildren:w})}if(!sx(w,g.prevChildren)){var V,$,_,U,I=Tr(w,Co),B=I&&(V=($=I.props)===null||$===void 0?void 0:$.startIndex)!==null&&V!==void 0?V:A,q=I&&(_=(U=I.props)===null||U===void 0?void 0:U.endIndex)!==null&&_!==void 0?_:C,Y=B!==A||q!==C,re=!be(b),J=re&&!Y?g.updateId:g.updateId+1;return G(G({updateId:J},p(G(G({props:y},g),{},{updateId:J,dataStartIndex:B,dataEndIndex:q}),g)),{},{prevChildren:w,dataStartIndex:B,dataEndIndex:q})}return null}),me(m,"renderActiveDot",function(y,g,v){var b;return N.isValidElement(y)?b=N.cloneElement(y,g):xe(y)?b=y(g):b=R.createElement(Km,g),R.createElement(Ce,{className:"recharts-active-dot",key:v},b)});var x=N.forwardRef(function(g,v){return R.createElement(m,Vi({},g,{ref:v}))});return x.displayName=m.displayName,x},ip=Tj({chartName:"LineChart",GraphicalChild:rn,axisComponents:[{axisType:"xAxis",AxisComp:or},{axisType:"yAxis",AxisComp:lr}],formatAxisMap:Z3}),si=Tj({chartName:"BarChart",GraphicalChild:it,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:or},{axisType:"yAxis",AxisComp:lr}],formatAxisMap:Z3}),fl=Tj({chartName:"PieChart",GraphicalChild:Sr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Qm},{axisType:"radiusAxis",AxisComp:Xm}],formatAxisMap:Kse,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const upe=()=>{const e=Se(),[t,r]=N.useState({startDate:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[n,s]=N.useState([]),[i,o]=N.useState([]),[l,c]=N.useState([]),[d,u]=N.useState(!0);N.useEffect(()=>{f()},[t]);const f=async()=>{try{u(!0);const[h,p,m]=await Promise.all([W.get("/analytics/sales-over-time",{params:{startDate:t.startDate,endDate:t.endDate,groupBy:"month"}}),W.get("/analytics/revenue-by-category",{params:{startDate:t.startDate,endDate:t.endDate}}),W.get("/analytics/top-products",{params:{startDate:t.startDate,endDate:t.endDate,limit:5}})]);s(h.data.data||[]),o(p.data.data||[]),c(m.data.data||[])}catch{s([{date:"2024-01",sales:120,revenue:5e4},{date:"2024-02",sales:150,revenue:65e3},{date:"2024-03",sales:180,revenue:8e4}]),o([{name:"",revenue:5e4},{name:"",revenue:3e4},{name:"",revenue:2e4}]),c([{name:" 1",sales:50,revenue:25e3},{name:" 2",sales:40,revenue:2e4},{name:" 3",sales:30,revenue:15e3}])}finally{u(!1)}};return a.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-4",children:[a.jsxs("button",{onClick:()=>e("/admin/analytics/orders-products"),className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(Ht,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"  "}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs("button",{onClick:()=>e("/admin/analytics/commercials"),className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(sn,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"date",value:t.startDate,onChange:h=>r({...t,startDate:h.target.value}),className:"input-field text-sm md:text-base px-2 md:px-3 py-2"}),a.jsx("input",{type:"date",value:t.endDate,onChange:h=>r({...t,endDate:h.target.value}),className:"input-field text-sm md:text-base px-2 md:px-3 py-2"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 md:gap-6",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:" "}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:"450"})]}),a.jsx(Nr,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:" "}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:"195,000 TND"})]}),a.jsx(ir,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:"120,000 TND"})]}),a.jsx(ir,{className:"text-green-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:" "}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:"433 TND"})]}),a.jsx(_C,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:" "}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:"1,200"})]}),a.jsx(Ht,{className:"text-gold-500",size:32})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",children:" "}),a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(ip,{data:n,children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{dataKey:"date"}),a.jsx(lr,{}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(rn,{type:"monotone",dataKey:"sales",stroke:"#3b82f6",name:""}),a.jsx(rn,{type:"monotone",dataKey:"revenue",stroke:"#10b981",name:""})]})})]}),a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",children:"  "}),a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(fl,{children:[a.jsx(Sr,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,percent:p})=>`${h}: ${(p*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:i.map((h,p)=>a.jsx(qn,{fill:["#3b82f6","#10b981","#FFD700","#ef4444","#8b5cf6"][p%5]},`cell-${p}`))}),a.jsx(We,{})]})})]}),a.jsxs("div",{className:"card lg:col-span-2 p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",children:" "}),a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(si,{data:l,children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{dataKey:"name"}),a.jsx(lr,{}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(it,{dataKey:"sales",fill:"#3b82f6",name:""}),a.jsx(it,{dataKey:"revenue",fill:"#10b981",name:""}),a.jsx(it,{dataKey:"profit",fill:"#22c55e",name:""})]})})]})]})]})},fpe=()=>{const e=Se(),[t,r]=N.useState([]),[n,s]=N.useState(!0),[i,o]=N.useState({startDate:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]});N.useEffect(()=>{l()},[i]);const l=async()=>{try{s(!0);const m=await W.get("/analytics/commercials",{params:i});r(m.data.data||[])}catch(m){console.error("Error fetching commercials analytics:",m),E.error("     ")}finally{s(!1)}},c=t.reduce((m,x)=>m+(x.totalRevenue||0),0),d=t.reduce((m,x)=>m+(x.totalExpenses||0),0),u=c-d,f=t.reduce((m,x)=>m+(x.totalOrders||0),0),h=t.map(m=>({name:m.commercialName,revenue:m.totalRevenue||0,expenses:m.totalExpenses||0,profit:(m.totalRevenue||0)-(m.totalExpenses||0)})).sort((m,x)=>x.revenue-m.revenue).slice(0,10),p=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];return a.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1",children:"     "})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:" "}),a.jsx("input",{type:"date",value:i.startDate,onChange:m=>o({...i,startDate:m.target.value}),className:"input-field text-sm md:text-base px-2 md:px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:" "}),a.jsx("input",{type:"date",value:i.endDate,onChange:m=>o({...i,endDate:m.target.value}),className:"input-field text-sm md:text-base px-2 md:px-3 py-2"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 md:gap-6",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:[c.toFixed(2)," TND"]})]}),a.jsx(ir,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:[(c-d).toFixed(2)," TND"]})]}),a.jsx(ir,{className:"text-green-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:[d.toFixed(2)," TND"]})]}),a.jsx(wr,{className:"text-red-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:`text-2xl font-bold mt-2 ${u>=0?"text-green-600":"text-red-600"}`,children:[u.toFixed(2)," TND"]})]}),a.jsx(Nr,{className:u>=0?"text-green-500":"text-red-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:f})]}),a.jsx(sn,{className:"text-blue-500",size:32})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"   "}),n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):h.length>0?a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(si,{data:h,children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{dataKey:"name"}),a.jsx(lr,{}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(it,{dataKey:"revenue",fill:"#FFD700",name:""}),a.jsx(it,{dataKey:"expenses",fill:"#FF6347",name:""}),a.jsx(it,{dataKey:"profit",fill:"#32CD32",name:""})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"  "})]}),a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):h.length>0?a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(fl,{children:[a.jsx(Sr,{data:h,dataKey:"revenue",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:h.map((m,x)=>a.jsx(qn,{fill:p[x%p.length]},`cell-${x}`))}),a.jsx(We,{}),a.jsx(It,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"  "})]})]}),a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"  "}),n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(sn,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"   "})]}):a.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:t.sort((m,x)=>(x.totalRevenue||0)-(m.totalRevenue||0)).map(m=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:m.commercialName}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.commercialEmail})]})}),a.jsxs("td",{className:"py-3 px-4 font-medium text-green-600",children:[(m.totalRevenue||0).toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4 font-medium text-red-600",children:[(m.totalExpenses||0).toFixed(2)," TND"]}),a.jsxs("td",{className:`py-3 px-4 font-medium ${(m.profit||0)>=0?"text-green-600":"text-red-600"}`,children:[(m.profit||0).toFixed(2)," TND"]}),a.jsx("td",{className:"py-3 px-4",children:m.totalOrders||0}),a.jsxs("td",{className:"py-3 px-4",children:[(m.expenseToRevenueRatio||0).toFixed(2),"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>e(`/admin/analytics/commercials/${m.commercialId}`),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:" ",children:a.jsx(Cn,{size:18})})})]},m.commercialId))})]})})})]})]})},hpe=({filters:e,onExport:t})=>{const r=Se(),[n,s]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState({page:1,limit:50,total:0,pages:0}),[d,u]=N.useState("date"),[f,h]=N.useState("desc"),[p,m]=N.useState("");N.useEffect(()=>{x()},[e,l.page,d,f]);const x=async()=>{try{o(!0);const w={...e,page:l.page,limit:l.limit},j=await W.get("/analytics/commercials/advanced/orders-table",{params:w});s(j.data.data||[]),c(k=>{var P,S;return{...k,total:((P=j.data.pagination)==null?void 0:P.total)||0,pages:((S=j.data.pagination)==null?void 0:S.pages)||0}})}catch(w){console.error("Error fetching orders:",w),E.error("    ")}finally{o(!1)}},y=w=>{d===w?h(f==="asc"?"desc":"asc"):(u(w),h("desc"))},g=()=>{const w=[" ","","","","","",""],j=n.map(O=>[O.orderNumber,new Date(O.date).toLocaleDateString("fr-FR"),O.source==="ecommerce"?"E-commerce":"POS",O.customer||"-",`${O.total} TND`,O.status,O.commercial||"-"]),k=[w.join(","),...j.map(O=>O.map(A=>`"${A}"`).join(","))].join(`
`),P=new Blob(["\uFEFF"+k],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(P),S.download=`orders-${new Date().toISOString().split("T")[0]}.csv`,S.click(),E.success("   ")},v=w=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",canceled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",delivered:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"})[w]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",b=n.filter(w=>{var k,P,S;if(!p)return!0;const j=p.toLowerCase();return((k=w.orderNumber)==null?void 0:k.toLowerCase().includes(j))||((P=w.customer)==null?void 0:P.toLowerCase().includes(j))||((S=w.commercial)==null?void 0:S.toLowerCase().includes(j))});return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",value:p,onChange:w=>m(w.target.value),className:"input-field pr-10"})]}),a.jsxs("button",{onClick:g,className:"btn-secondary flex items-center gap-2",children:[a.jsx(Tn,{size:18}),a.jsx("span",{children:" CSV"})]})]})]}),i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):b.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ht,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"  "})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>y("orderNumber"),children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>y("date"),children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>y("total"),children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:b.map(w=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:w.orderNumber}),a.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(w.date).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${w.source==="ecommerce"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:w.source==="ecommerce"?"E-commerce":"POS"})}),a.jsx("td",{className:"py-3 px-4",children:w.customer||"-"}),a.jsxs("td",{className:"py-3 px-4 font-medium",children:[w.total," TND"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${v(w.status)}`,children:w.status})}),a.jsx("td",{className:"py-3 px-4",children:w.commercial||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>r(`/admin/orders/${w._id}`),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:" ",children:a.jsx(Cn,{size:18})})})]},w._id))})]})}),l.pages>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",(l.page-1)*l.limit+1,"  ",Math.min(l.page*l.limit,l.total),"  ",l.total]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>c(w=>({...w,page:w.page-1})),disabled:l.page===1,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsx(MC,{size:18})}),a.jsxs("span",{className:"text-sm font-medium",children:[" ",l.page,"  ",l.pages]}),a.jsx("button",{onClick:()=>c(w=>({...w,page:w.page+1})),disabled:l.page===l.pages,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsx(DC,{size:18})})]})]})]})]})},mpe=({filters:e,onExport:t})=>{const[r,n]=N.useState([]),[s,i]=N.useState(!0),[o,l]=N.useState({page:1,limit:50,total:0,pages:0}),[c,d]=N.useState(""),[u,f]=N.useState(null);N.useEffect(()=>{h()},[e,o.page]);const h=async()=>{try{i(!0);const y={...e,page:o.page,limit:o.limit},g=await W.get("/analytics/commercials/advanced/expenses-table",{params:y});n(g.data.data||[]),l(v=>{var b,w;return{...v,total:((b=g.data.pagination)==null?void 0:b.total)||0,pages:((w=g.data.pagination)==null?void 0:w.pages)||0}})}catch(y){console.error("Error fetching expenses:",y),E.error("    ")}finally{i(!1)}},p=()=>{const y=["","","","",""],g=r.map(j=>[j.commercial,j.type,`${j.amount} TND`,new Date(j.date).toLocaleDateString("fr-FR"),j.notes||"-"]),v=[y.join(","),...g.map(j=>j.map(k=>`"${k}"`).join(","))].join(`
`),b=new Blob(["\uFEFF"+v],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");w.href=URL.createObjectURL(b),w.download=`expenses-${new Date().toISOString().split("T")[0]}.csv`,w.click(),E.success("   ")},m=y=>{y&&f(ue(y))},x=r.filter(y=>{var v,b,w;if(!c)return!0;const g=c.toLowerCase();return((v=y.commercial)==null?void 0:v.toLowerCase().includes(g))||((b=y.type)==null?void 0:b.toLowerCase().includes(g))||((w=y.label)==null?void 0:w.toLowerCase().includes(g))});return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",value:c,onChange:y=>d(y.target.value),className:"input-field pr-10"})]}),a.jsxs("button",{onClick:p,className:"btn-secondary flex items-center gap-2",children:[a.jsx(Tn,{size:18}),a.jsx("span",{children:" CSV"})]})]})]}),s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):x.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(wr,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"  "})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:x.map(y=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:y.commercial||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:y.type})}),a.jsx("td",{className:"py-3 px-4",children:y.label||"-"}),a.jsxs("td",{className:"py-3 px-4 font-medium text-red-600",children:[y.amount," TND"]}),a.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(y.date).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:y.notes||"-"}),a.jsx("td",{className:"py-3 px-4",children:y.receiptUrl?a.jsx("button",{onClick:()=>m(y.receiptUrl),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:" ",children:a.jsx(Mc,{size:18})}):a.jsx("span",{className:"text-gray-400 text-sm",children:"-"})})]},y._id))})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>f(null),children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl max-h-[90vh] overflow-auto",onClick:y=>y.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-bold",children:" "}),a.jsx("button",{onClick:()=>f(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("img",{src:u,alt:"Receipt",className:"max-w-full h-auto rounded",onError:y=>{y.target.style.display="none",y.target.nextSibling.style.display="block"}}),a.jsx("div",{style:{display:"none"},className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"   "})})]})]})}),o.pages>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",(o.page-1)*o.limit+1,"  ",Math.min(o.page*o.limit,o.total),"  ",o.total]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>l(y=>({...y,page:y.page-1})),disabled:o.page===1,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsx(MC,{size:18})}),a.jsxs("span",{className:"text-sm font-medium",children:[" ",o.page,"  ",o.pages]}),a.jsx("button",{onClick:()=>l(y=>({...y,page:y.page+1})),disabled:o.page===o.pages,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsx(DC,{size:18})})]})]})]})]})},ppe=({analytics:e})=>{const[t,r]=N.useState([]);N.useEffect(()=>{n()},[e]);const n=()=>{const o=[];e.forEach(l=>{const c=l.expenseToRevenueRatio||0;c>50&&o.push({type:"warning",icon:ir,title:" ",message:`${l.commercialName}:     ${c.toFixed(1)}%  `,commercialId:l.commercialId});const d=l.totalOrders>0?l.canceledOrders/l.totalOrders*100:0;d>20&&o.push({type:"error",icon:Rc,title:"  ",message:`${l.commercialName}: ${d.toFixed(1)}%   `,commercialId:l.commercialId}),l.profit<0&&o.push({type:"error",icon:VF,title:"",message:`${l.commercialName}:  ${Math.abs(l.profit).toFixed(2)} TND`,commercialId:l.commercialId});const u=e.reduce((f,h)=>f+(h.expenseToRevenueRatio||0),0)/e.length;c>u*3&&c>30&&o.push({type:"warning",icon:_f,title:"  ",message:`${l.commercialName}:     `,commercialId:l.commercialId})}),r(o)};if(t.length===0)return null;const s=o=>{switch(o){case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800";default:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"}},i=o=>{switch(o){case"error":return"text-red-600 dark:text-red-400";case"warning":return"text-yellow-600 dark:text-yellow-400";default:return"text-blue-600 dark:text-blue-400"}};return a.jsxs("div",{className:"card",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[a.jsx(_f,{className:"text-orange-500",size:24})," "]}),a.jsx("div",{className:"space-y-3",children:t.map((o,l)=>{const c=o.icon;return a.jsx("div",{className:`p-4 rounded-lg border ${s(o.type)}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(c,{className:`${i(o.type)} flex-shrink-0 mt-1`,size:20}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:o.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.message})]})]})},l)})})]})},gpe=()=>{const e=Se(),[t,r]=N.useState({commercialIds:"all",orderSource:"all",dateRange:"month",startDate:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],expenseCategory:"all"}),[n,s]=N.useState([]),[i,o]=N.useState([]),[l,c]=N.useState([]),[d,u]=N.useState(null),[f,h]=N.useState([]),[p,m]=N.useState(null),[x,y]=N.useState([]),[g,v]=N.useState(null),[b,w]=N.useState(!0),[j,k]=N.useState(!0),[P,S]=N.useState("overview");N.useEffect(()=>{O()},[]),N.useEffect(()=>{t.dateRange!=="custom"&&A(),C()},[t.commercialIds,t.orderSource,t.dateRange,t.expenseCategory]),N.useEffect(()=>{t.dateRange==="custom"&&C()},[t.startDate,t.endDate]);const O=async()=>{try{const I=await W.get("/users",{params:{role:"commercial"}});o(I.data.data||[])}catch(I){console.error("Error fetching commercials:",I)}},A=()=>{const I=new Date;let B,q;switch(t.dateRange){case"today":B=new Date(I),B.setHours(0,0,0,0),q=new Date(I),q.setHours(23,59,59,999);break;case"week":B=new Date(I),B.setDate(I.getDate()-7),B.setHours(0,0,0,0),q=new Date(I),q.setHours(23,59,59,999);break;case"month":B=new Date(I),B.setMonth(I.getMonth()-1),B.setHours(0,0,0,0),q=new Date(I),q.setHours(23,59,59,999);break;default:return}r(Y=>({...Y,startDate:B.toISOString().split("T")[0],endDate:q.toISOString().split("T")[0]}))},C=async()=>{try{w(!0);const I={commercialIds:t.commercialIds,orderSource:t.orderSource,startDate:t.startDate,endDate:t.endDate,expenseCategory:t.expenseCategory},[B,q,Y,re,J,ve,Pe]=await Promise.all([W.get("/analytics/commercials/advanced/overview",{params:I}),W.get("/analytics/commercials/advanced/revenue-over-time",{params:I}),W.get("/analytics/commercials/advanced/orders-breakdown",{params:I}),W.get("/analytics/commercials/advanced/top-products",{params:{...I,limit:10}}),W.get("/analytics/commercials/advanced/expense-analytics",{params:I}),W.get("/analytics/commercials/advanced/leaderboard",{params:I}),W.get("/analytics/commercials/advanced/cancellations",{params:I})]);s(B.data.data||[]),c(q.data.data||[]),u(Y.data.data||null),h(re.data.data||[]),m(J.data.data||null),y(ve.data.data||[]),v(Pe.data.data||null)}catch(I){console.error("Error fetching analytics:",I),E.error("    ")}finally{w(!1)}},T=(I,B)=>{r(q=>({...q,[I]:B}))},F=()=>{r({commercialIds:"all",orderSource:"all",dateRange:"month",startDate:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],expenseCategory:"all"})},z=async()=>{var I,B;try{E.loading("   PDF...",{id:"export-pdf"});const q={commercialIds:t.commercialIds,orderSource:t.orderSource,startDate:t.startDate,endDate:t.endDate,expenseCategory:t.expenseCategory},Y=await W.get("/analytics/commercials/advanced/export/pdf",{params:q,responseType:"blob"}),re=Y.headers["content-type"];if(re&&re.includes("application/json")){const te=new FileReader;te.onload=se=>{const ye=JSON.parse(se.target.result);E.error(` : ${ye.message||"  "}`,{id:"export-pdf"})},te.readAsText(Y.data);return}const J=window.URL.createObjectURL(new Blob([Y.data],{type:"application/pdf"})),ve=document.createElement("a");ve.href=J;const Pe=`advanced-analytics-${t.startDate}_${t.endDate}.pdf`;ve.setAttribute("download",Pe),document.body.appendChild(ve),ve.click(),ve.remove(),window.URL.revokeObjectURL(J),E.success("   PDF ",{id:"export-pdf"})}catch(q){console.error("Error exporting PDF:",q);const Y=((B=(I=q.response)==null?void 0:I.data)==null?void 0:B.message)||q.message||"   ";E.error(`     PDF: ${Y}`,{id:"export-pdf"})}},M=n.reduce((I,B)=>(I.totalRevenue+=B.totalRevenue||0,I.totalOrders+=B.totalOrders||0,I.totalExpenses+=B.totalExpenses||0,I.canceledOrders+=B.canceledOrders||0,I.totalCustomers+=B.totalCustomersReached||0,I.ecommerceRevenue+=B.ecommerceRevenue||0,I.posRevenue+=B.posRevenue||0,I),{totalRevenue:0,totalOrders:0,totalExpenses:0,canceledOrders:0,totalCustomers:0,ecommerceRevenue:0,posRevenue:0}),L=M.totalRevenue-M.totalExpenses,V=M.totalOrders>0?M.totalRevenue/M.totalOrders:0,$=M.totalRevenue>0?M.totalExpenses/M.totalRevenue*100:0,_=["#FFD700","#FFA500","#10B981","#3B82F6","#EF4444","#8B5CF6","#EC4899"],U=p!=null&&p.breakdown?[{name:"",value:p.breakdown.fuel||0},{name:"  ",value:p.breakdown.toll||0},{name:"",value:p.breakdown.transport||0},{name:"",value:p.breakdown.other||0}].filter(I=>I.value>0):[];return a.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:"   "}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1",children:"       "})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[a.jsxs("button",{onClick:()=>k(!j),className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(Dc,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:j?" ":" "}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs("button",{onClick:z,className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(Tn,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:" PDF"}),a.jsx("span",{className:"sm:hidden",children:"PDF"})]}),a.jsxs("button",{onClick:C,className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(fo,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:""})]})]})]}),j&&a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[a.jsx(Dc,{size:20,className:"md:w-6 md:h-6"}),""]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("select",{value:t.commercialIds,onChange:I=>T("commercialIds",I.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:" "}),i.map(I=>a.jsx("option",{value:I._id,children:I.name},I._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>T("orderSource","all"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t.orderSource==="all"?"bg-gold-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:""}),a.jsx("button",{onClick:()=>T("orderSource","ecommerce"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t.orderSource==="ecommerce"?"bg-gold-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"E-commerce"}),a.jsx("button",{onClick:()=>T("orderSource","pos"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t.orderSource==="pos"?"bg-gold-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"POS"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("select",{value:t.dateRange,onChange:I=>{T("dateRange",I.target.value),I.target.value!=="custom"&&A()},className:"input-field",children:[a.jsx("option",{value:"today",children:""}),a.jsx("option",{value:"week",children:" "}),a.jsx("option",{value:"month",children:" "}),a.jsx("option",{value:"custom",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("select",{value:t.expenseCategory,onChange:I=>T("expenseCategory",I.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"fuel",children:""}),a.jsx("option",{value:"toll",children:"  "}),a.jsx("option",{value:"transport",children:""}),a.jsx("option",{value:"other",children:""})]})]})]}),t.dateRange==="custom"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"date",value:t.startDate,onChange:I=>T("startDate",I.target.value),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"date",value:t.endDate,onChange:I=>T("endDate",I.target.value),className:"input-field"})]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsxs("button",{onClick:F,className:"btn-secondary flex items-center gap-2",children:[a.jsx(fo,{size:18}),a.jsx("span",{children:"  "})]})})]}),b?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs(a.Fragment,{children:[a.jsx(ppe,{analytics:n}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 md:gap-6",children:[a.jsx(ta,{title:" ",value:`${M.totalRevenue.toFixed(2)} TND`,icon:ir,color:"text-gold-500"}),a.jsx(ta,{title:"",value:`${(M.totalRevenue-M.totalExpenses).toFixed(2)} TND`,icon:ir,color:"text-green-500"}),a.jsx(ta,{title:" ",value:M.totalOrders,icon:Ht,color:"text-blue-500"}),a.jsx(ta,{title:"  ",value:`${V.toFixed(2)} TND`,icon:Nr,color:"text-green-500"}),a.jsx(ta,{title:" ",value:`${L.toFixed(2)} TND`,icon:Nr,color:L>=0?"text-green-500":"text-red-500"}),a.jsx(ta,{title:" ",value:`${M.totalExpenses.toFixed(2)} TND`,icon:wr,color:"text-red-500"}),a.jsx(ta,{title:" ",value:M.canceledOrders,icon:Rc,color:"text-orange-500"}),a.jsx(ta,{title:" ",value:M.totalCustomers,icon:sn,color:"text-purple-500"}),a.jsx(ta,{title:" ",value:`${$.toFixed(2)}%`,icon:wr,color:"text-yellow-500"})]}),a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"  "}),l.length>0?a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(ip,{data:l,children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{dataKey:"date"}),a.jsx(lr,{}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(rn,{type:"monotone",dataKey:"ecommerceRevenue",stroke:"#3B82F6",name:"E-commerce",strokeWidth:2}),a.jsx(rn,{type:"monotone",dataKey:"posRevenue",stroke:"#FFD700",name:"POS",strokeWidth:2})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"  "})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),d?a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(si,{data:[{name:"POS",...d.pos},{name:"E-commerce",...d.ecommerce}],children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{dataKey:"name"}),a.jsx(lr,{}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(it,{dataKey:"total",fill:"#FFD700",name:""}),a.jsx(it,{dataKey:"completed",fill:"#10B981",name:""}),a.jsx(it,{dataKey:"pending",fill:"#F59E0B",name:" "}),a.jsx(it,{dataKey:"canceled",fill:"#EF4444",name:""})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"  "})]}),a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),U.length>0?a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(fl,{children:[a.jsx(Sr,{data:U,cx:"50%",cy:"50%",labelLine:!1,label:({name:I,percent:B})=>`${I} ${(B*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:U.map((I,B)=>a.jsx(qn,{fill:_[B%_.length]},`cell-${B}`))}),a.jsx(We,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"  "})]})]}),f.length>0&&a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"  "}),a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(si,{data:f,layout:"vertical",children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{type:"number"}),a.jsx(lr,{dataKey:"productName",type:"category",width:150}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(it,{dataKey:"totalRevenue",fill:"#FFD700",name:" "}),a.jsx(it,{dataKey:"totalQuantity",fill:"#10B981",name:""})]})})]}),x.length>0&&a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:x.map(I=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:"font-bold text-gold-600",children:["#",I.rank]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:I.commercialName}),a.jsx("p",{className:"text-sm text-gray-500",children:I.commercialEmail})]})}),a.jsxs("td",{className:"py-3 px-4 font-medium text-green-600",children:[I.totalRevenue.toFixed(2)," TND"]}),a.jsx("td",{className:"py-3 px-4",children:I.totalOrders}),a.jsxs("td",{className:`py-3 px-4 font-medium ${I.profit>=0?"text-green-600":"text-red-600"}`,children:[I.profit.toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4 text-red-600",children:[I.totalExpenses.toFixed(2)," TND"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>e(`/admin/analytics/commercials/${I.commercialId}`),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:" ",children:a.jsx(sn,{size:18})})})]},I.commercialId))})]})})})]}),a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-4",children:a.jsxs("div",{className:"flex gap-2 md:gap-4 overflow-x-auto scrollbar-hide",children:[a.jsx("button",{onClick:()=>S("overview"),className:`px-3 md:px-4 py-2 text-sm md:text-base font-medium border-b-2 transition-colors whitespace-nowrap ${P==="overview"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:" "}),a.jsx("button",{onClick:()=>S("orders"),className:`px-3 md:px-4 py-2 text-sm md:text-base font-medium border-b-2 transition-colors whitespace-nowrap ${P==="orders"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:""}),a.jsx("button",{onClick:()=>S("expenses"),className:`px-3 md:px-4 py-2 text-sm md:text-base font-medium border-b-2 transition-colors whitespace-nowrap ${P==="expenses"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:""})]})}),P==="orders"&&a.jsx(hpe,{filters:t}),P==="expenses"&&a.jsx(mpe,{filters:t})]})]})]})},ta=({title:e,value:t,icon:r,color:n})=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:t})]}),a.jsx(r,{className:n,size:32})]})}),xpe=()=>{const e=Se(),[t,r]=N.useState({source:"all",dateRange:"month",startDate:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[n,s]=N.useState(null),[i,o]=N.useState(null),[l,c]=N.useState([]),[d,u]=N.useState([]),[f,h]=N.useState([]),[p,m]=N.useState(!0),[x,y]=N.useState(!0),[g,v]=N.useState("overview");N.useEffect(()=>{t.dateRange!=="custom"&&b(),w()},[t.source,t.dateRange]),N.useEffect(()=>{t.dateRange==="custom"&&w()},[t.startDate,t.endDate]);const b=()=>{const A=new Date;let C,T;switch(t.dateRange){case"today":C=new Date(A),C.setHours(0,0,0,0),T=new Date(A),T.setHours(23,59,59,999);break;case"week":C=new Date(A),C.setDate(A.getDate()-7),C.setHours(0,0,0,0),T=new Date(A),T.setHours(23,59,59,999);break;case"month":C=new Date(A),C.setMonth(A.getMonth()-1),C.setHours(0,0,0,0),T=new Date(A),T.setHours(23,59,59,999);break;default:return}r(F=>({...F,startDate:C.toISOString().split("T")[0],endDate:T.toISOString().split("T")[0]}))},w=async()=>{try{m(!0);const A={source:t.source,startDate:t.startDate,endDate:t.endDate},[C,T,F,z,M]=await Promise.all([W.get("/analytics/orders-products",{params:A}),W.get("/analytics/orders-products/comparison",{params:{startDate:t.startDate,endDate:t.endDate}}),W.get("/analytics/orders-products/products",{params:A}),W.get("/analytics/orders-products/orders-table",{params:A}),W.get("/analytics/orders-products/revenue-over-time",{params:A})]);s(C.data.data),o(T.data.data),c(F.data.data||[]),u(z.data.data||[]),h(M.data.data||[])}catch(A){console.error("Error fetching analytics:",A),E.error("    ")}finally{m(!1)}},j=(A,C)=>{r(T=>({...T,[A]:C}))},k=()=>{r({source:"all",dateRange:"month",startDate:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},P=async()=>{var A;try{E.loading("   PDF...",{id:"generate-pdf"});const C={source:t.source,startDate:t.startDate,endDate:t.endDate},T=await W.get("/analytics/orders-products/pdf",{params:C,responseType:"blob",validateStatus:V=>V<500});if((T.headers["content-type"]||"").includes("application/json")||T.status>=400)try{const V=await new Promise(_=>{const U=new FileReader;U.onloadend=()=>_(U.result),U.readAsText(T.data)}),$=JSON.parse(V);throw new Error($.message||"     PDF")}catch{throw new Error(T.statusText||"     PDF")}const z=window.URL.createObjectURL(new Blob([T.data],{type:"application/pdf"})),M=document.createElement("a");M.href=z;const L=`orders-products-analytics-${t.startDate||"all"}-${t.endDate||"all"}.pdf`;M.setAttribute("download",L),document.body.appendChild(M),M.click(),M.remove(),window.URL.revokeObjectURL(z),E.success("   PDF ",{id:"generate-pdf"})}catch(C){console.error("Error generating PDF:",C);let T="     PDF";if((A=C.response)!=null&&A.data)try{const F=await new Promise(M=>{const L=new FileReader;L.onloadend=()=>M(L.result),L.readAsText(C.response.data)});T=JSON.parse(F).message||T}catch{}else C.message&&(T=C.message);E.error(T,{id:"generate-pdf",duration:5e3})}},S={ecommerce:"E-commerce",pos:" / POS",page:" / Social / WhatsApp"},O=["#FFD700","#3B82F6","#10B981","#EF4444","#8B5CF6"];return p?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx("button",{onClick:()=>e("/admin/analytics"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex-shrink-0",title:"",children:a.jsx(Rr,{size:20,className:"md:w-6 md:h-6 rotate-180"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1",children:"      "})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[a.jsxs("button",{onClick:()=>y(!x),className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(Dc,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:x?" ":" "}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs("button",{onClick:P,className:"btn-primary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(Tn,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"  PDF"}),a.jsx("span",{className:"sm:hidden",children:"PDF"})]}),a.jsxs("button",{onClick:w,className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(fo,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:""})]})]})]}),x&&a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[a.jsx(Dc,{size:20,className:"md:w-6 md:h-6"}),""]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[a.jsx("button",{onClick:()=>j("source","all"),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t.source==="all"?"bg-gold-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:""}),a.jsx("button",{onClick:()=>j("source","ecommerce"),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t.source==="ecommerce"?"bg-gold-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"E-commerce"}),a.jsx("button",{onClick:()=>j("source","pos"),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t.source==="pos"?"bg-gold-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:" / POS"}),a.jsx("button",{onClick:()=>j("source","page"),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t.source==="page"?"bg-gold-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("select",{value:t.dateRange,onChange:A=>{j("dateRange",A.target.value),A.target.value!=="custom"&&b()},className:"input-field",children:[a.jsx("option",{value:"today",children:""}),a.jsx("option",{value:"week",children:" "}),a.jsx("option",{value:"month",children:" "}),a.jsx("option",{value:"custom",children:""})]})]})]}),t.dateRange==="custom"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"date",value:t.startDate,onChange:A=>j("startDate",A.target.value),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"date",value:t.endDate,onChange:A=>j("endDate",A.target.value),className:"input-field"})]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsxs("button",{onClick:k,className:"btn-secondary flex items-center gap-2",children:[a.jsx(fo,{size:18}),a.jsx("span",{children:"  "})]})})]}),n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 md:gap-6",children:[a.jsx(Il,{title:" ",value:n.overall.totalOrders,icon:Ot,color:"text-blue-500"}),a.jsx(Il,{title:" ",value:`${n.overall.totalRevenue.toFixed(2)} TND`,icon:ir,color:"text-gold-500"}),a.jsx(Il,{title:"",value:`${(n.overall.totalProfit||0).toFixed(2)} TND`,icon:Nr,color:"text-green-500"}),a.jsx(Il,{title:"  ",value:`${n.overall.averageOrderValue.toFixed(2)} TND`,icon:Nr,color:"text-blue-500"}),a.jsx(Il,{title:" ",value:n.overall.canceledOrders,icon:Rc,color:"text-red-500"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Object.entries(n.bySource).map(([A,C])=>a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4",children:S[A]||A}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:":"}),a.jsx("span",{className:"font-medium",children:C.totalOrders})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"font-medium text-gold-600",children:[C.totalRevenue.toFixed(2)," TND"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"font-medium text-green-600",children:[(C.totalRevenue-(C.totalCost||0)).toFixed(2)," TND"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:" :"}),a.jsxs("span",{className:"font-medium",children:[C.averageOrderValue.toFixed(2)," TND"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:" :"}),a.jsx("span",{className:"font-medium",children:C.totalItems})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:":"}),a.jsx("span",{className:"font-medium text-red-600",children:C.canceledOrders})]})]})]},A))}),f.length>0&&a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"    "}),a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(ip,{data:f,children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{dataKey:"date"}),a.jsx(lr,{}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(rn,{type:"monotone",dataKey:"ecommerce",stroke:"#FFD700",name:"E-commerce",strokeWidth:2}),a.jsx(rn,{type:"monotone",dataKey:"pos",stroke:"#3B82F6",name:" / POS",strokeWidth:2}),a.jsx(rn,{type:"monotone",dataKey:"page",stroke:"#10B981",name:"",strokeWidth:2})]})})]}),i&&a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"  "}),a.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:"E-commerce"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" / POS"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:" "}),a.jsx("td",{className:"py-3 px-4",children:i.ecommerce.totalOrders}),a.jsx("td",{className:"py-3 px-4",children:i.pos.totalOrders}),a.jsx("td",{className:"py-3 px-4",children:i.page.totalOrders})]}),a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:" "}),a.jsxs("td",{className:"py-3 px-4 text-gold-600",children:[i.ecommerce.revenue.toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4 text-gold-600",children:[i.pos.revenue.toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4 text-gold-600",children:[i.page.revenue.toFixed(2)," TND"]})]}),a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:""}),a.jsxs("td",{className:"py-3 px-4 text-green-600",children:[(i.ecommerce.profit||0).toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4 text-green-600",children:[(i.pos.profit||0).toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4 text-green-600",children:[(i.page.profit||0).toFixed(2)," TND"]})]}),a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:""}),a.jsxs("td",{className:"py-3 px-4 text-green-600",children:[(i.ecommerce.profit||0).toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4 text-green-600",children:[(i.pos.profit||0).toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4 text-green-600",children:[(i.page.profit||0).toFixed(2)," TND"]})]}),a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:" "}),a.jsxs("td",{className:"py-3 px-4",children:[i.ecommerce.avgPrice.toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4",children:[i.pos.avgPrice.toFixed(2)," TND"]}),a.jsxs("td",{className:"py-3 px-4",children:[i.page.avgPrice.toFixed(2)," TND"]})]}),a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:" "}),a.jsx("td",{className:"py-3 px-4",children:i.ecommerce.itemsSold}),a.jsx("td",{className:"py-3 px-4",children:i.pos.itemsSold}),a.jsx("td",{className:"py-3 px-4",children:i.page.itemsSold})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:" "}),a.jsx("td",{className:"py-3 px-4 text-red-600",children:i.ecommerce.cancellations}),a.jsx("td",{className:"py-3 px-4 text-red-600",children:i.pos.cancellations}),a.jsx("td",{className:"py-3 px-4 text-red-600",children:i.page.cancellations})]})]})]})})})]}),n&&a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"   "}),a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(fl,{children:[a.jsx(Sr,{data:[{name:"E-commerce",value:n.bySource.ecommerce.totalRevenue},{name:" / POS",value:n.bySource.pos.totalRevenue},{name:"",value:n.bySource.page.totalRevenue}].filter(A=>A.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:C})=>`${A} ${(C*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:[{name:"E-commerce",value:n.bySource.ecommerce.totalRevenue},{name:" / POS",value:n.bySource.pos.totalRevenue},{name:"",value:n.bySource.page.totalRevenue}].filter(A=>A.value>0).map((A,C)=>a.jsx(qn,{fill:O[C%O.length]},`cell-${C}`))}),a.jsx(We,{})]})})]}),a.jsxs("div",{className:"card p-4 md:p-6",children:[a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-4",children:a.jsxs("div",{className:"flex gap-2 md:gap-4 overflow-x-auto scrollbar-hide",children:[a.jsx("button",{onClick:()=>v("overview"),className:`px-3 md:px-4 py-2 text-sm md:text-base font-medium border-b-2 transition-colors whitespace-nowrap ${g==="overview"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:" "}),a.jsx("button",{onClick:()=>v("orders"),className:`px-3 md:px-4 py-2 text-sm md:text-base font-medium border-b-2 transition-colors whitespace-nowrap ${g==="orders"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:" "}),a.jsx("button",{onClick:()=>v("products"),className:`px-3 md:px-4 py-2 text-sm md:text-base font-medium border-b-2 transition-colors whitespace-nowrap ${g==="products"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:" "})]})}),g==="orders"&&a.jsx(ype,{orders:d,filters:t}),g==="products"&&a.jsx(vpe,{products:l})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"  "})})]})},Il=({title:e,value:t,icon:r,color:n})=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:t})]}),a.jsx(r,{className:n,size:32})]})}),ype=({orders:e,filters:t})=>{const r={ecommerce:"E-commerce",pos:" / POS",page:""},n={gros:"Prix en Gros",detail:"Prix en Dtail",page:"Prix sur Page"};return a.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"py-8 text-center text-gray-500",children:"  "})}):e.map(s=>{var i;return a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:s.orderNumber}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.source==="ecommerce"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":s.source==="pos"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:r[s.source]||s.source})}),a.jsx("td",{className:"py-3 px-4 text-sm",children:n[s.priceType]||s.priceType}),a.jsx("td",{className:"py-3 px-4 text-sm",children:(i=s.products)==null?void 0:i.map((o,l)=>a.jsxs("div",{className:"text-xs",children:[o.name," x",o.quantity]},l))}),a.jsxs("td",{className:"py-3 px-4 font-medium",children:[s.total," TND"]}),a.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(s.date).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="canceled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})}),a.jsx("td",{className:"py-3 px-4 text-sm",children:s.customer})]},s._id)})})]})})})},vpe=({products:e})=>a.jsxs("div",{className:"space-y-6",children:[e.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-900 dark:text-gray-100 mb-4",children:"  "}),a.jsx(Ut,{width:"100%",height:250,className:"md:h-[300px]",children:a.jsxs(si,{data:e.slice(0,10),layout:"vertical",children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{type:"number"}),a.jsx(lr,{dataKey:"productName",type:"category",width:150}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(it,{dataKey:"totalRevenue",fill:"#FFD700",name:" "}),a.jsx(it,{dataKey:"profit",fill:"#10B981",name:""}),a.jsx(it,{dataKey:"totalQuantity",fill:"#8B5CF6",name:""})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"py-8 text-center text-gray-500",children:"  "})}):e.map(t=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:t.productName}),a.jsx("td",{className:"py-3 px-4",children:t.totalQuantity}),a.jsxs("td",{className:"py-3 px-4 text-gold-600 font-medium",children:[t.totalRevenue.toFixed(2)," TND"]}),a.jsxs("td",{className:`py-3 px-4 font-medium ${(t.profit||0)>=0?"text-green-600":"text-red-600"}`,children:[(t.profit||0).toFixed(2)," TND"]}),a.jsx("td",{className:"py-3 px-4 text-red-600",children:t.canceledQuantity||0})]},t.productId))})]})})})]})]}),bpe=()=>{const{id:e}=On(),t=Se(),[r,n]=N.useState(null),[s,i]=N.useState(null),[o,l]=N.useState([]),[c,d]=N.useState({}),[u,f]=N.useState(!0),[h,p]=N.useState({startDate:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]});N.useEffect(()=>{e&&(m(),x())},[e,h]);const m=async()=>{try{f(!0);const w=await W.get(`/analytics/commercials/${e}`,{params:h});n(w.data.data.commercial),i(w.data.data.metrics)}catch(w){console.error("Error fetching commercial detail:",w),E.error("     ")}finally{f(!1)}},x=async()=>{try{const w=await W.get(`/analytics/commercials/${e}/expenses`,{params:h});l(w.data.data.expenses||[]),d(w.data.data.breakdown||{})}catch(w){console.error("Error fetching expenses:",w)}},y=async()=>{var w;try{E.loading("   PDF...",{id:"export-pdf"});const j=await W.get(`/analytics/commercials/${e}/export`,{params:{format:"pdf",startDate:h.startDate,endDate:h.endDate},responseType:"blob",validateStatus:C=>C<500});if((j.headers["content-type"]||"").includes("application/json")||j.status>=400)try{const C=await new Promise(F=>{const z=new FileReader;z.onloadend=()=>F(z.result),z.readAsText(j.data)}),T=JSON.parse(C);throw new Error(T.message||"     PDF")}catch{throw new Error(j.statusText||"     PDF")}const P=window.URL.createObjectURL(new Blob([j.data],{type:"application/pdf"})),S=document.createElement("a");S.href=P;const A=`analytics-${((r==null?void 0:r.name)||"commercial").replace(/[^a-zA-Z0-9]/g,"_")}-${h.startDate}_${h.endDate}.pdf`;S.setAttribute("download",A),document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(P),E.success("   PDF ",{id:"export-pdf"})}catch(j){console.error("Error exporting PDF:",j);let k="     PDF";if((w=j.response)!=null&&w.data)try{const P=await new Promise(O=>{const A=new FileReader;A.onloadend=()=>O(A.result),A.readAsText(j.response.data)});k=JSON.parse(P).message||k}catch{}else j.message&&(k=j.message);E.error(k,{id:"export-pdf",duration:5e3})}},g={fuel:"",toll:"  ",transport:"",other:""},v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"],b=Object.entries(c).map(([w,j])=>({name:g[w]||w,value:j||0}));return u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):!r||!s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"   "})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>t("/admin/analytics/commercials"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"",children:a.jsx(Rr,{size:24,className:"rotate-180"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:r.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:r.email})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:" "}),a.jsx("input",{type:"date",value:h.startDate,onChange:w=>p({...h,startDate:w.target.value}),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:" "}),a.jsx("input",{type:"date",value:h.endDate,onChange:w=>p({...h,endDate:w.target.value}),className:"input-field"})]}),a.jsxs("button",{onClick:y,className:"btn-secondary flex items-center gap-2",disabled:u,children:[a.jsx(Tn,{size:20}),a.jsx("span",{children:" PDF"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:[(s.totalRevenue||0).toFixed(2)," TND"]})]}),a.jsx(ir,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:[((s.totalRevenue||0)-(s.totalExpenses||0)).toFixed(2)," TND"]})]}),a.jsx(ir,{className:"text-green-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:s.totalOrders||0})]}),a.jsx(Ht,{className:"text-blue-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:[(s.totalExpenses||0).toFixed(2)," TND"]})]}),a.jsx(wr,{className:"text-red-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:`text-2xl font-bold mt-2 ${(s.profit||0)>=0?"text-green-600":"text-red-600"}`,children:[(s.profit||0).toFixed(2)," TND"]})]}),a.jsx(Nr,{className:(s.profit||0)>=0?"text-green-500":"text-red-500",size:32})]})})]}),b.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"   "}),a.jsx(Ut,{width:"100%",height:300,children:a.jsxs(fl,{children:[a.jsx(Sr,{data:b,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:b.map((w,j)=>a.jsx(qn,{fill:v[j%v.length]},`cell-${j}`))}),a.jsx(We,{}),a.jsx(It,{})]})})]})}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:""}),o.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(wr,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"  "})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:o.map(w=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(w.date).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"py-3 px-4",children:w.subcategory?g[w.subcategory]||w.subcategory:"-"}),a.jsx("td",{className:"py-3 px-4",children:w.label||"-"}),a.jsxs("td",{className:"py-3 px-4 font-medium",children:[w.amount," TND"]})]},w._id))})]})})]})]})},jpe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState({resourceType:"",action:"",startDate:"",endDate:""});N.useEffect(()=>{o()},[s]);const o=async()=>{try{n(!0);const d={};s.resourceType&&(d.resourceType=s.resourceType),s.action&&(d.action=s.action),s.startDate&&(d.startDate=s.startDate),s.endDate&&(d.endDate=s.endDate);const u=await W.get("/audit-logs",{params:d});t(u.data.data||[])}catch{}finally{n(!1)}},l=async()=>{var f,h;const d=s.resourceType||s.action||s.startDate||s.endDate,u=d?"               .":"            .";if(window.confirm(u))try{n(!0);const p={};d?(s.resourceType&&(p.resourceType=s.resourceType),s.action&&(p.action=s.action),s.startDate&&(p.startDate=s.startDate),s.endDate&&(p.endDate=s.endDate)):p.deleteAll="true";const m=await W.delete("/audit-logs",{params:p});E.success(m.data.message||"   "),o()}catch(p){E.error(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.message)||"    ")}finally{n(!1)}},c={create:"",update:"",delete:"",status_change:" ",price_change:" ",stock_change:" "};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"    "})]}),a.jsxs("button",{onClick:l,className:"btn-danger flex items-center gap-2",disabled:r,children:[a.jsx(jr,{size:18}),a.jsx("span",{children:"  "})]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("select",{value:s.resourceType,onChange:d=>i({...s,resourceType:d.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"user",children:""}),a.jsx("option",{value:"product",children:""}),a.jsx("option",{value:"order",children:""}),a.jsx("option",{value:"invoice",children:""})]}),a.jsxs("select",{value:s.action,onChange:d=>i({...s,action:d.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"create",children:""}),a.jsx("option",{value:"update",children:""}),a.jsx("option",{value:"delete",children:""})]}),a.jsx("input",{type:"date",value:s.startDate,onChange:d=>i({...s,startDate:d.target.value}),className:"input-field"}),a.jsx("input",{type:"date",value:s.endDate,onChange:d=>i({...s,endDate:d.target.value}),className:"input-field"})]})}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:e.map(d=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(d.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}),a.jsx("td",{className:"py-3 px-4 text-sm",children:d.userEmail}),a.jsx("td",{className:"py-3 px-4 text-sm",children:d.resourceType}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 bg-gold-100 text-gold-800 rounded-full text-xs",children:c[d.action]||d.action})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:Object.keys(d.changes||{}).length>0?`${Object.keys(d.changes).length} `:"-"})]},d._id))})]})})})]})},wpe=e=>{switch(e){case"admin":return"/admin/dashboard";case"commercial":return"/commercial";case"cashier":case"store_cashier":case"saler":return"/pos";default:return"/pos"}},D$=()=>{var Lj,Fj,Bj,zj,Uj,Vj,Wj,Hj,qj,Kj,Gj;const{user:e,loading:t}=cn(),{isDark:r}=Go(),n=Se(),[s]=em();N.useEffect(()=>{if(!t){const D=localStorage.getItem("token");if(!D&&!e){n("/login",{replace:!0});return}if(e)["cashier","store_cashier","saler","admin","commercial"].includes(e.role)||(e.role==="commercial"?n("/commercial",{replace:!0}):e.role==="client"||e.role==="user"?n("/shop",{replace:!0}):n("/login",{replace:!0}));else if(D)return}},[e,t,n]),N.useEffect(()=>{window.location.pathname!=="/pos"&&window.history.pushState(null,"","/pos");const D=X=>{window.location.pathname.startsWith("/pos")||(window.history.pushState(null,"","/pos"),n("/pos",{replace:!0}))};return window.addEventListener("popstate",D),()=>{window.removeEventListener("popstate",D)}},[n]);const[i,o]=N.useState({regularProducts:[],specialProducts:[],categories:[]}),[l,c]=N.useState([]),[d,u]=N.useState(""),[f,h]=N.useState("all"),[p,m]=N.useState("regular"),[x,y]=N.useState(0),[g,v]=N.useState(""),[b,w]=N.useState(0),[j,k]=N.useState(!1),[P,S]=N.useState(!0),[O,A]=N.useState("retail"),C=(e==null?void 0:e.role)==="commercial",T=(e==null?void 0:e.role)==="admin",F=C||T,[z,M]=N.useState([]),[L,V]=N.useState(null),[$,_]=N.useState(!1),[U,I]=N.useState(!1),[B,q]=N.useState(null),[Y,re]=N.useState(1),[J,ve]=N.useState(null),[Pe,te]=N.useState(null),[se,ye]=N.useState(null),[K,Re]=N.useState(null),[ne,Be]=N.useState(null),[ge,Oe]=N.useState(1),[En,fn]=N.useState(!1),[nt,Br]=N.useState(null),[Zn,mi]=N.useState(!1),[zr,hl]=N.useState(null),[ml,op]=N.useState("");N.useEffect(()=>{_j(),R$(),F&&I$()},[F]),N.useEffect(()=>{if(F){const D=s.get("clientId");if(D&&z.length>0&&!L){const X=z.find(ae=>ae._id===D);X&&V(X)}}},[F,z,s,L]);const I$=async()=>{try{_(!0);const D=T?"/crm/clients":"/commercial/clients",X=T?{limit:1e3}:{},ae=await W.get(D,{params:X});ae.data.success&&M(ae.data.data||[])}catch(D){console.error("Error fetching clients:",D),E.error("    ")}finally{_(!1)}},Cj=N.useMemo(()=>{if(!ml)return z;const D=ml.toLowerCase();return z.filter(X=>{var ae,ce,he,Te;return((ae=X.name)==null?void 0:ae.toLowerCase().includes(D))||((ce=X.email)==null?void 0:ce.toLowerCase().includes(D))||((he=X.phone)==null?void 0:he.includes(D))||((Te=X.companyName)==null?void 0:Te.toLowerCase().includes(D))})},[z,ml]),_j=async()=>{try{S(!0);const D=(e==null?void 0:e.role)==="commercial"?"/commercial/products":"/pos/products",X=await W.get(D);o(X.data.data||{regularProducts:[],specialProducts:[],categories:[]})}catch(D){E.error("    "),console.error(D)}finally{S(!1)}},R$=async()=>{var D;try{const X=await W.get("/settings");(D=X.data.data)!=null&&D.vat&&w(X.data.data.vat)}catch{}},Ej=N.useMemo(()=>{let D=i.regularProducts||[];return f!=="all"&&(D=D.filter(X=>{var ae;return((ae=X.category)==null?void 0:ae._id)===f})),d&&(D=D.filter(X=>X.name.toLowerCase().includes(d.toLowerCase()))),D},[i.regularProducts,f,d]),$j=N.useMemo(()=>{let D=i.specialProducts||[];return d&&(D=D.filter(X=>X.name.toLowerCase().includes(d.toLowerCase()))),D},[i.specialProducts,d]),lp=(D,X=null,ae=null)=>{var Ta,pl;if(!D.stock||D.stock<=0){E.error("    ");return}const ce=D.variants&&Array.isArray(D.variants)&&D.variants.length>0;if(ce&&X===null&&ae===null){Re(D),Be(null),Oe(1);return}if(!ce&&ae===null){Br(D),fn(!0),Oe(1);return}const he=ae!==null?ae:1,Te=(X==null?void 0:X.additionalPrice)||0,Je=(O==="wholesale"&&D.wholesalePrice>0?D.wholesalePrice:D.price)+Te;X!=null&&X.value;const Lt=(at,$n)=>!at&&!$n?!0:!at||!$n?!1:at.value===$n.value||at.name===$n.name&&at.value===$n.value,$e=l.find(at=>at.productId!==D._id||at.productType!=="regular"?!1:Lt(at.variant,X)),pt=X&&X.stock!==void 0?X.stock:D.stock;if(($e?$e.quantity+he:he)>pt){if(pt===0){E.error("    ");return}const at=pt-($e?$e.quantity:0);if(at<=0){E.error("         ");return}E.warning(`  : ${pt}.     ${at}`);const $n=at;c($e?l.map(Ca=>Ca.productId===D._id&&Ca.productType==="regular"&&Lt(Ca.variant,X)?{...Ca,quantity:pt}:Ca):[...l,{productId:D._id,productType:"regular",productName:D.name,price:Je,quantity:$n,image:(X==null?void 0:X.image)||((Ta=D.images)==null?void 0:Ta[0])||"",stock:pt,variant:X?{name:X.name,value:X.value,image:X.image,stock:X.stock}:void 0}]),Re(null),Be(null),Oe(1);return}c($e?l.map(at=>at.productId===D._id&&at.productType==="regular"&&Lt(at.variant,X)?{...at,quantity:at.quantity+he}:at):[...l,{productId:D._id,productType:"regular",productName:D.name,price:Je,quantity:he,image:(X==null?void 0:X.image)||((pl=D.images)==null?void 0:pl[0])||"",stock:pt,variant:X?{name:X.name,value:X.value,image:X.image,stock:X.stock}:void 0}]),E.success(`  ${he} ${he>1?"":""}  `),Re(null),Be(null),Oe(1)},L$=()=>{if(!nt){E.error("    ");return}if(!ge||ge<1){E.error("   ");return}const D=nt,X=ge;fn(!1),Br(null),Oe(1),lp(D,null,X)},Dj=(D,X)=>{if(!D||D.length===0)return[];const ae=new Map;return D.forEach(ce=>{var Te,Ke;const he=X==="A"?(Te=ce.optionA)==null?void 0:Te.variant:(Ke=ce.optionB)==null?void 0:Ke.variant;he&&he.value&&ae.set(he.value,he)}),Array.from(ae.values())},F$=D=>{q(D),re(1),ve(null),te(null),ye(null),Oe(1)},B$=D=>{ve(D),re(2)},z$=D=>{te(D);let X=null;B!=null&&B.combinations&&J&&(X=B.combinations.find(ae=>{var Te,Ke,Je,Lt,$e,pt,pi,Ta,pl,at,$n,Ca;let ce=!1;(Ke=(Te=ae.optionA)==null?void 0:Te.variant)!=null&&Ke.value&&(J!=null&&J.value)?ce=ae.optionA.variant.value===J.value:(Je=ae.optionA)!=null&&Je.value&&(J!=null&&J.value)?ce=ae.optionA.value===J.value:($e=(Lt=ae.optionA)==null?void 0:Lt.variant)!=null&&$e.name&&(J!=null&&J.name)?ce=ae.optionA.variant.name===J.name:(pt=ae.optionA)!=null&&pt.name&&(J!=null&&J.name)&&(ce=ae.optionA.name===J.name);let he=!1;return(Ta=(pi=ae.optionB)==null?void 0:pi.variant)!=null&&Ta.value&&(D!=null&&D.value)?he=ae.optionB.variant.value===D.value:(pl=ae.optionB)!=null&&pl.value&&(D!=null&&D.value)?he=ae.optionB.value===D.value:($n=(at=ae.optionB)==null?void 0:at.variant)!=null&&$n.name&&(D!=null&&D.name)?he=ae.optionB.variant.name===D.name:(Ca=ae.optionB)!=null&&Ca.name&&(D!=null&&D.name)&&(he=ae.optionB.name===D.name),ce&&he}),X||(X=B.combinations.find(ae=>{var Te,Ke,Je,Lt,$e,pt;const ce=((Ke=(Te=ae.optionA)==null?void 0:Te.variant)==null?void 0:Ke.name)||((Je=ae.optionA)==null?void 0:Je.name)||"",he=(($e=(Lt=ae.optionB)==null?void 0:Lt.variant)==null?void 0:$e.name)||((pt=ae.optionB)==null?void 0:pt.name)||"";return ce===(J==null?void 0:J.name)&&he===(D==null?void 0:D.name)})),!X&&B.combinations.length>0&&(X=B.combinations[0])),X?(ye(X),re(3)):(E.error("     .    ."),console.error("Combination not found:",{selectedOptionA:J,selectedOptionB:D,combinations:B==null?void 0:B.combinations}))},U$=(D=1)=>{var ce,he,Te,Ke,Je,Lt,$e;if(!se||!B){E.error("   ");return}const X=B.finalPrice+(se.additionalPrice||0),ae=`${((he=(ce=se.optionA)==null?void 0:ce.variant)==null?void 0:he.name)||(J==null?void 0:J.name)||""} + ${((Ke=(Te=se.optionB)==null?void 0:Te.variant)==null?void 0:Ke.name)||(Pe==null?void 0:Pe.name)||""}`;c([...l,{productId:B._id,productType:"special",productName:B.name,price:X,quantity:D,image:se.finalImage||((Lt=(Je=B.baseProductA)==null?void 0:Je.images)==null?void 0:Lt[0])||"",combinationId:(($e=se._id)==null?void 0:$e.toString())||se._id,variantA:se.optionA||{variant:J},variantB:se.optionB||{variant:Pe},combinationTitle:ae}]),E.success(`  ${D} ${D>1?"":""}  `),q(null),re(1),ve(null),te(null),ye(null),Oe(1),m("regular")},Mj=(D,X)=>{var Te;const ae=l[D],ce=ae.quantity+X;if(ce<=0){Ij(D);return}const he=((Te=ae.variant)==null?void 0:Te.stock)!==void 0?ae.variant.stock:ae.stock;if(ae.productType==="regular"&&he&&ce>he){E.error(`   : ${he}`),c(l.map((Ke,Je)=>Je===D?{...Ke,quantity:he}:Ke));return}c(l.map((Ke,Je)=>Je===D?{...Ke,quantity:ce}:Ke))},Ij=D=>{c(l.filter((X,ae)=>ae!==D))},V$=()=>{l.length!==0&&window.confirm("     ")&&(c([]),y(0),v(""))},Vd=N.useMemo(()=>{const D=l.reduce((ce,he)=>ce+he.price*he.quantity,0),X=x||0,ae=D-X;return{subtotal:D,discount:X,vat:0,total:ae}},[l,x]),W$=async()=>{var D,X,ae;if(l.length===0){E.error(" ");return}for(const ce of l)if(ce.productType==="regular"){const he=((D=ce.variant)==null?void 0:D.stock)!==void 0?ce.variant.stock:ce.stock;if(he===void 0||he<=0){E.error(` "${ce.productName}"    `);return}if(ce.quantity>he){E.error(`   "${ce.productName}"    (${he})`),c(l.map(Te=>Te.productId===ce.productId&&Te.productType===ce.productType?{...Te,quantity:he}:Te));return}}if(C&&!L){E.error("     "),I(!0);return}try{k(!0);const ce=(C||T)&&L,he=ce?"/commercial/orders":"/pos/order",Te=l.map($e=>{const pt={productId:$e.productId,productType:$e.productType||"regular",quantity:$e.quantity,unitPrice:$e.price,discount:0};return $e.variant&&$e.productType==="regular"&&(pt.variant=$e.variant),$e.combinationId&&$e.productType==="special"&&(pt.combinationId=$e.combinationId),pt}),Ke=ce?{clientId:L._id,items:Te,discount:x,notes:g,paymentMethod:T&&L?"credit":"cash",status:"pending"}:{items:Te,discount:x,vat:0,total:Vd.total,notes:g,paymentMethod:"cash"},Je=await W.post(he,Ke),Lt=ce?{order:Je.data.data}:Je.data.data;hl(Lt),mi(!0),c([]),y(0),v(""),u(""),F&&V(null),_j(),E.success("   !")}catch(ce){const he=((ae=(X=ce.response)==null?void 0:X.data)==null?void 0:ae.message)||"    ";E.error(he),console.error(ce)}finally{k(!1)}},H$=async()=>{var D;if((D=zr==null?void 0:zr.order)!=null&&D._id)try{const X=await W.post(`/pos/invoice/${zr.order._id}`);E.success("   ")}catch{E.error("    ")}},[cp,Rj]=N.useState(!1);return a.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-gray-900 text-gray-900 dark:text-white overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-3 md:px-6 py-2 md:py-4 flex items-center justify-between flex-shrink-0",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-lg md:text-2xl font-bold text-gray-900 dark:text-white truncate",children:"  (POS)"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-xs md:text-sm mt-1 truncate",children:[(e==null?void 0:e.name)||"Caissier","  ",new Date().toLocaleDateString("ar-TN")]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>Rj(!cp),className:"md:hidden relative px-3 py-2 bg-gold-600 hover:bg-gold-700 rounded-lg transition-colors flex items-center gap-2 text-white",children:[a.jsx(Ot,{size:18}),l.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:l.length})]}),a.jsxs("button",{onClick:()=>{const D=wpe(e==null?void 0:e.role);D&&D!==window.location.pathname&&n(D,{replace:!0})},className:"px-3 md:px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg transition-colors flex items-center gap-2 text-gray-900 dark:text-white",children:[a.jsx(xb,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden md:inline",children:""})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[a.jsxs("div",{className:`${cp?"hidden":"flex"} md:flex w-full md:w-2/3 flex-col border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900`,children:[a.jsxs("div",{className:"p-2 md:p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 space-y-2 md:space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-2 md:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:18}),a.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:D=>u(D.target.value),className:"w-full pr-8 md:pr-10 pl-3 md:pl-4 py-2 md:py-3 text-sm md:text-base bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),p==="regular"&&a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[a.jsx("button",{onClick:()=>h("all"),className:`px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg whitespace-nowrap transition-colors flex-shrink-0 ${f==="all"?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:""}),i.categories.map(D=>a.jsx("button",{onClick:()=>h(D._id),className:`px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg whitespace-nowrap transition-colors flex-shrink-0 ${f===D._id?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:D.name},D._id))]}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-xs md:text-sm whitespace-nowrap",children:" :"}),a.jsxs("div",{className:"flex gap-1 md:gap-2 bg-gray-200 dark:bg-gray-700 rounded-lg p-0.5 md:p-1 flex-1",children:[a.jsxs("button",{onClick:()=>A("retail"),className:`flex-1 px-2 md:px-4 py-1.5 md:py-2 rounded-md text-xs md:text-sm font-medium transition-colors ${O==="retail"?"bg-gold-600 text-white":"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs("button",{onClick:()=>A("wholesale"),className:`flex-1 px-2 md:px-4 py-1.5 md:py-2 rounded-md text-xs md:text-sm font-medium transition-colors ${O==="wholesale"?"bg-gold-600 text-white":"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]})]})]}),a.jsxs("div",{className:"flex gap-1 md:gap-2",children:[a.jsxs("button",{onClick:()=>{m("regular"),q(null),re(1)},className:`flex-1 py-1.5 md:py-2 px-2 md:px-4 rounded-lg text-xs md:text-sm font-medium transition-colors ${p==="regular"?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[a.jsx(Ht,{size:16,className:"inline ml-1 md:ml-2"}),a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs("button",{onClick:()=>m("special"),className:`flex-1 py-1.5 md:py-2 px-2 md:px-4 rounded-lg text-xs md:text-sm font-medium transition-colors ${p==="special"?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[a.jsx(Qs,{size:16,className:"inline ml-1 md:ml-2"}),a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 md:p-4",children:P?a.jsx("div",{className:"text-center py-12 text-gray-600 dark:text-gray-400 text-sm md:text-base",children:" ..."}):p==="regular"?a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-4",children:[Ej.map(D=>{var X;return a.jsxs("div",{onClick:()=>{if(D.stock<=0){E.error("    ");return}lp(D)},className:`bg-white dark:bg-gray-800 rounded-lg p-2 md:p-4 transition-colors border ${D.stock<=0?"opacity-50 cursor-not-allowed border-red-300 dark:border-red-700":"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 border-gray-200 dark:border-gray-700 hover:border-gold-600"}`,children:[((X=D.images)==null?void 0:X[0])&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:ue(D.images[0]),alt:D.name,className:`w-full h-24 md:h-40 object-cover rounded-lg mb-2 md:mb-3 ${D.stock<=0?"grayscale":""}`}),D.stock<=0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-lg",children:a.jsx("span",{className:"text-white font-bold text-lg",children:""})})]}),a.jsx("h3",{className:`font-medium text-xs md:text-base mb-1 md:mb-2 line-clamp-2 ${D.stock<=0?"text-gray-400 dark:text-gray-500 line-through":"text-gray-900 dark:text-white"}`,children:D.name}),a.jsxs("p",{className:"text-gold-500 font-bold text-sm md:text-base",children:[O==="wholesale"&&D.wholesalePrice>0?D.wholesalePrice:D.price," TND",O==="wholesale"&&D.wholesalePrice>0&&a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 block mt-0.5 md:mt-1",children:"()"}),O==="wholesale"&&(!D.wholesalePrice||D.wholesalePrice===0)&&a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 block mt-0.5 md:mt-1",children:"(   )"})]}),a.jsxs("p",{className:`text-xs md:text-sm mt-1 md:mt-2 ${D.stock<=0?"text-red-600 dark:text-red-400 font-semibold":D.stock<=10?"text-yellow-600 dark:text-yellow-400 font-semibold":"text-gray-600 dark:text-gray-400"}`,children:[": ",D.stock||0,D.stock<=0&&" ()",D.stock>0&&D.stock<=10&&" ()"]})]},D._id)}),Ej.length===0&&a.jsx("div",{className:"col-span-2 sm:col-span-3 text-center py-12 text-gray-600 dark:text-gray-400 text-sm md:text-base",children:"  "})]}):a.jsx("div",{children:B?a.jsxs("div",{className:"max-w-4xl mx-auto",children:[Y===1&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 md:p-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 md:mb-4",children:B.name}),a.jsx("p",{className:"text-gray-400 text-sm md:text-base mb-4 md:mb-6",children:"  "}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:(()=>{const D=Dj(B.combinations,"A");return D.length>0?D.map((X,ae)=>a.jsxs("div",{onClick:()=>B$(X),className:"bg-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-600 transition-colors border border-gray-600 hover:border-gold-600",children:[X.image&&a.jsx("img",{src:ue(X.image),alt:X.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),a.jsx("p",{className:"text-white font-medium text-xs md:text-sm",children:X.name||X.value})]},ae)):a.jsx("div",{className:"col-span-full text-center text-gray-400 py-4",children:"   "})})()})]}),Y===2&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 md:p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[a.jsx($f,{className:"text-gold-500",size:18}),a.jsxs("span",{className:"text-gold-500 text-sm md:text-base",children:[" : ",J==null?void 0:J.name]})]}),a.jsx("p",{className:"text-gray-400 text-sm md:text-base mb-4 md:mb-6",children:"  "}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:(()=>{const D=Dj(B.combinations,"B"),X=J?D.filter(ae=>{var ce;return(ce=B.combinations)==null?void 0:ce.some(he=>{var Je,Lt,$e,pt,pi,Ta;const Te=((Lt=(Je=he.optionA)==null?void 0:Je.variant)==null?void 0:Lt.value)||(($e=he.optionA)==null?void 0:$e.value),Ke=((pi=(pt=he.optionB)==null?void 0:pt.variant)==null?void 0:pi.value)||((Ta=he.optionB)==null?void 0:Ta.value);return Te===(J.value||J)&&Ke===ae.value})}):D;return X.length>0?X.map((ae,ce)=>a.jsxs("div",{onClick:()=>z$(ae),className:"bg-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-600 transition-colors border border-gray-600 hover:border-gold-600",children:[ae.image&&a.jsx("img",{src:ue(ae.image),alt:ae.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),a.jsx("p",{className:"text-white font-medium text-xs md:text-sm",children:ae.name||ae.value})]},ce)):a.jsx("div",{className:"col-span-full text-center text-gray-400 py-4",children:"   "})})()})]}),Y===3&&a.jsx("div",{className:"bg-gray-800 rounded-lg p-3 md:p-6",children:se?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg md:text-xl font-bold",children:" "}),a.jsxs("p",{className:"text-gray-400 text-sm md:text-base truncate",children:[((Fj=(Lj=se.optionA)==null?void 0:Lj.variant)==null?void 0:Fj.name)||(J==null?void 0:J.name)||((Bj=se.optionA)==null?void 0:Bj.name)||" "," +"," ",((Uj=(zj=se.optionB)==null?void 0:zj.variant)==null?void 0:Uj.name)||(Pe==null?void 0:Pe.name)||((Vj=se.optionB)==null?void 0:Vj.name)||" "]})]}),a.jsx("button",{onClick:()=>{q(null),re(1),ve(null),te(null),ye(null)},className:"px-3 md:px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg flex-shrink-0",children:a.jsx(bt,{size:18,className:"md:w-5 md:h-5"})})]}),se.finalImage&&a.jsx("div",{className:"w-full h-48 md:h-64 bg-gray-700 rounded-lg mb-3 md:mb-4 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:ue(se.finalImage),alt:"Combination",className:"max-w-full max-h-full object-contain rounded-lg"})}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 mb-3 md:mb-4",children:[a.jsx("label",{className:"block text-xs md:text-sm font-semibold text-white mb-2 md:mb-3",children:":"}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx("button",{onClick:()=>Oe(Math.max(1,ge-1)),className:"w-9 h-9 md:w-10 md:h-10 bg-gray-600 hover:bg-gray-500 rounded-lg flex items-center justify-center text-white font-bold",children:a.jsx(Li,{size:18,className:"md:w-5 md:h-5"})}),a.jsx("input",{type:"number",min:"1",max:"999",value:ge,onChange:D=>{const X=parseInt(D.target.value)||1;Oe(Math.max(1,Math.min(X,999)))},className:"w-16 md:w-20 text-center bg-gray-600 text-white rounded-lg py-2 px-2 md:px-3 font-bold text-base md:text-lg focus:outline-none focus:ring-2 focus:ring-gold-500"}),a.jsx("button",{onClick:()=>Oe(Math.min(999,ge+1)),className:"w-9 h-9 md:w-10 md:h-10 bg-gray-600 hover:bg-gray-500 rounded-lg flex items-center justify-center text-white font-bold",children:a.jsx(vt,{size:18,className:"md:w-5 md:h-5"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 md:gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"  "}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gold-500",children:[B.finalPrice+(se.additionalPrice||0)," ","TND"]}),ge>1&&a.jsxs("p",{className:"text-xs md:text-sm text-gray-400 mt-1",children:[" (",ge," ",(ge>1,""),"): "," ",a.jsxs("span",{className:"text-gold-500 font-bold",children:[(B.finalPrice+(se.additionalPrice||0))*ge," TND"]})]})]}),a.jsxs("button",{onClick:()=>U$(ge),className:"w-full sm:w-auto px-4 md:px-6 py-2 md:py-3 bg-gold-600 hover:bg-gold-700 rounded-lg font-semibold flex items-center justify-center gap-2 text-white text-sm md:text-base",children:[a.jsx(vt,{size:18,className:"md:w-5 md:h-5"})," "]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-400 mb-4",children:"   ..."}),a.jsx("button",{onClick:()=>{q(null),re(1),ve(null),te(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:""})]})})]}):a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-4",children:[$j.map(D=>{var X,ae;return a.jsxs("div",{onClick:()=>F$(D),className:"bg-white dark:bg-gray-800 rounded-lg p-2 md:p-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-700 hover:border-gold-600",children:[((ae=(X=D.baseProductA)==null?void 0:X.images)==null?void 0:ae[0])&&a.jsx("img",{src:ue(D.baseProductA.images[0]),alt:D.name,className:"w-full h-24 md:h-40 object-cover rounded-lg mb-2 md:mb-3"}),a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-xs md:text-base mb-1 md:mb-2 line-clamp-2",children:D.name}),a.jsxs("p",{className:"text-gold-500 font-bold text-sm md:text-base",children:["  ",D.finalPrice," TND"]})]},D._id)}),$j.length===0&&a.jsx("div",{className:"col-span-2 sm:col-span-3 text-center py-12 text-gray-400 text-sm md:text-base",children:"   "})]})})})]}),a.jsxs("div",{className:`${cp?"flex":"hidden"} md:flex w-full md:w-1/3 flex-col bg-gray-100 dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700`,children:[a.jsxs("div",{className:"p-3 md:p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg md:text-xl font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[a.jsx(Ot,{size:20,className:"md:w-6 md:h-6"})," (",l.length,")"]}),a.jsx("button",{onClick:()=>Rj(!1),className:"md:hidden text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:a.jsx(bt,{size:20})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 md:p-4 space-y-2 md:space-y-3",children:l.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[a.jsx(Ot,{size:40,className:"md:w-12 md:h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm md:text-base",children:" "})]}):l.map((D,X)=>{var ae,ce,he,Te,Ke,Je;return a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-2 md:p-3 flex gap-2 md:gap-3 border border-gray-200 dark:border-gray-600",children:[D.image&&a.jsx("img",{src:ue(D.image),alt:D.productName,className:"w-16 h-16 md:w-20 md:h-20 object-cover rounded-lg flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm md:text-base text-gray-900 dark:text-white truncate",children:D.productName}),D.variant&&a.jsxs("p",{className:"text-xs text-[#fda63a] dark:text-gold-400 font-medium truncate",children:[": ",D.variant.name||D.variant.value]}),D.combinationTitle&&a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:D.combinationTitle}),a.jsxs("p",{className:"text-gold-600 dark:text-gold-500 font-bold text-sm md:text-base",children:[D.price," TND"]}),D.productType==="regular"&&(((ae=D.variant)==null?void 0:ae.stock)!==void 0||D.stock!==void 0)&&a.jsxs("p",{className:`text-xs font-semibold ${(((ce=D.variant)==null?void 0:ce.stock)!==void 0?D.variant.stock:D.stock||0)<=10?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"}`,children:[": ",((he=D.variant)==null?void 0:he.stock)!==void 0?D.variant.stock:D.stock||0,(((Te=D.variant)==null?void 0:Te.stock)!==void 0?D.variant.stock:D.stock||0)<=10&&" ()"]}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:[a.jsx("button",{onClick:()=>Mj(X,-1),className:"w-7 h-7 md:w-8 md:h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded text-gray-900 dark:text-white",children:a.jsx(Li,{size:14,className:"md:w-4 md:h-4"})}),a.jsx("span",{className:"w-6 md:w-8 text-center text-sm md:text-base font-medium text-gray-900 dark:text-white",children:D.quantity}),a.jsx("button",{onClick:()=>Mj(X,1),disabled:D.productType==="regular"&&(((Ke=D.variant)==null?void 0:Ke.stock)!==void 0||D.stock!==void 0)&&D.quantity>=(((Je=D.variant)==null?void 0:Je.stock)!==void 0?D.variant.stock:D.stock||0),className:"w-7 h-7 md:w-8 md:h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(vt,{size:14,className:"md:w-4 md:h-4"})}),a.jsx("button",{onClick:()=>Ij(X),className:"ml-auto p-1 text-[#fda63a] dark:text-gold-400 hover:text-[#e8952d] dark:hover:text-gold-300",children:a.jsx(jr,{size:14,className:"md:w-4 md:h-4"})})]})]})]},X)})}),l.length>0&&a.jsxs("div",{className:"p-3 md:p-4 border-t border-gray-200 dark:border-gray-700 space-y-3 md:space-y-4 bg-white dark:bg-gray-900 flex-shrink-0",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm md:text-base text-gray-600 dark:text-gray-400",children:[a.jsx("span",{children:" :"}),a.jsxs("span",{children:[Vd.subtotal.toFixed(2)," TND"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400",children:":"}),a.jsx("input",{type:"number",value:x,onChange:D=>y(Math.max(0,parseFloat(D.target.value)||0)),className:"w-20 md:w-24 px-2 py-1 text-sm md:text-base bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-right text-gray-900 dark:text-white",min:"0",step:"0.01"})]}),a.jsxs("div",{className:"flex justify-between text-lg md:text-xl font-bold text-gold-600 dark:text-gold-500 pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("span",{children:":"}),a.jsxs("span",{children:[Vd.total.toFixed(2)," TND"]})]})]}),F&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:":"}),L?a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:L.name}),L.phone&&a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:L.phone})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{V(null),op("")},className:"px-3 py-1 text-sm bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 rounded text-red-700 dark:text-red-400",children:""}),a.jsx("button",{onClick:()=>I(!0),className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded text-gray-900 dark:text-white",children:""})]})]}):a.jsxs("button",{onClick:()=>I(!0),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-gold-500 rounded-lg text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors flex items-center justify-center gap-2",children:[a.jsx(sn,{size:20})," "]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:":"}),a.jsx("textarea",{value:g,onChange:D=>v(D.target.value),className:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500",rows:"2",placeholder:" ..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:V$,className:"flex-1 px-3 md:px-4 py-2 md:py-3 text-sm md:text-base bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg font-semibold transition-colors text-gray-900 dark:text-white",children:" "}),a.jsx("button",{onClick:W$,disabled:j,className:"flex-1 px-3 md:px-4 py-2 md:py-3 text-sm md:text-base bg-gold-600 hover:bg-gold-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 text-white",children:j?" ...":a.jsxs(a.Fragment,{children:[a.jsx(Xu,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]})})]})]})]})]}),Zn&&zr&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx($f,{className:"mx-auto text-gold-600 dark:text-gold-500 mb-4",size:64}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"  !"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[" : ",((Wj=zr.order)==null?void 0:Wj.orderNumber)||zr.orderNumber||"N/A"]}),a.jsxs("p",{className:"text-2xl font-bold text-gold-600 dark:text-gold-500 mt-4",children:[(((Hj=zr.order)==null?void 0:Hj.total)||zr.total||Vd.total).toFixed(2)," TND"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:H$,className:"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg font-semibold flex items-center justify-center gap-2 text-gray-900 dark:text-white",children:[a.jsx(RF,{size:20}),""]}),a.jsx("button",{onClick:()=>{mi(!1),hl(null)},className:"flex-1 px-4 py-3 bg-gold-600 hover:bg-gold-700 rounded-lg font-semibold text-white",children:""})]})]})}),K&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:K.name}),a.jsx("button",{onClick:()=>{Re(null),Be(null)},className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:a.jsx(bt,{size:24})})]}),a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsx("div",{className:"w-full h-48 md:h-72 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex items-center justify-center",children:ne!=null&&ne.image||(qj=K.images)!=null&&qj[0]?a.jsx("img",{src:ue((ne==null?void 0:ne.image)||K.images[0]),alt:K.name,className:"max-w-full max-h-full object-contain"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600 dark:text-gray-400",children:"  "})}),K.variants&&K.variants.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-900 dark:text-white mb-2 md:mb-3",children:" :"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 md:gap-3",children:K.variants.map((D,X)=>{const ae=D.stock!==void 0?D.stock:K.stock||0,ce=ae<=0;return a.jsxs("button",{onClick:()=>{if(ce){E.error("     ");return}Be(D)},disabled:ce,className:`p-3 rounded-lg border-2 transition-all relative ${ce?"opacity-50 cursor-not-allowed border-red-300 dark:border-red-700":(ne==null?void 0:ne.value)===D.value?"border-gold-600 dark:border-gold-500 bg-gold-50 dark:bg-gold-900/20":"border-gray-300 dark:border-gray-600 hover:border-gold-600 dark:hover:border-gold-500"}`,children:[D.image?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:ue(D.image),alt:D.name||D.value,className:`w-full h-20 object-contain rounded mb-2 ${ce?"grayscale":""}`}),ce&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})})]}):a.jsx("div",{className:`w-full h-20 rounded mb-2 flex items-center justify-center text-xs ${ce?"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:ce?"":D.name||D.value}),a.jsx("div",{className:`text-sm font-medium text-center ${ce?"text-gray-400 dark:text-gray-500 line-through":"text-gray-900 dark:text-white"}`,children:D.name||D.value}),D.additionalPrice>0&&!ce&&a.jsxs("div",{className:"text-xs text-gold-600 dark:text-gold-500 text-center mt-1",children:["+",D.additionalPrice," TND"]}),ae>0&&ae<=10&&a.jsxs("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 text-center mt-1",children:[": ",ae]})]},X)})}),!ne&&a.jsx("p",{className:"text-sm text-gold-600 dark:text-gold-400 mt-2 text-center",children:"     "})]}),a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-3",children:":"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>Oe(Math.max(1,ge-1)),className:"w-10 h-10 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded-lg flex items-center justify-center text-gray-900 dark:text-white font-bold",children:a.jsx(Li,{size:20})}),a.jsx("input",{type:"number",min:"1",max:ne&&ne.stock!==void 0?ne.stock:K.stock||999,value:ge,onChange:D=>{const X=parseInt(D.target.value)||1,ae=ne&&ne.stock!==void 0?ne.stock:K.stock||999;Oe(Math.max(1,Math.min(X,ae)))},className:"w-20 text-center bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white rounded-lg py-2 px-3 font-bold text-lg focus:outline-none focus:ring-2 focus:ring-gold-500"}),a.jsx("button",{onClick:()=>{const D=ne&&ne.stock!==void 0?ne.stock:K.stock||999;Oe(Math.min(D,ge+1))},className:"w-10 h-10 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded-lg flex items-center justify-center text-gray-900 dark:text-white font-bold",children:a.jsx(vt,{size:20})}),a.jsxs("span",{className:`text-sm font-semibold ${(ne&&ne.stock!==void 0?ne.stock:K.stock||0)<=10?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"}`,children:[": ",ne&&ne.stock!==void 0?ne.stock:K.stock||0,(ne&&ne.stock!==void 0?ne.stock:K.stock||0)<=10&&" ()"]})]})]}),a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" :"}),a.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:[O==="wholesale"&&K.wholesalePrice>0?K.wholesalePrice:K.price," TND",O==="wholesale"&&K.wholesalePrice>0&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:"()"})]})]}),(ne==null?void 0:ne.additionalPrice)>0&&a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[ne.name||ne.value,":"]}),a.jsxs("span",{className:"text-gold-600 dark:text-gold-500 font-medium",children:["+",ne.additionalPrice," TND"]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-gray-300 dark:border-gray-600",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"  :"}),a.jsxs("span",{className:"text-xl font-bold text-gold-600 dark:text-gold-500",children:[(O==="wholesale"&&K.wholesalePrice>0?K.wholesalePrice:K.price)+((ne==null?void 0:ne.additionalPrice)||0)," TND"]})]}),ge>1&&a.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-gold-600 dark:border-gold-600",children:[a.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[" (",ge," ",(ge>1,""),"):"]}),a.jsxs("span",{className:"text-2xl font-bold text-gold-600 dark:text-gold-500",children:[((O==="wholesale"&&K.wholesalePrice>0?K.wholesalePrice:K.price)+((ne==null?void 0:ne.additionalPrice)||0))*ge," TND"]})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>{Re(null),Be(null),Oe(1)},className:"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg font-semibold text-gray-900 dark:text-white",children:""}),a.jsxs("button",{onClick:()=>{var X;if(!ne&&((X=K.variants)==null?void 0:X.length)>0){E.error("  ");return}const D=ne&&ne.stock!==void 0?ne.stock:K.stock||0;if(D<=0){E.error("     ");return}ge>D&&(E.warning(`  : ${D}.   ${D} `),Oe(D)),lp(K,ne,Math.min(ge,D))},disabled:((Kj=K.variants)==null?void 0:Kj.length)>0&&!ne||ne&&ne.stock!==void 0&&ne.stock<=0||K.stock<=0,className:"flex-1 px-4 py-3 bg-gold-600 hover:bg-gold-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed disabled:text-gray-500 dark:disabled:text-gray-400 rounded-lg font-semibold flex items-center justify-center gap-2 text-white",children:[a.jsx(Ot,{size:20}),"  "]})]})]})}),En&&nt&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:" "}),a.jsx("button",{onClick:()=>{fn(!1),Br(null),Oe(1)},className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:a.jsx(bt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[((Gj=nt.images)==null?void 0:Gj[0])&&a.jsx("div",{className:"w-full h-72 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex items-center justify-center",children:a.jsx("img",{src:ue(nt.images[0]),alt:nt.name,className:"max-w-full max-h-full object-contain"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:nt.name}),a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-3",children:":"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>Oe(Math.max(1,ge-1)),className:"w-12 h-12 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded-lg flex items-center justify-center text-gray-900 dark:text-white font-bold",children:a.jsx(Li,{size:24})}),a.jsx("input",{type:"number",min:"1",max:nt.stock||999,value:ge,onChange:D=>{const X=parseInt(D.target.value)||1;Oe(Math.max(1,Math.min(X,nt.stock||999)))},className:"w-24 text-center bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white rounded-lg py-3 px-4 font-bold text-xl focus:outline-none focus:ring-2 focus:ring-gold-500"}),a.jsx("button",{onClick:()=>Oe(Math.min(nt.stock||999,ge+1)),className:"w-12 h-12 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded-lg flex items-center justify-center text-gray-900 dark:text-white font-bold",children:a.jsx(vt,{size:24})}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:[": ",nt.stock||0]})]})]}),a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" :"}),a.jsxs("span",{className:"text-gray-900 dark:text-white font-medium text-lg",children:[O==="wholesale"&&nt.wholesalePrice>0?nt.wholesalePrice:nt.price," TND",O==="wholesale"&&nt.wholesalePrice>0&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:"()"})]})]}),ge>1&&a.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-gold-600 dark:border-gold-600",children:[a.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[" (",ge," ",(ge>1,""),"):"]}),a.jsxs("span",{className:"text-2xl font-bold text-gold-600 dark:text-gold-500",children:[(O==="wholesale"&&nt.wholesalePrice>0?nt.wholesalePrice:nt.price)*ge," TND"]})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>{fn(!1),Br(null),Oe(1)},className:"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg font-semibold text-gray-900 dark:text-white",children:""}),a.jsxs("button",{onClick:L$,className:"flex-1 px-4 py-3 bg-gold-600 hover:bg-gold-700 rounded-lg font-semibold flex items-center justify-center gap-2",children:[a.jsx(Ot,{size:20}),"  "]})]})]})}),F&&U&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:" "}),a.jsx("button",{onClick:()=>I(!1),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:a.jsx(bt,{size:24})})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20}),a.jsx("input",{type:"text",placeholder:"  ...",value:ml,onChange:D=>op(D.target.value),className:"w-full pr-10 pl-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:$?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gold-600 mx-auto"}),a.jsx("p",{className:"text-gray-400 mt-2",children:" ..."})]}):Cj.length>0?Cj.map(D=>a.jsxs("button",{onClick:()=>{V(D),I(!1),op("")},className:`w-full p-4 rounded-lg text-right transition-colors ${(L==null?void 0:L._id)===D._id?"bg-gold-600 hover:bg-gold-700 text-white":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx("p",{className:`font-medium ${(L==null?void 0:L._id)===D._id?"text-white":"text-gray-900 dark:text-white"}`,children:D.name}),D.phone&&a.jsx("p",{className:`text-sm mt-1 ${(L==null?void 0:L._id)===D._id?"text-gray-100":"text-gray-600 dark:text-gray-300"}`,children:D.phone}),D.email&&a.jsx("p",{className:`text-xs mt-1 ${(L==null?void 0:L._id)===D._id?"text-gray-200":"text-gray-500 dark:text-gray-400"}`,children:D.email})]},D._id)):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:ml?"   ":"  "})})})]})})]})},M$=()=>{const{user:e,loading:t}=cn(),r=Se(),[n,s]=N.useState({todaySales:0,todayRevenue:0,activeOrders:0}),[i,o]=N.useState(!1),[l,c]=N.useState(!0);N.useEffect(()=>{if(!t){const u=localStorage.getItem("token");if(!u&&!e){r("/login",{replace:!0});return}if(e)["cashier","store_cashier","saler","admin"].includes(e.role)||(e.role==="client"||e.role==="user"?r("/shop",{replace:!0}):r("/login",{replace:!0}));else if(u)return}},[e,t,r]),N.useEffect(()=>{window.location.pathname!=="/pos"&&window.history.pushState(null,"","/pos");const u=f=>{window.location.pathname.startsWith("/pos")||(window.history.pushState(null,"","/pos"),r("/pos",{replace:!0}))};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}},[r]),N.useEffect(()=>{e&&t===!1&&d()},[e,t]);const d=async()=>{try{const u=new Date().toISOString().split("T")[0],[f,h]=await Promise.all([W.get("/pos/sales",{params:{startDate:u}}).catch(()=>({data:{data:[]}})),W.get("/orders",{params:{status:"pending,preparing"}}).catch(()=>({data:{data:[]}}))]),p=f.data.data||[],m=h.data.data||[];s({todaySales:p.length,todayRevenue:p.reduce((x,y)=>x+(y.total||0),0),activeOrders:m.length})}catch{}finally{c(!1)}};return i?a.jsx(D$,{}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"   "})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(WN,{size:20}),a.jsx("span",{children:"  "})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold mt-2 text-gray-900 dark:text-gray-100",children:n.todaySales})]}),a.jsx(Ot,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-2xl font-bold mt-2 text-gray-900 dark:text-gray-100",children:[n.todayRevenue.toFixed(2)," TND"]})]}),a.jsx(Nr,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold mt-2 text-gray-900 dark:text-gray-100",children:n.activeOrders})]}),a.jsx(Ht,{className:"text-gold-500",size:32})]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ot,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:'  "  "   '}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(WN,{size:20}),a.jsx("span",{children:"  "})]})]})})]})},Npe=({supplier:e,onClose:t})=>{const[r,n]=N.useState({name:"",code:"",contactName:"",email:"",phone:"",address:"",taxId:"",paymentTerms:""}),[s,i]=N.useState(!1);N.useEffect(()=>{e&&n({name:e.name||"",code:e.code||"",contactName:e.contactName||"",email:e.email||"",phone:e.phone||"",address:e.address||"",taxId:e.taxId||"",paymentTerms:e.paymentTerms||""})},[e]);const o=c=>{n({...r,[c.target.name]:c.target.value})},l=async c=>{var d,u;c.preventDefault(),i(!0);try{e?(await W.put(`/suppliers/${e._id}`,r),E.success("   ")):(await W.post("/suppliers",r),E.success("   ")),t()}catch(f){const h=((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||" ";E.error(h)}finally{i(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e?" ":"  "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:o,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsx("input",{type:"text",name:"code",value:r.code,onChange:o,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"text",name:"contactName",value:r.contactName,onChange:o,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"email",name:"email",value:r.email,onChange:o,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("input",{type:"text",name:"phone",value:r.phone,onChange:o,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"text",name:"taxId",value:r.taxId,onChange:o,className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("textarea",{name:"address",value:r.address,onChange:o,rows:3,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"text",name:"paymentTerms",value:r.paymentTerms,onChange:o,placeholder:": 30 ",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:s,children:""}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:s,children:s?" ...":e?"":""})]})]})]})})},kpe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(!1),[o,l]=N.useState(null);N.useEffect(()=>{c()},[]);const c=async()=>{try{const h=await W.get("/suppliers");t(h.data.data||[])}catch{E.error("    ")}finally{n(!1)}},d=async h=>{var p,m;if(window.confirm("      "))try{await W.delete(`/suppliers/${h}`),E.success("   "),c()}catch(x){const y=((m=(p=x.response)==null?void 0:p.data)==null?void 0:m.message)||"    ";E.error(y)}},u=h=>{l(h),i(!0)},f=()=>{i(!1),l(null),c()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" "})]}),a.jsxs("button",{onClick:()=>i(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(vt,{size:20}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(UC,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"  "})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:e.map(h=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:h.name}),a.jsx("td",{className:"py-3 px-4",children:h.code}),a.jsx("td",{className:"py-3 px-4",children:h.contactName||"-"}),a.jsx("td",{className:"py-3 px-4",children:h.phone||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>u(h),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(Sa,{size:18})}),a.jsx("button",{onClick:()=>d(h._id),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(jr,{size:18})})]})})]},h._id))})]})})}),s&&a.jsx(Npe,{supplier:o,onClose:f})]})},Spe=({expense:e,onClose:t})=>{var z;const[r,n]=N.useState({categoryId:"",label:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],expenseDate:new Date().toISOString().split("T")[0],notes:"",paymentMethod:"cash",supplierId:"",reference:"",commercialId:"",subcategory:"",customSubcategory:"",receiptPath:""}),[s,i]=N.useState([]),[o,l]=N.useState([]),[c,d]=N.useState([]),[u,f]=N.useState(null),[h,p]=N.useState(null),[m,x]=N.useState(""),[y,g]=N.useState(!1),[v,b]=N.useState(!1),w={fuel:"",toll:"  ",transport:"",other:""};N.useEffect(()=>{var M,L,V;if(P(),k(),j(),e){n({categoryId:((M=e.categoryId)==null?void 0:M._id)||e.categoryId||"",category:e.category||"",label:e.label||e.description||"",description:e.description||e.label||"",amount:e.amount||"",date:e.date?new Date(e.date).toISOString().split("T")[0]:e.expenseDate?new Date(e.expenseDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expenseDate:e.expenseDate?new Date(e.expenseDate).toISOString().split("T")[0]:e.date?new Date(e.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],paymentMethod:e.paymentMethod||"cash",supplierId:((L=e.supplierId)==null?void 0:L._id)||e.supplierId||"",notes:e.notes||"",reference:e.reference||"",commercialId:((V=e.commercialId)==null?void 0:V._id)||e.commercialId||"",subcategory:e.subcategory||"",customSubcategory:e.customSubcategory||"",receiptPath:e.receiptPath||""}),e.receiptPath&&x(ue(e.receiptPath));const $=o.find(_=>{var U;return _._id===(((U=e.categoryId)==null?void 0:U._id)||e.categoryId)});$&&f($)}},[e,o]),N.useEffect(()=>{if(r.categoryId){const M=o.find(L=>L._id===r.categoryId);f(M),M&&!M.isCommercialExpense&&n(L=>({...L,commercialId:"",subcategory:"",customSubcategory:""}))}else f(null)},[r.categoryId,o]);const j=async()=>{try{const M=await W.get("/users",{params:{role:"commercial"}});d(M.data.data||[])}catch(M){console.error("Error fetching commercials:",M)}},k=async()=>{try{const M=await W.get("/expense-categories");l(M.data.data||[])}catch(M){console.error("Error fetching categories:",M)}},P=async()=>{try{const M=await W.get("/suppliers");i(M.data.data||[])}catch{}},S=M=>{const{name:L,value:V}=M.target;n({...r,[L]:V}),L==="subcategory"&&V!=="other"&&n($=>({...$,customSubcategory:""}))},O=async M=>{const L=M.target.files[0];if(!L)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/pdf"].includes(L.type)){E.error("   .      PDF");return}if(L.size>10*1024*1024){E.error("   .    10MB");return}if(p(L),L.type.startsWith("image/")){const $=new FileReader;$.onloadend=()=>{x($.result)},$.readAsDataURL(L)}else L.type==="application/pdf"&&x("pdf");await A(L)},A=async M=>{if(M)try{g(!0);const L=new FormData;L.append("receipt",M);const V=await W.post("/uploads/expense/receipt",L,{headers:{"Content-Type":"multipart/form-data"}});n($=>({...$,receiptPath:V.data.data.path})),E.success("   ")}catch{E.error("    "),p(null),x("")}finally{g(!1)}},C=()=>{p(null),x(""),n(M=>({...M,receiptPath:""}))},T=u==null?void 0:u.isCommercialExpense,F=async M=>{var L,V;if(M.preventDefault(),!r.label||r.label.trim()===""){E.error("  ");return}if(T&&!r.commercialId){E.error("   ");return}b(!0);try{const $={categoryId:r.categoryId,label:r.label||r.description||"",amount:r.amount,date:r.date||r.expenseDate,notes:r.notes||"",paymentMethod:r.paymentMethod};r.supplierId&&r.supplierId.trim()!==""&&($.supplierId=r.supplierId),r.reference&&($.reference=r.reference),T&&($.commercialId=r.commercialId,$.subcategory=r.subcategory,r.customSubcategory&&($.customSubcategory=r.customSubcategory),r.receiptPath&&($.receiptPath=r.receiptPath)),e?(await W.put(`/expenses/${e._id}`,$),E.success("   ")):(await W.post("/expenses",$),E.success("   ")),t()}catch($){const _=((V=(L=$.response)==null?void 0:L.data)==null?void 0:V.message)||" ";E.error(_)}finally{b(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800",children:[a.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:e?" ":"  "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex-shrink-0",children:a.jsx(bt,{size:20,className:"md:w-6 md:h-6"})})]}),a.jsxs("form",{onSubmit:F,className:"p-4 md:p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsxs("select",{name:"categoryId",value:r.categoryId,onChange:S,required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:" "}),o.map(M=>a.jsx("option",{value:M._id,children:M.name},M._id))]})]}),T&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["  * ",a.jsx("span",{className:"text-red-500",children:"(  )"})]}),a.jsxs("select",{name:"commercialId",value:r.commercialId,onChange:S,required:T,className:"input-field",children:[a.jsx("option",{value:"",children:"  "}),c.map(M=>a.jsxs("option",{value:M._id,children:[M.name," (",M.email,")"]},M._id))]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["  ",a.jsx("span",{className:"text-gray-500",children:"()"})]}),a.jsxs("select",{name:"subcategory",value:r.subcategory,onChange:S,className:"input-field",children:[a.jsx("option",{value:"",children:"  "}),(z=u==null?void 0:u.subcategories)==null?void 0:z.map(M=>a.jsx("option",{value:M,children:w[M]||M},M))]})]}),r.subcategory==="other"&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["  ",a.jsx("span",{className:"text-gray-500",children:"()"})]}),a.jsx("input",{type:"text",name:"customSubcategory",value:r.customSubcategory,onChange:M=>{n({...r,customSubcategory:M.target.value,label:M.target.value})},className:"input-field",placeholder:"  ..."})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[" / Reu ",a.jsx("span",{className:"text-gray-500",children:"()"})]}),m&&m!=="pdf"&&a.jsxs("div",{className:"mb-3 relative",children:[a.jsx("img",{src:m,alt:"Receipt preview",className:"w-full max-w-full md:max-w-md h-auto md:h-64 object-contain rounded-lg border border-gray-300 dark:border-gray-600"}),a.jsx("button",{type:"button",onClick:C,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:a.jsx(Rc,{size:20})})]}),m==="pdf"&&a.jsxs("div",{className:"mb-3 relative p-4 border border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wr,{size:24,className:"text-red-500"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"   PDF"})]}),a.jsx("button",{type:"button",onClick:C,className:"p-1 text-red-500 hover:text-red-600",children:a.jsx(Rc,{size:20})})]}),!m&&a.jsxs("label",{className:"flex items-center gap-2 btn-secondary cursor-pointer w-full sm:w-fit text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(mo,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:y?" ...":"  (  PDF)"}),a.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:O,className:"hidden",disabled:y})]}),y&&a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gold-600"}),a.jsx("span",{children:"  ..."})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" (TND) *"}),a.jsx("input",{type:"number",name:"amount",value:r.amount,onChange:S,step:"0.01",min:"0",required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("input",{type:"date",name:"date",value:r.date||r.expenseDate,onChange:M=>{n({...r,date:M.target.value,expenseDate:M.target.value})},required:!0,className:"input-field"})]}),!T&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("select",{name:"paymentMethod",value:r.paymentMethod,onChange:S,className:"input-field",children:[a.jsx("option",{value:"cash",children:""}),a.jsx("option",{value:"card",children:""}),a.jsx("option",{value:"bank_transfer",children:" "}),a.jsx("option",{value:"check",children:""})]})]}),!T&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" ()"}),a.jsxs("select",{name:"supplierId",value:r.supplierId,onChange:S,className:"input-field",children:[a.jsx("option",{value:"",children:" "}),s.map(M=>a.jsx("option",{value:M._id,children:M.name},M._id))]})]}),!T&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" ()"}),a.jsx("input",{type:"text",name:"reference",value:r.reference,onChange:S,placeholder:"   ",className:"input-field"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" / Label *"}),a.jsx("input",{type:"text",name:"label",value:r.label||r.description,onChange:M=>{n({...r,label:M.target.value,description:M.target.value})},className:"input-field",placeholder:" ...",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" ()"}),a.jsx("textarea",{name:"notes",value:r.notes,onChange:S,rows:2,className:"input-field",placeholder:" ..."})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 md:gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary text-sm md:text-base px-4 py-2 order-2 sm:order-1",disabled:v,children:""}),a.jsx("button",{type:"submit",className:"btn-primary text-sm md:text-base px-4 py-2 order-1 sm:order-2",disabled:v,children:v?" ...":e?"":""})]})]})]})})},Ppe=()=>{var C;const e=Se(),[t,r]=N.useState([]),[n,s]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState(!1),[d,u]=N.useState(null),[f,h]=N.useState(!1),[p,m]=N.useState({month:new Date().getMonth()+1,year:new Date().getFullYear(),benefit:0}),[x,y]=N.useState([]),[g,v]=N.useState({categoryId:"",commercialId:"",subcategory:"",startDate:"",endDate:""});N.useEffect(()=>{w(),b(),j()},[g]);const b=async()=>{try{const T=await W.get("/users",{params:{role:"commercial"}});y(T.data.data||[])}catch(T){console.error("Error fetching commercials:",T)}},w=async()=>{try{const T=await W.get("/expense-categories");s(T.data.data||[])}catch(T){console.error("Error fetching categories:",T)}},j=async()=>{try{o(!0);const T={};g.categoryId&&(T.categoryId=g.categoryId),g.commercialId&&(T.commercialId=g.commercialId),g.subcategory&&(T.subcategory=g.subcategory),g.startDate&&(T.startDate=g.startDate),g.endDate&&(T.endDate=g.endDate);const F=await W.get("/expenses",{params:T});r(F.data.data||[])}catch{E.error("    ")}finally{o(!1)}},k=async()=>{try{const{month:T,year:F,benefit:z}=p,M=await W.get("/expenses/pdf",{params:{month:T,year:F,benefit:z},responseType:"blob"}),L=new Blob([M.data],{type:"application/pdf"}),V=window.URL.createObjectURL(L),$=document.createElement("a");$.href=V,$.download=`depenses-${F}-${String(T).padStart(2,"0")}.pdf`,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(V),E.success("   PDF "),h(!1)}catch(T){E.error("     PDF"),console.error("PDF generation error:",T)}},P=async T=>{var F,z;if(window.confirm("      "))try{await W.delete(`/expenses/${T}`),E.success("   "),j()}catch(M){const L=((z=(F=M.response)==null?void 0:F.data)==null?void 0:z.message)||"    ";E.error(L)}},S=T=>{u(T),c(!0)},O=()=>{c(!1),u(null),j()},A=t.reduce((T,F)=>T+(parseFloat(F.amount)||0),0);return a.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[a.jsxs("button",{onClick:()=>e("/admin/expenses/categories"),className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(zC,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs("button",{onClick:()=>h(!0),className:"btn-secondary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(wr,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"  PDF"}),a.jsx("span",{className:"sm:hidden",children:"PDF"})]}),a.jsxs("button",{onClick:()=>c(!0),className:"btn-primary flex items-center justify-center gap-2 text-sm md:text-base px-3 md:px-4 py-2",children:[a.jsx(vt,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:[A.toFixed(2)," TND"]})]}),a.jsx(ir,{className:"text-gold-500",size:32})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:t.length})]}),a.jsx(ir,{className:"text-gold-500",size:32})]})})]}),a.jsx("div",{className:"card p-4 md:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3 md:gap-4",children:[a.jsxs("select",{value:g.categoryId,onChange:T=>v({...g,categoryId:T.target.value,subcategory:""}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),n.map(T=>a.jsx("option",{value:T._id,children:T.name},T._id))]}),a.jsxs("select",{value:g.commercialId,onChange:T=>v({...g,commercialId:T.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),x.map(T=>a.jsx("option",{value:T._id,children:T.name},T._id))]}),g.categoryId&&((C=n.find(T=>T._id===g.categoryId))==null?void 0:C.isCommercialExpense)&&a.jsxs("select",{value:g.subcategory,onChange:T=>v({...g,subcategory:T.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"fuel",children:""}),a.jsx("option",{value:"toll",children:"  "}),a.jsx("option",{value:"transport",children:""}),a.jsx("option",{value:"other",children:""})]}),a.jsx("input",{type:"date",value:g.startDate,onChange:T=>v({...g,startDate:T.target.value}),className:"input-field",placeholder:" "}),a.jsx("input",{type:"date",value:g.endDate,onChange:T=>v({...g,endDate:T.target.value}),className:"input-field",placeholder:" "})]})}),a.jsx("div",{className:"card p-4 md:p-6",children:i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ir,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"  "})]}):a.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle px-4 md:px-0",children:a.jsxs("table",{className:"w-full min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:t.map(T=>{var F;return a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:T.expenseNumber}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:((F=T.categoryId)==null?void 0:F.name)||T.category||"-"}),T.subcategory&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[T.subcategory==="fuel"&&"",T.subcategory==="toll"&&"  ",T.subcategory==="transport"&&"",T.subcategory==="other"&&T.customSubcategory&&T.customSubcategory,T.subcategory==="other"&&!T.customSubcategory&&""]}),T.commercialId&&a.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Commercial: ",T.commercialId.name||T.commercialId]})]})}),a.jsx("td",{className:"py-3 px-4",children:T.label||T.description||"-"}),a.jsxs("td",{className:"py-3 px-4 font-medium",children:[T.amount," TND"]}),a.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(T.date||T.expenseDate).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[a.jsx("button",{onClick:()=>S(T),className:"p-1.5 md:p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:"",children:a.jsx(Sa,{size:16,className:"md:w-[18px] md:h-[18px]"})}),a.jsx("button",{onClick:()=>P(T._id),className:"p-1.5 md:p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"",children:a.jsx(jr,{size:16,className:"md:w-[18px] md:h-[18px]"})})]})})]},T._id)})})]})})})}),l&&a.jsx(Spe,{expense:d,onClose:O}),f&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800",children:[a.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex-shrink-0",children:a.jsx(bt,{size:20,className:"md:w-6 md:h-6"})})]}),a.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("select",{value:p.month,onChange:T=>m({...p,month:parseInt(T.target.value)}),className:"input-field",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(T=>a.jsx("option",{value:T,children:new Date(2024,T-1).toLocaleDateString("fr-FR",{month:"long"})},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("input",{type:"number",value:p.year,onChange:T=>m({...p,year:parseInt(T.target.value)}),className:"input-field",min:"2020",max:"2100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"BNFICE (TND)"}),a.jsx("input",{type:"number",value:p.benefit,onChange:T=>m({...p,benefit:parseFloat(T.target.value)||0}),className:"input-field",step:"0.01",min:"0",placeholder:"0"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 md:gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary text-sm md:text-base px-4 py-2 order-2 sm:order-1",children:""}),a.jsxs("button",{type:"button",onClick:k,className:"btn-primary flex items-center justify-center gap-2 text-sm md:text-base px-4 py-2 order-1 sm:order-2",children:[a.jsx(Tn,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{children:" PDF"})]})]})]})]})})]})},Ope=()=>{const e=Se(),[t,r]=N.useState([]),[n,s]=N.useState(!0),[i,o]=N.useState(!1),[l,c]=N.useState(null),[d,u]=N.useState({name:""}),[f,h]=N.useState(!1);N.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);const b=await W.get("/expense-categories");r(b.data.data||[])}catch{E.error("    ")}finally{s(!1)}},m=async b=>{var w,j;if(b.preventDefault(),!d.name.trim()){E.error("   ");return}h(!0);try{l?(await W.put(`/expense-categories/${l._id}`,d),E.success("   ")):(await W.post("/expense-categories",d),E.success("   ")),o(!1),c(null),u({name:""}),p()}catch(k){const P=((j=(w=k.response)==null?void 0:w.data)==null?void 0:j.message)||" ";E.error(P)}finally{h(!1)}},x=b=>{c(b),u({name:b.name}),o(!0)},y=async b=>{var w,j;if(window.confirm("      "))try{await W.delete(`/expense-categories/${b}`),E.success("   "),p()}catch(k){const P=((j=(w=k.response)==null?void 0:w.data)==null?void 0:j.message)||"    ";E.error(P)}},g=async(b,w)=>{const j=[...t],[k]=j.splice(b,1);j.splice(w,0,k);const P=j.map((S,O)=>({id:S._id,orderIndex:O}));try{await W.post("/expense-categories/reorder",{categories:P}),E.success("   "),p()}catch{E.error("    "),p()}},v=()=>{o(!1),c(null),u({name:""})};return a.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx("button",{onClick:()=>e("/admin/expenses"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex-shrink-0",title:"  ",children:a.jsx(Rr,{size:20,className:"md:w-6 md:h-6 rotate-180"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1",children:"   "})]})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center justify-center gap-2 text-sm md:text-base px-4 py-2",children:[a.jsx(vt,{size:18,className:"md:w-5 md:h-5"}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card p-4 md:p-6",children:n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(zC,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"  "}),a.jsx("button",{onClick:()=>o(!0),className:"btn-primary mt-4 text-sm md:text-base px-4 py-2",children:"  "})]}):a.jsx("div",{className:"space-y-2",children:t.map((b,w)=>a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 md:p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:"text-gray-400 dark:text-gray-500 flex-shrink-0",children:a.jsx(DF,{size:18,className:"md:w-5 md:h-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-sm md:text-base text-gray-900 dark:text-gray-100 truncate",children:b.name}),a.jsxs("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:[": ",w+1]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>x(b),className:"p-1.5 md:p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:"",children:a.jsx(Sa,{size:16,className:"md:w-[18px] md:h-[18px]"})}),a.jsx("button",{onClick:()=>y(b._id),className:"p-1.5 md:p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"",children:a.jsx(jr,{size:16,className:"md:w-[18px] md:h-[18px]"})}),w>0&&a.jsx("button",{onClick:()=>g(w,w-1),className:"p-1.5 md:p-2 text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-sm md:text-base",title:" ",children:""}),w<t.length-1&&a.jsx("button",{onClick:()=>g(w,w+1),className:"p-1.5 md:p-2 text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-sm md:text-base",title:" ",children:""})]})]},b._id))})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800",children:[a.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:l?" ":"  "}),a.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex-shrink-0",children:a.jsx(bt,{size:20,className:"md:w-6 md:h-6"})})]}),a.jsxs("form",{onSubmit:m,className:"p-4 md:p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("input",{type:"text",value:d.name,onChange:b=>u({...d,name:b.target.value}),required:!0,className:"input-field",placeholder:"  ",autoFocus:!0})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 md:gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:v,className:"btn-secondary text-sm md:text-base px-4 py-2 order-2 sm:order-1",disabled:f,children:""}),a.jsx("button",{type:"submit",className:"btn-primary text-sm md:text-base px-4 py-2 order-1 sm:order-2",disabled:f,children:f?" ...":l?"":""})]})]})]})})]})},Ape=({returnItem:e,onClose:t})=>{const[r,n]=N.useState({orderId:"",reason:"",items:[]}),[s,i]=N.useState([]),[o,l]=N.useState(null),[c,d]=N.useState(!1);N.useEffect(()=>{var m;u(),e&&n({orderId:((m=e.orderId)==null?void 0:m._id)||e.orderId||"",reason:e.reason||"",items:e.items||[]})},[e]);const u=async()=>{try{const m=await W.get("/orders",{params:{status:"completed,delivered"}});i(m.data.data||[])}catch{}},f=async m=>{try{const x=await W.get(`/orders/${m}`);l(x.data.data),n({...r,orderId:m,items:x.data.data.items.map(y=>({productId:y.productId,productName:y.productName,quantity:0,refundAmount:0}))})}catch{E.error("     ")}},h=(m,x,y)=>{const g=[...r.items];if(g[m]={...g[m],[x]:y},x==="quantity"&&o){const v=o.items[m];g[m].refundAmount=(v.unitPrice*y).toFixed(2)}n({...r,items:g})},p=async m=>{var x,y;if(m.preventDefault(),!r.orderId){E.error("  ");return}if(r.items.filter(g=>g.quantity>0).length===0){E.error("    ");return}d(!0);try{e?(await W.put(`/returns/${e._id}`,r),E.success("   ")):(await W.post("/returns",r),E.success("   ")),t()}catch(g){const v=((y=(x=g.response)==null?void 0:x.data)==null?void 0:y.message)||" ";E.error(v)}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e?" ":"  "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsxs("select",{value:r.orderId,onChange:m=>f(m.target.value),required:!0,className:"input-field",disabled:!!e,children:[a.jsx("option",{value:"",children:" "}),s.map(m=>a.jsxs("option",{value:m._id,children:[m.orderNumber," - ",m.clientName," - ",m.total," TND"]},m._id))]})]}),o&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("textarea",{name:"reason",value:r.reason,onChange:m=>n({...r,reason:m.target.value}),rows:3,required:!0,className:"input-field",placeholder:"  ..."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"  "}),a.jsx("div",{className:"space-y-3",children:r.items.map((m,x)=>{var y,g;return a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:m.productName}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" : ",((y=o.items[x])==null?void 0:y.quantity)||0]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:""}),a.jsx("input",{type:"number",min:"0",max:((g=o.items[x])==null?void 0:g.quantity)||0,value:m.quantity,onChange:v=>h(x,"quantity",parseInt(v.target.value)||0),className:"input-field w-20"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:" "}),a.jsx("input",{type:"number",step:"0.01",value:m.refundAmount,onChange:v=>h(x,"refundAmount",parseFloat(v.target.value)||0),className:"input-field w-32"})]})]})]},x)})})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:c,children:""}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?" ...":e?"":""})]})]})]})})},Tpe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(!1),[o,l]=N.useState(null);N.useEffect(()=>{c()},[]);const c=async()=>{try{const x=await W.get("/returns");t(x.data.data||[])}catch{E.error("    ")}finally{n(!1)}},d=async x=>{try{await W.post(`/returns/${x}/approve`),E.success("   "),c()}catch{E.error(" ")}},u=async x=>{try{await W.post(`/returns/${x}/restock`),E.success("   "),c()}catch{E.error(" ")}},f=x=>{l(x),i(!0)},h=()=>{i(!1),l(null),c()},p={pending:" ",approved:" ",completed:"",rejected:""},m={pending:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",approved:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",completed:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",rejected:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsxs("button",{onClick:()=>i(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(vt,{size:20}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(FC,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"  "})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""})]})}),a.jsx("tbody",{children:e.map(x=>{var y;return a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:x.returnNumber}),a.jsx("td",{className:"py-3 px-4",children:((y=x.orderId)==null?void 0:y.orderNumber)||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m[x.status]||m.pending}`,children:p[x.status]||x.status})}),a.jsxs("td",{className:"py-3 px-4 font-medium",children:[x.totalRefund," TND"]}),a.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(x.createdAt).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[x.status==="pending"&&a.jsx("button",{onClick:()=>d(x._id),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:"",children:a.jsx(EF,{size:18})}),x.status==="approved"&&!x.restocked&&a.jsx("button",{onClick:()=>u(x._id),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:" ",children:a.jsx(Ht,{size:18})}),a.jsx("button",{onClick:()=>f(x),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:a.jsx(Sa,{size:18})})]})})]},x._id)})})]})})}),s&&a.jsx(Ape,{returnItem:o,onClose:h})]})},Cpe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0);N.useEffect(()=>{s()},[]);const s=async()=>{try{const i=await W.get("/crm/clients");t(i.data.data||[])}catch{}finally{n(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"   "})]}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(sn,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"  "})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:" "})]})}),a.jsx("tbody",{children:e.map(i=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:i.name}),a.jsx("td",{className:"py-3 px-4",children:i.email}),a.jsx("td",{className:"py-3 px-4",children:i.phone||"-"}),a.jsx("td",{className:"py-3 px-4",children:i.totalOrders||0}),a.jsxs("td",{className:"py-3 px-4",children:[i.totalSpent||0," TND"]})]},i._id))})]})})})]})},_pe=({user:e,onClose:t})=>{const[r,n]=N.useState({name:"",email:"",phone:"",password:"",role:"user",isAdmin:!1,commercialId:""}),[s,i]=N.useState([]),[o,l]=N.useState(!1);N.useEffect(()=>{var f;c(),e&&n({name:e.name||"",email:e.email||"",phone:e.phone||"",password:"",role:e.role||"user",isAdmin:e.isAdmin||!1,commercialId:((f=e.commercialId)==null?void 0:f._id)||e.commercialId||""})},[e]);const c=async()=>{try{const f=await W.get("/users",{params:{role:"commercial"}});i(f.data.data||[])}catch{}},d=f=>{const{name:h,value:p,type:m,checked:x}=f.target;n({...r,[h]:m==="checkbox"?x:p})},u=async f=>{var h,p;if(f.preventDefault(),!e&&!r.password){E.error("    ");return}if(r.password&&r.password.length<6){E.error("     6   ");return}if(r.role==="client"&&!r.commercialId){E.error("   ");return}l(!0);try{const m={...r};e&&!m.password&&delete m.password,r.role!=="client"&&(m.commercialId=""),e?(await W.put(`/users/${e._id}`,m),E.success("   ")):(await W.post("/users",m),E.success("   ")),t()}catch(m){const x=((p=(h=m.response)==null?void 0:h.data)==null?void 0:p.message)||" ";E.error(x)}finally{l(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e?" ":"  "}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:d,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("input",{type:"email",name:"email",value:r.email,onChange:d,required:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("input",{type:"text",name:"phone",value:r.phone,onChange:d,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e?"   (   )":"  *"}),a.jsx("input",{type:"password",name:"password",value:r.password,onChange:d,required:!e,minLength:6,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsxs("select",{name:"role",value:r.role,onChange:d,required:!0,className:"input-field",children:[a.jsx("option",{value:"user",children:""}),a.jsx("option",{value:"admin",children:""}),a.jsx("option",{value:"commercial",children:""}),a.jsx("option",{value:"store_cashier",children:""}),a.jsx("option",{value:"client",children:""})]})]}),r.role==="client"&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsxs("select",{name:"commercialId",value:r.commercialId,onChange:d,required:r.role==="client",className:"input-field",children:[a.jsx("option",{value:"",children:" "}),s.map(f=>a.jsxs("option",{value:f._id,children:[f.name," (",f.email,")"]},f._id))]}),s.length===0&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"   "})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-6",children:[a.jsx("input",{type:"checkbox",name:"isAdmin",checked:r.isAdmin,onChange:d,className:"w-5 h-5 text-gold-600 rounded"}),a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:""}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?" ...":e?"":""})]})]})]})})},Epe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(!1),[o,l]=N.useState(null),[c,d]=N.useState({role:"",search:""});N.useEffect(()=>{u()},[c]);const u=async()=>{try{n(!0);const g={};c.role&&(g.role=c.role),c.search&&(g.search=c.search);const v=await W.get("/users",{params:g});t(v.data.data||[])}catch{E.error("    ")}finally{n(!1)}},f=async g=>{var v,b;if(window.confirm("      "))try{await W.delete(`/users/${g}`),E.success("   "),u()}catch(w){const j=((b=(v=w.response)==null?void 0:v.data)==null?void 0:b.message)||"    ";E.error(j)}},h=async g=>{var b,w;const v=window.prompt("    (6   ):");if(!v||v.length<6){E.error("     6   ");return}try{await W.post(`/users/${g}/reset-password`,{newPassword:v}),E.success("    ")}catch(j){const k=((w=(b=j.response)==null?void 0:b.data)==null?void 0:w.message)||" ";E.error(k)}},p=g=>{l(g),i(!0)},m=()=>{i(!1),l(null),u()},x={admin:"",commercial:"",store_cashier:"",client:"",user:""},y={admin:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",commercial:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",store_cashier:"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400",client:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",user:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"   "})]}),a.jsxs("button",{onClick:()=>i(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(vt,{size:20}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"  ...",value:c.search,onChange:g=>d({...c,search:g.target.value}),className:"input-field pr-10"})]}),a.jsxs("select",{value:c.role,onChange:g=>d({...c,role:g.target.value}),className:"input-field",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"admin",children:""}),a.jsx("option",{value:"commercial",children:""}),a.jsx("option",{value:"store_cashier",children:""}),a.jsx("option",{value:"client",children:""}),a.jsx("option",{value:"user",children:""})]})]})}),a.jsx("div",{className:"card",children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(sn,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:""})]})}),a.jsx("tbody",{children:e.map(g=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[g.isAdmin?a.jsx(FF,{className:"text-gold-500",size:18}):a.jsx(Mf,{className:"text-gray-400",size:18}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:g.name})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:g.email}),a.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:g.phone||"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y[g.role]||y.user}`,children:x[g.role]||g.role})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:g.role==="client"&&g.commercialId?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:g.commercialId.name}),a.jsx("div",{className:"text-xs text-gray-500",children:g.commercialId.email})]}):"-"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.isAdmin,"bg-gold-100 text-gold-800 dark:bg-gold-900/30 dark:text-gold-400"}`,children:g.isAdmin?"":""})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>p(g),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:"",children:a.jsx(Sa,{size:18})}),a.jsx("button",{onClick:()=>h(g._id),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:"   ",children:a.jsx(Df,{size:18})}),a.jsx("button",{onClick:()=>f(g._id),className:"p-2 text-gold-600 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",title:"",children:a.jsx(jr,{size:18})})]})})]},g._id))})]})})}),s&&a.jsx(_pe,{user:o,onClose:m})]})},$pe=()=>{const{user:e}=cn(),[t,r]=N.useState(!1),[n,s]=N.useState(!0),[i,o]=N.useState({email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:"",vat:19,deliveryFee:10,storeOpen:!0,storeLogo:""});N.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0);const m=(await W.get("/settings")).data.data;m&&o(x=>({...x,vat:m.vat||19,deliveryFee:m.deliveryFee||10,storeOpen:m.storeOpen!==void 0?m.storeOpen:!0,storeLogo:m.storeLogo||""}))}catch{}finally{s(!1)}},c=p=>{const{name:m,value:x,type:y,checked:g}=p.target;o({...i,[m]:y==="checkbox"?g:x})},d=async p=>{var m,x;if(p.preventDefault(),!i.email){E.error("  ");return}try{r(!0),await W.put("/users/me",{email:i.email}),E.success("    ")}catch(y){const g=((x=(m=y.response)==null?void 0:m.data)==null?void 0:x.message)||" ";E.error(g)}finally{r(!1)}},u=async p=>{var m,x;if(p.preventDefault(),!i.currentPassword||!i.newPassword){E.error("  ");return}if(i.newPassword!==i.confirmPassword){E.error("   ");return}if(i.newPassword.length<6){E.error("     6   ");return}try{r(!0),await W.post("/auth/change-password",{currentPassword:i.currentPassword,newPassword:i.newPassword}),E.success("    "),o({...i,currentPassword:"",newPassword:"",confirmPassword:""})}catch(y){const g=((x=(m=y.response)==null?void 0:m.data)==null?void 0:x.message)||" ";E.error(g)}finally{r(!1)}},f=async p=>{var m,x;p.preventDefault();try{r(!0),await W.post("/settings",{vat:i.vat,deliveryFee:i.deliveryFee,storeOpen:i.storeOpen}),E.success("   ")}catch(y){const g=((x=(m=y.response)==null?void 0:m.data)==null?void 0:x.message)||" ";E.error(g)}finally{r(!1)}},h=async p=>{const m=p.target.files[0];if(m)try{r(!0);const x=new FormData;x.append("image",m);const y=await W.post("/uploads/settings/logo",x);o({...i,storeLogo:y.data.data.path}),E.success("   ")}catch{E.error("    ")}finally{r(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx($d,{className:"text-gold-600",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "})]}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:c,className:"input-field",required:!0})]}),a.jsxs("button",{type:"submit",className:"btn-primary w-full",disabled:t,children:[a.jsx(Ic,{size:18,className:"ml-2"}),"  "]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Df,{className:"text-gold-600",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"  "})]}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"password",name:"currentPassword",value:i.currentPassword,onChange:c,className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"password",name:"newPassword",value:i.newPassword,onChange:c,className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"password",name:"confirmPassword",value:i.confirmPassword,onChange:c,className:"input-field",required:!0})]}),a.jsxs("button",{type:"submit",className:"btn-primary w-full",disabled:t,children:[a.jsx(Df,{size:18,className:"ml-2"}),"  "]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(ir,{className:"text-gold-600",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "})]}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  (VAT) %"}),a.jsx("input",{type:"number",name:"vat",value:i.vat,onChange:c,min:"0",max:"100",step:"0.01",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  (TND)"}),a.jsx("input",{type:"number",name:"deliveryFee",value:i.deliveryFee,onChange:c,min:"0",step:"0.01",className:"input-field"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",name:"storeOpen",checked:i.storeOpen,onChange:c,className:"w-5 h-5 text-gold-600 rounded"}),a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "})]}),a.jsxs("button",{type:"submit",className:"btn-primary w-full",disabled:t,children:[a.jsx(Ic,{size:18,className:"ml-2"})," "]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Mc,{className:"text-gold-600",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "})]}),a.jsxs("div",{className:"space-y-4",children:[i.storeLogo&&a.jsx("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:ue(i.storeLogo),alt:"Store Logo",className:"max-w-full max-h-full object-contain"})}),a.jsxs("label",{className:"block",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:t}),a.jsxs("div",{className:"btn-secondary w-full text-center cursor-pointer",children:[a.jsx(Mc,{size:18,className:"ml-2 inline"}),i.storeLogo?" ":" "]})]})]})]})]})]})},Dpe=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!0),[s,i]=N.useState({hero_image:"",hero_title:" ",hero_subtitle:"     ",hero_description:"           ",hero_cta_text:" ",hero_cta_link:"/shop/products",hero_cta2_text:" ",hero_cta2_link:"/shop/special-products"});N.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const u=await W.get("/homepage/admin/hero");u.data.success&&u.data.data&&i({hero_image:u.data.data.hero_image||"",hero_title:u.data.data.hero_title||" ",hero_subtitle:u.data.data.hero_subtitle||"     ",hero_description:u.data.data.hero_description||"",hero_cta_text:u.data.data.hero_cta_text||" ",hero_cta_link:u.data.data.hero_cta_link||"/shop/products",hero_cta2_text:u.data.data.hero_cta2_text||" ",hero_cta2_link:u.data.data.hero_cta2_link||"/shop/special-products"})}catch{E.error("    ")}finally{n(!1)}},l=u=>{const{name:f,value:h}=u.target;i({...s,[f]:h})},c=async u=>{const f=u.target.files[0];if(f)try{t(!0);const h=new FormData;h.append("image",f);const p=await W.post("/uploads/product",h,{headers:{"Content-Type":"multipart/form-data"}});i({...s,hero_image:p.data.data.path}),E.success("   ")}catch{E.error("    ")}finally{t(!1)}},d=async u=>{u.preventDefault();try{t(!0),await W.post("/homepage/admin/hero",s),E.success("    ")}catch{E.error("   ")}finally{t(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"    "})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:" "}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("div",{className:"space-y-3",children:[s.hero_image&&a.jsx("div",{className:"w-full h-48 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:a.jsx("img",{src:ue(s.hero_image),alt:"Hero Banner",className:"w-full h-full object-cover"})}),a.jsxs("label",{className:"block",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden",disabled:e}),a.jsxs("div",{className:"btn-secondary w-full text-center cursor-pointer",children:[a.jsx(Mc,{size:18,className:"ml-2 inline"}),s.hero_image?" ":" "]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"text",name:"hero_title",value:s.hero_title,onChange:l,className:"input-field",placeholder:" ",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"text",name:"hero_subtitle",value:s.hero_subtitle,onChange:l,className:"input-field",placeholder:"     ",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("textarea",{name:"hero_description",value:s.hero_description,onChange:l,className:"input-field",rows:"3",placeholder:"  ..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"text",name:"hero_cta_text",value:s.hero_cta_text,onChange:l,className:"input-field",placeholder:" "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"text",name:"hero_cta_link",value:s.hero_cta_link,onChange:l,className:"input-field",placeholder:"/shop/products"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"text",name:"hero_cta2_text",value:s.hero_cta2_text,onChange:l,className:"input-field",placeholder:" "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"text",name:"hero_cta2_link",value:s.hero_cta2_link,onChange:l,className:"input-field",placeholder:"/shop/special-products"})]})]}),a.jsxs("button",{type:"submit",className:"btn-primary w-full",disabled:e,children:[a.jsx(Ic,{size:18,className:"ml-2"})," "]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Cn,{className:"text-gold-600",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "})]}),a.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 rounded-lg p-8 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"space-y-6 text-center",children:[s.hero_image&&a.jsx("div",{className:"w-full h-64 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:a.jsx("img",{src:ue(s.hero_image),alt:"Hero Preview",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:s.hero_title||" "}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:s.hero_subtitle||" "}),s.hero_description&&a.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:s.hero_description}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[s.hero_cta_text&&a.jsx("button",{className:"bg-gold-600 text-white px-6 py-2 rounded-lg",children:s.hero_cta_text}),s.hero_cta2_text&&a.jsx("button",{className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-6 py-2 rounded-lg",children:s.hero_cta2_text})]})]})]})})]})]})]})},Mpe=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!0),[s,i]=N.useState([]),[o,l]=N.useState([]),[c,d]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const g=await W.get("/homepage/admin/featured");g.data.success&&(i(g.data.data.allProducts||[]),l(g.data.data.featured||[]))}catch{E.error("    ")}finally{n(!1)}},f=g=>{if(o.some(b=>b.product_id._id===g))l(o.filter(b=>b.product_id._id!==g));else{const b=s.find(w=>w._id===g);b&&l([...o,{product_id:b,sort_order:o.length}])}},h=g=>{if(g===0)return;const v=[...o];[v[g-1],v[g]]=[v[g],v[g-1]],v[g-1].sort_order=g-1,v[g].sort_order=g,l(v)},p=g=>{if(g===o.length-1)return;const v=[...o];[v[g],v[g+1]]=[v[g+1],v[g]],v[g].sort_order=g,v[g+1].sort_order=g+1,l(v)},m=async()=>{try{t(!0);const g=o.map(v=>v.product_id._id||v.product_id);await W.post("/homepage/admin/featured/update",{product_ids:g}),E.success("    "),u()}catch{E.error("   ")}finally{t(!1)}},x=s.filter(g=>{var v;return(v=g.name)==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),y=o.map(g=>g.product_id._id||g.product_id);return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"      "})]}),o.length>0&&a.jsxs("div",{className:"card",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:["   (",o.length,")"]}),a.jsx("div",{className:"space-y-2",children:o.map((g,v)=>{var w;const b=g.product_id;return a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("span",{className:"text-gray-500 dark:text-gray-400 font-medium w-8",children:["#",v+1]}),a.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[((w=b.images)==null?void 0:w[0])&&a.jsx("img",{src:ue(b.images[0]),alt:b.name,className:"w-16 h-16 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:b.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.price," TND"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>h(v),disabled:v===0,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50",children:a.jsx(CC,{size:20})}),a.jsx("button",{onClick:()=>p(v),disabled:v===o.length-1,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50",children:a.jsx(TC,{size:20})}),a.jsx("button",{onClick:()=>f(b._id||b),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:""})]})]},b._id||b)})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsxs("div",{className:"relative w-64",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"...",value:c,onChange:g=>d(g.target.value),className:"input-field pr-10"})]})]}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:x.map(g=>{var b;const v=y.includes(g._id);return a.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg border-2 ${v?"border-gold-500 bg-gold-50 dark:bg-gold-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[((b=g.images)==null?void 0:b[0])&&a.jsx("img",{src:ue(g.images[0]),alt:g.name,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:g.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.price," TND"]})]}),a.jsx("button",{onClick:()=>f(g._id),className:`p-2 rounded ${v?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:a.jsx($f,{size:20})})]},g._id)})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["  ",o.length,"  "]}),a.jsxs("button",{onClick:m,className:"btn-primary w-full",disabled:e,children:[a.jsx(Ic,{size:18,className:"ml-2"})," "]})]})]})]})]})},Ipe=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!0),[s,i]=N.useState([]),[o,l]=N.useState([]),[c,d]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const b=await W.get("/homepage/admin/top-sellers");b.data.success&&(i(b.data.data.allProducts||[]),l(b.data.data.topSellers||[]))}catch{E.error("    ")}finally{n(!1)}},f=b=>{if(o.some(j=>j.product_id._id===b))l(o.filter(j=>j.product_id._id!==b));else{const j=s.find(k=>k._id===b);j&&l([...o,{product_id:j,sort_order:o.length,is_manual:!0}])}},h=b=>{if(b===0)return;const w=[...o];[w[b-1],w[b]]=[w[b],w[b-1]],w[b-1].sort_order=b-1,w[b].sort_order=b,l(w)},p=b=>{if(b===o.length-1)return;const w=[...o];[w[b],w[b+1]]=[w[b+1],w[b]],w[b].sort_order=b,w[b+1].sort_order=b+1,l(w)},m=async()=>{try{t(!0);const b=o.filter(w=>w.is_manual).map(w=>w.product_id._id||w.product_id);await W.post("/homepage/admin/top-sellers/update",{product_ids:b}),E.success("    "),u()}catch{E.error("   ")}finally{t(!1)}},x=async()=>{try{t(!0),await W.post("/homepage/admin/top-sellers/recalculate",{limit:10}),E.success("     "),u()}catch{E.error("    ")}finally{t(!1)}},y=s.filter(b=>{var w;return(w=b.name)==null?void 0:w.toLowerCase().includes(c.toLowerCase())}),g=o.map(b=>b.product_id._id||b.product_id),v=o.filter(b=>b.is_manual);return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"     "})]}),a.jsxs("button",{onClick:x,className:"btn-secondary flex items-center gap-2",disabled:e,children:[a.jsx(fo,{size:18}),"  "]})]}),o.length>0&&a.jsxs("div",{className:"card",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:["   (",o.length,")"]}),a.jsx("div",{className:"space-y-2",children:o.map((b,w)=>{var k;const j=b.product_id;return a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg ${b.is_manual?"bg-gray-50 dark:bg-gray-700":"bg-blue-50 dark:bg-blue-900/20"}`,children:[a.jsxs("span",{className:"text-gray-500 dark:text-gray-400 font-medium w-8",children:["#",w+1]}),!b.is_manual&&a.jsx("span",{className:"text-xs bg-blue-500 text-white px-2 py-1 rounded",children:""}),a.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[((k=j.images)==null?void 0:k[0])&&a.jsx("img",{src:ue(j.images[0]),alt:j.name,className:"w-16 h-16 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:j.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[j.price," TND"]})]})]}),b.is_manual&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>h(w),disabled:w===0,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50",children:a.jsx(CC,{size:20})}),a.jsx("button",{onClick:()=>p(w),disabled:w===o.length-1,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50",children:a.jsx(TC,{size:20})}),a.jsx("button",{onClick:()=>f(j._id||j),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:""})]})]},j._id||j)})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsxs("div",{className:"relative w-64",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"...",value:c,onChange:b=>d(b.target.value),className:"input-field pr-10"})]})]}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:y.map(b=>{var k,P;const w=g.includes(b._id),j=(k=o.find(S=>(S.product_id._id||S.product_id)===b._id))==null?void 0:k.is_manual;return a.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg border-2 ${w&&j?"border-gold-500 bg-gold-50 dark:bg-gold-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[((P=b.images)==null?void 0:P[0])&&a.jsx("img",{src:ue(b.images[0]),alt:b.name,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:b.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.price," TND"]})]}),a.jsx("button",{onClick:()=>f(b._id),className:`p-2 rounded ${w&&j?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:a.jsx($f,{size:20})})]},b._id)})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["  ",v.length,"  "]}),a.jsxs("button",{onClick:m,className:"btn-primary w-full",disabled:e,children:[a.jsx(Ic,{size:18,className:"ml-2"})," "]}),a.jsxs("button",{onClick:x,className:"btn-secondary w-full",disabled:e,children:[a.jsx(fo,{size:18,className:"ml-2"}),"  "]})]})]})]})]})},Rpe=()=>{const{user:e,logout:t}=cn(),{isDark:r,toggleTheme:n}=Go(),s=ln(),i=Se(),[o,l]=N.useState(!1),c=()=>{t(),i("/login")},d=[{path:"/admin/dashboard",icon:LC,label:" "},{path:"/admin/categories",icon:IC,label:""},{path:"/admin/products",icon:Ht,label:""},{path:"/admin/special-products",icon:yb,label:" "},{path:"/admin/inventory",icon:HF,label:""},{path:"/admin/orders",icon:$F,label:""},{path:"/admin/invoices",icon:wb,label:""},{path:"/admin/pos",icon:Ot,label:" "},{path:"/admin/suppliers",icon:UC,label:""},{path:"/admin/expenses",icon:ir,label:""},{path:"/admin/returns",icon:FC,label:""},{path:"/admin/crm",icon:_F,label:" "},{path:"/admin/users",icon:WF,label:""},{path:"/admin/analytics",icon:_C,label:""},{path:"/admin/audit-logs",icon:TF,label:" "},{path:"/admin/homepage",icon:RC,label:"  "},{path:"/admin/settings",icon:BC,label:""}];return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsxs("aside",{className:`fixed inset-y-0 right-0 w-64 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 shadow-lg z-40 flex flex-col transform transition-transform ${o?"translate-x-0":"translate-x-full md:translate-x-0"}`,children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0 flex flex-col items-center gap-3",children:[a.jsxs("div",{className:"flex items-center justify-center w-full relative",children:[a.jsx(po,{size:"lg",showText:!1,to:"/admin/dashboard",clickable:!0}),a.jsx("button",{className:"md:hidden absolute left-0 top-1/2 -translate-y-1/2",onClick:()=>l(!1),children:a.jsx(bt,{})})]}),a.jsxs("div",{className:"w-full text-center",children:[a.jsx("h1",{className:"text-xl font-bold text-gold-600 dark:text-gold-400 break-words",children:"Les Rois Du Bois"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:" "})]})]}),a.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto flex-1 min-h-0",children:d.map(u=>{const f=u.icon,h=u.path==="/admin/homepage",p=h?s.pathname.startsWith("/admin/homepage"):s.pathname===u.path;return a.jsxs("div",{children:[a.jsxs(Ne,{to:u.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${p?"bg-gold-100 dark:bg-gold-900/30 text-gold-700 dark:text-gold-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>!h&&l(!1),children:[a.jsx(f,{size:20}),a.jsx("span",{children:u.label})]}),h&&p&&a.jsxs("div",{className:"mr-8 mt-2 space-y-1",children:[a.jsx(Ne,{to:"/admin/homepage/hero",className:`block px-4 py-2 rounded-lg text-sm transition-colors ${s.pathname==="/admin/homepage/hero"?"bg-gold-100 dark:bg-gold-900/30 text-gold-700 dark:text-gold-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>l(!1),children:" "}),a.jsx(Ne,{to:"/admin/homepage/featured",className:`block px-4 py-2 rounded-lg text-sm transition-colors ${s.pathname==="/admin/homepage/featured"?"bg-gold-100 dark:bg-gold-900/30 text-gold-700 dark:text-gold-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>l(!1),children:" "}),a.jsx(Ne,{to:"/admin/homepage/top-sellers",className:`block px-4 py-2 rounded-lg text-sm transition-colors ${s.pathname==="/admin/homepage/top-sellers"?"bg-gold-100 dark:bg-gold-900/30 text-gold-700 dark:text-gold-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>l(!1),children:" "})]})]},u.path)})}),a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e==null?void 0:e.email})]}),a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:r?a.jsx(ho,{size:20}):a.jsx(uo,{size:20})})]}),a.jsxs("button",{onClick:c,className:"w-full flex items-center gap-2 px-4 py-2 text-gold-600 dark:text-gold-400 hover:bg-gold-50 dark:hover:bg-gold-900/20 rounded-lg transition-colors",children:[a.jsx(vb,{size:18}),a.jsx("span",{children:" "})]})]})]}),a.jsxs("div",{className:"w-full md:pr-64",children:[a.jsxs("header",{className:"md:hidden flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 sticky top-0 z-30",children:[a.jsx("button",{onClick:()=>l(!0),children:a.jsx(bb,{})}),a.jsx("div",{className:"flex-1 flex justify-center",children:a.jsx(po,{size:"sm",showText:!1,to:"/admin/dashboard",clickable:!0})}),a.jsx("button",{onClick:n,children:r?a.jsx(ho,{size:20}):a.jsx(uo,{size:20})})]}),a.jsx("main",{className:"p-4 md:p-8",children:a.jsx(Cv,{})})]})]})},Lpe=()=>{const{user:e,logout:t}=cn(),{isDark:r,toggleTheme:n}=Go(),s=ln(),i=Se(),[o,l]=N.useState(!1),c=()=>{t(),E.success("   "),i("/login")},d=[{path:"/commercial",icon:LC,label:" "},{path:"/commercial/clients",icon:sn,label:""},{path:"/commercial/orders",icon:Ot,label:""},{path:"/commercial/invoices",icon:wb,label:""},{path:"/commercial/unpaid",icon:_f,label:"  "},{path:"/commercial/pos",icon:Ht,label:" "},{path:"/commercial/settings",icon:BC,label:""}];return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsxs("aside",{className:`fixed inset-y-0 right-0 w-64 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 shadow-lg z-40 flex flex-col transform transition-transform ${o?"translate-x-0":"translate-x-full md:translate-x-0"}`,children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0 flex flex-col items-center gap-3",children:[a.jsxs("div",{className:"flex items-center justify-center w-full relative",children:[a.jsx(po,{size:"lg",showText:!1,to:"/commercial",clickable:!0}),a.jsx("button",{className:"md:hidden absolute left-0 top-1/2 -translate-y-1/2",onClick:()=>l(!1),children:a.jsx(bt,{})})]}),a.jsxs("div",{className:"w-full text-center",children:[a.jsx("h1",{className:"text-xl font-bold text-gold-600 dark:text-gold-400 break-words",children:"Les Rois Du Bois"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:" "})]})]}),a.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto flex-1 min-h-0",children:d.map(u=>{const f=u.icon,h=s.pathname===u.path;return a.jsxs(Ne,{to:u.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${h?"bg-gold-100 dark:bg-gold-900/30 text-gold-700 dark:text-gold-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>l(!1),children:[a.jsx(f,{size:20}),a.jsx("span",{children:u.label})]},u.path)})}),a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[a.jsxs("div",{className:"px-4 py-2 text-sm",children:[a.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:e==null?void 0:e.email})]}),a.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[r?a.jsx(ho,{size:20}):a.jsx(uo,{size:20}),a.jsx("span",{children:r?" ":" "})]}),a.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(vb,{size:20}),a.jsx("span",{children:" "})]})]})]}),a.jsxs("div",{className:"md:mr-64",children:[a.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-30",children:a.jsxs("div",{className:"px-4 md:px-6 py-4 flex items-center justify-between",children:[a.jsx("button",{className:"md:hidden text-gray-700 dark:text-gray-300",onClick:()=>l(!0),children:a.jsx(bb,{size:24})}),a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date().toLocaleDateString("ar-TN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]})}),a.jsx("main",{className:"p-4 md:p-6",children:a.jsx(Cv,{})})]})]})},Fpe=()=>{const[e,t]=N.useState({totalClients:0,activeClients:0,totalOrders:0,ongoingOrders:0,unpaidInvoices:0,totalRevenue:0,ordersOverTime:[],topClients:[]}),[r,n]=N.useState(!0),s=Se();N.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0);const c=await W.get("/commercial/dashboard/stats");c.data.success&&t(c.data.data)}catch(c){console.error("Error fetching stats:",c),E.error("    ")}finally{n(!1)}},o=[{label:" ",value:e.totalClients,icon:sn,color:"bg-blue-500",action:()=>s("/commercial/clients")},{label:" ",value:e.activeClients,icon:sn,color:"bg-green-500",action:()=>s("/commercial/clients?status=active")},{label:" ",value:e.totalOrders,icon:Ot,color:"bg-purple-500",action:()=>s("/commercial/orders")},{label:" ",value:e.ongoingOrders,icon:Ot,color:"bg-orange-500",action:()=>s("/commercial/orders?status=pending")},{label:"  ",value:e.unpaidInvoices,icon:_f,color:"bg-red-500",action:()=>s("/commercial/unpaid")},{label:" ",value:`${e.totalRevenue.toLocaleString()} TND`,icon:Nr,color:"bg-gold-600",action:()=>s("/commercial/invoices")},{label:"",value:`${(e.totalRevenue-e.totalExpenses).toLocaleString()} TND`,icon:Nr,color:"bg-green-600",action:()=>s("/commercial/invoices")}],l=e.ordersOverTime.map(c=>({month:`${c._id.year}/${c._id.month}`,orders:c.count,revenue:c.revenue}));return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>s("/commercial/pos"),className:"px-4 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(vt,{size:20})," "]}),a.jsxs("button",{onClick:()=>s("/commercial/clients?action=create"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(vt,{size:20})," "]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(c=>{const d=c.icon;return a.jsx("div",{onClick:c.action,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:c.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.value})]}),a.jsx("div",{className:`${c.color} p-3 rounded-lg`,children:a.jsx(d,{className:"text-white",size:24})})]})},c.label)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"   "}),a.jsx(Ut,{width:"100%",height:300,children:a.jsxs(ip,{data:l,children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{dataKey:"month"}),a.jsx(lr,{}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(rn,{type:"monotone",dataKey:"orders",stroke:"#FFD700",strokeWidth:2})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"   "}),a.jsx(Ut,{width:"100%",height:300,children:a.jsxs(si,{data:l,children:[a.jsx(tn,{strokeDasharray:"3 3"}),a.jsx(or,{dataKey:"month"}),a.jsx(lr,{}),a.jsx(We,{}),a.jsx(It,{}),a.jsx(it,{dataKey:"revenue",fill:"#FFD700"})]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),e.topClients.length>0?a.jsx("div",{className:"space-y-3",children:e.topClients.map(c=>a.jsxs("div",{onClick:()=>s(`/commercial/clients/${c._id}`),className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:c.clientName}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c.orderCount,"   ",c.totalSpent.toLocaleString()," TND"]})]}),a.jsx(Cn,{className:"text-gray-400",size:20})]},c._id))}):a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"  "})]})]})},Bpe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(""),[o,l]=N.useState("all"),[c,d]=N.useState(!1),[u,f]=N.useState(null),[h]=em(),p=Se();N.useEffect(()=>{h.get("action")==="create"&&d(!0),m()},[s,o]);const m=async()=>{try{n(!0);const g={search:s||void 0,status:o!=="all"?o:void 0},v=await W.get("/commercial/clients",{params:g});v.data.success&&t(v.data.data)}catch(g){console.error("Error fetching clients:",g),E.error("    ")}finally{n(!1)}},x=async g=>{var v,b;try{(await W.post("/commercial/clients",g)).data.success&&(E.success("   "),d(!1),f(null),m())}catch(w){E.error(((b=(v=w.response)==null?void 0:v.data)==null?void 0:b.message)||"    ")}},y=async(g,v)=>{var b,w;try{(await W.put(`/commercial/clients/${g}`,v)).data.success&&(E.success("   "),d(!1),f(null),m())}catch(j){E.error(((w=(b=j.response)==null?void 0:b.data)==null?void 0:w.message)||"    ")}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(vt,{size:20}),"  "]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"  ...",value:s,onChange:g=>i(g.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"inactive",children:" "})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(g=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:g.name}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.companyName||g.email})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${g.clientStatus==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:g.clientStatus==="active"?"":" "})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[g.phone&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(jb,{size:16}),g.phone]}),g.email&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx($d,{size:16}),g.email]}),g.companyName&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(EC,{size:16}),g.companyName]})]}),g.stats&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mb-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:g.stats.ordersCount})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"font-semibold text-red-600",children:[g.stats.totalUnpaid.toLocaleString()," TND"]})]})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>p(`/commercial/clients/${g._id}`),className:"flex-1 px-3 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg text-sm flex items-center justify-center gap-2 transition-colors",children:[a.jsx(Cn,{size:16}),""]}),a.jsxs("button",{onClick:()=>{f(g),d(!0)},className:"flex-1 px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg text-sm flex items-center justify-center gap-2 transition-colors",children:[a.jsx(Sa,{size:16}),""]})]})]},g._id))}),e.length===0&&a.jsx("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})}),c&&a.jsx(zpe,{client:u,onClose:()=>{d(!1),f(null)},onSubmit:u?g=>y(u._id,g):x})]})},zpe=({client:e,onClose:t,onSubmit:r})=>{const[n,s]=N.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",clientType:(e==null?void 0:e.clientType)||"individual",companyName:(e==null?void 0:e.companyName)||"",taxId:(e==null?void 0:e.taxId)||"",creditLimit:(e==null?void 0:e.creditLimit)||0,paymentTerms:(e==null?void 0:e.paymentTerms)||""}),i=o=>{o.preventDefault(),r(n)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e?" ":"  "})}),a.jsxs("form",{onSubmit:i,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" *"}),a.jsx("input",{type:"text",required:!0,value:n.name,onChange:o=>s({...n,name:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("input",{type:"email",required:!0,value:n.email,onChange:o=>s({...n,email:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  *"}),a.jsx("input",{type:"tel",required:!0,value:n.phone,onChange:o=>s({...n,phone:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsxs("select",{value:n.clientType,onChange:o=>s({...n,clientType:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"individual",children:""}),a.jsx("option",{value:"business",children:""})]})]}),n.clientType==="business"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"text",value:n.companyName,onChange:o=>s({...n,companyName:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"text",value:n.taxId,onChange:o=>s({...n,taxId:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"number",value:n.creditLimit,onChange:o=>s({...n,creditLimit:parseFloat(o.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"text",value:n.paymentTerms,onChange:o=>s({...n,paymentTerms:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:""}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg transition-colors",children:e?"":""})]})]})]})})},Upe=()=>{const{id:e}=On(),t=Se(),[r,n]=N.useState(null),[s,i]=N.useState(!0),[o,l]=N.useState("info");N.useEffect(()=>{c()},[e]);const c=async()=>{try{i(!0);const x=await W.get(`/commercial/clients/${e}`);x.data.success&&n(x.data.data)}catch{E.error("     "),t("/commercial/clients")}finally{i(!1)}};if(s||!r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})});const{client:d,orders:u,unpaidInvoices:f,totalUnpaid:h,ongoingOrders:p,notes:m}=r;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t("/commercial/clients"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:[a.jsx(Rr,{size:20}),""]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>t(`/commercial/pos?clientId=${e}`),className:"px-4 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(vt,{size:20})," "]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:d.name}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[d.phone&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[a.jsx(jb,{size:16}),d.phone]}),d.email&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[a.jsx($d,{size:16}),d.email]})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${d.clientStatus==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:d.clientStatus==="active"?"":" "})]}),d.companyName&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 mb-4",children:[a.jsx(EC,{size:16}),d.companyName,d.taxId&&a.jsxs("span",{className:"text-sm",children:["(",d.taxId,")"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"  "}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[h.toLocaleString()," TND"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:p.length})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex gap-4 px-6",children:[a.jsx("button",{onClick:()=>l("info"),className:`py-4 px-2 border-b-2 transition-colors ${o==="info"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:""}),a.jsxs("button",{onClick:()=>l("orders"),className:`py-4 px-2 border-b-2 transition-colors ${o==="orders"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:[" (",u.length,")"]}),a.jsxs("button",{onClick:()=>l("invoices"),className:`py-4 px-2 border-b-2 transition-colors ${o==="invoices"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:[" (",f.length,")"]}),a.jsxs("button",{onClick:()=>l("notes"),className:`py-4 px-2 border-b-2 transition-colors ${o==="notes"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:[" (",m.length,")"]})]})}),a.jsxs("div",{className:"p-6",children:[o==="info"&&a.jsx(Vpe,{client:d}),o==="orders"&&a.jsx(Wpe,{orders:u,navigate:t}),o==="invoices"&&a.jsx(Hpe,{invoices:f,navigate:t}),o==="notes"&&a.jsx(qpe,{clientId:e,notes:m,onUpdate:c})]})]})]})},Vpe=({client:e})=>{var t;return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.phone||"-"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[e.companyName&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.companyName})]}),e.taxId&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.taxId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:[((t=e.creditLimit)==null?void 0:t.toLocaleString())||0," TND"]})]}),e.paymentTerms&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:e.paymentTerms})]})]})]})]})},Wpe=({orders:e,navigate:t})=>a.jsx("div",{className:"space-y-3",children:e.length>0?e.map(r=>a.jsx("div",{onClick:()=>t(`/commercial/orders/${r._id}`),className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r.orderNumber}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(r.createdAt).toLocaleDateString("ar-TN")})]}),a.jsxs("div",{className:"text-left",children:[a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[r.total.toLocaleString()," TND"]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.status==="completed"?"bg-green-100 text-green-800":r.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.status})]})]})},r._id)):a.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"  "})}),Hpe=({invoices:e,navigate:t})=>a.jsx("div",{className:"space-y-3",children:e.length>0?e.map(r=>a.jsx("div",{onClick:()=>t(`/commercial/invoices/${r._id}`),className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r.invoiceNumber}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" : ",new Date(r.dueDate).toLocaleDateString("ar-TN")]})]}),a.jsxs("div",{className:"text-left",children:[a.jsxs("p",{className:"font-semibold text-red-600",children:[r.remainingAmount.toLocaleString()," TND"]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.status==="paid"?"bg-green-100 text-green-800":r.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:r.status})]})]})},r._id)):a.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"    "})}),qpe=({clientId:e,notes:t,onUpdate:r})=>{const[n,s]=N.useState(""),[i,o]=N.useState(!1),l=async c=>{if(c.preventDefault(),!!n.trim())try{o(!0),(await W.post(`/commercial/clients/${e}/notes`,{content:n})).data.success&&(E.success("   "),s(""),r())}catch{E.error("    ")}finally{o(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("form",{onSubmit:l,className:"flex gap-2",children:[a.jsx("input",{type:"text",value:n,onChange:c=>s(c.target.value),placeholder:" ...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg transition-colors",children:""})]}),a.jsx("div",{className:"space-y-2",children:t.map(c=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:c.content}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(c.createdAt).toLocaleDateString("ar-TN")})]},c._id))})]})},Kpe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s]=em(),[i,o]=N.useState({status:s.get("status")||"",search:""}),l=Se();N.useEffect(()=>{c()},[i]);const c=async()=>{try{n(!0);const u={...i},f=await W.get("/commercial/orders",{params:u});f.data.success&&t(f.data.data)}catch{E.error("    ")}finally{n(!1)}},d={pending:" ",preparing:" ",ready:"",delivered:" ",completed:"",canceled:""};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"  ...",value:i.search,onChange:u=>o({...i,search:u.target.value}),className:"w-full pr-10 pl-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("select",{value:i.status,onChange:u=>o({...i,status:u.target.value}),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"pending",children:" "}),a.jsx("option",{value:"preparing",children:" "}),a.jsx("option",{value:"ready",children:""}),a.jsx("option",{value:"delivered",children:" "}),a.jsx("option",{value:"completed",children:""}),a.jsx("option",{value:"canceled",children:""})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:" "}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(u=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:u.orderNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:u.clientName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(u.createdAt).toLocaleDateString("ar-TN")}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:[u.total.toLocaleString()," TND"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${u.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":u.status==="canceled"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gold-100 text-gold-800 dark:bg-gold-900 dark:text-gold-400"}`,children:d[u.status]||u.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("button",{onClick:()=>l(`/commercial/orders/${u._id}`),className:"text-gold-600 hover:text-gold-700 flex items-center gap-1",children:[a.jsx(Cn,{size:16}),""]})})]},u._id))})]})}),e.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})})]})]})},Gpe=()=>{const{id:e}=On(),t=Se(),[r,n]=N.useState(null),[s,i]=N.useState([]),[o,l]=N.useState(!0),[c,d]=N.useState(null),[u,f]=N.useState(!1);N.useEffect(()=>{p(),m(),h()},[e]);const h=async()=>{try{const w=await W.get(`/commercial/invoices?orderId=${e}`);w.data.success&&w.data.data.length>0&&d(w.data.data[0])}catch{}},p=async()=>{try{l(!0);const w=await W.get(`/commercial/orders/${e}`);w.data.success&&n(w.data.data)}catch{E.error("    "),t("/commercial/orders")}finally{l(!1)}},m=async()=>{try{const w=await W.get(`/commercial/orders/${e}/activity`);i(w.data.data||[])}catch{}},x=async w=>{try{await W.put(`/commercial/orders/${e}/status`,{status:w}),E.success("   "),p(),m()}catch{E.error("    ")}},y=async()=>{var w,j;try{f(!0);const k=new Date;k.setDate(k.getDate()+30);const P=await W.post("/commercial/invoices",{orderId:e,dueDate:k.toISOString()});P.data.success&&(E.success("   "),d(P.data.data),t(`/commercial/invoices/${P.data.data._id}`))}catch(k){const P=((j=(w=k.response)==null?void 0:w.data)==null?void 0:j.message)||"    ";E.error(P)}finally{f(!1)}};if(o)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})});if(!r)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-4",children:"  "}),a.jsx("button",{onClick:()=>t("/commercial/orders"),className:"btn-primary",children:"  "})]});const g=["pending","preparing","ready","delivered","completed"],v=g.indexOf(r.status),b={pending:" ",preparing:" ",ready:"",delivered:" ",completed:"",canceled:""};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t("/commercial/orders"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 mb-2",children:[a.jsx(Rr,{size:20}),a.jsx("span",{children:"  "})]}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[" #",r.orderNumber]})]}),a.jsx("div",{className:"flex gap-2",children:c?a.jsxs("button",{onClick:()=>t(`/commercial/invoices/${c._id}`),className:"btn-primary flex items-center gap-2",children:[a.jsx(wr,{size:18}),a.jsx("span",{children:" "})]}):a.jsxs("button",{onClick:y,disabled:u||r.status==="canceled",className:"btn-primary flex items-center gap-2",children:[a.jsx(wr,{size:18}),a.jsx("span",{children:u?" ...":" "})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsx("div",{className:"flex items-center justify-between",children:g.map((w,j)=>a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("div",{className:"flex flex-col items-center flex-1",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${j<=v?"bg-gold-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:j+1}),a.jsx("span",{className:"text-xs mt-2 text-gray-600 dark:text-gray-400",children:b[w]})]}),j<g.length-1&&a.jsx("div",{className:`h-1 flex-1 mx-2 ${j<v?"bg-gold-600":"bg-gray-200 dark:bg-gray-700"}`})]},w))}),r.status!=="completed"&&r.status!=="canceled"&&a.jsx("div",{className:"mt-4 flex gap-2",children:v<g.length-1&&a.jsx("button",{onClick:()=>x(g[v+1]),className:"btn-primary",children:""})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:""}),a.jsx("div",{className:"space-y-4",children:r.items.map((w,j)=>{var P,S,O,A,C,T,F;let k=null;if(w.productType==="special"&&w.combinationImage)k=w.combinationImage;else if(w.productType==="regular"&&w.variant)if(w.variant.image)k=w.variant.image;else if((P=w.productId)!=null&&P.variants&&w.variant.value){const z=w.productId.variants.find(M=>M.value===w.variant.value||M.name===w.variant.name);z!=null&&z.image?k=z.image:(O=(S=w.productId)==null?void 0:S.images)!=null&&O[0]&&(k=w.productId.images[0])}else(C=(A=w.productId)==null?void 0:A.images)!=null&&C[0]&&(k=w.productId.images[0]);else(F=(T=w.productId)==null?void 0:T.images)!=null&&F[0]&&(k=w.productId.images[0]);return a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[k?a.jsx("img",{src:ue(k),alt:w.productName,className:"w-16 h-16 object-cover rounded-lg border border-gray-200 dark:border-gray-600",onError:z=>{console.error("Image load error:",k),z.target.style.display="none",z.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:`w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center ${k?"hidden":""}`,children:a.jsx(Ht,{className:"text-gray-400",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:w.productName}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[": ",w.quantity,"  ",w.unitPrice," TND"]}),w.variant&&a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[": ",w.variant.name||w.variant.value||" "]}),w.combinationId&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"  "})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[w.total," TND"]})})]},j)})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsx("div",{className:"space-y-4",children:s.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"   "}):s.map(w=>{var j;return a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-gold-600 rounded-full"}),a.jsx("div",{className:"w-px h-full bg-gray-200 dark:bg-gray-700"})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:((j=w.userId)==null?void 0:j.name)||""}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.notes||w.action}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:new Date(w.createdAt).toLocaleString("ar-SA")})]})]},w._id)})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.clientName})]}),r.clientPhone&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.clientPhone})]}),r.clientEmail&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.clientEmail})]}),r.clientAddress&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.clientAddress})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[r.paymentMethod==="cash"&&"",r.paymentMethod==="card"&&"",r.paymentMethod==="credit"&&""]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:new Date(r.createdAt).toLocaleDateString("ar-TN")})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" "}),a.jsxs("span",{className:"font-medium",children:[r.subtotal," TND"]})]}),r.discount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsxs("span",{className:"font-medium text-gold-600",children:["-",r.discount," TND"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsxs("span",{className:"font-medium",children:[r.tax," TND"]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-2 flex justify-between",children:[a.jsx("span",{className:"font-bold text-lg",children:""}),a.jsxs("span",{className:"font-bold text-lg text-gold-600",children:[r.total," TND"]})]})]})]})]})]})]})},Xpe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState({status:"",search:""}),o=Se();N.useEffect(()=>{l()},[s]);const l=async()=>{try{n(!0);const c={...s},d=await W.get("/commercial/invoices",{params:c});d.data.success&&t(d.data.data)}catch{E.error("    ")}finally{n(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(cr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"  ...",value:s.search,onChange:c=>i({...s,search:c.target.value}),className:"w-full pr-10 pl-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("select",{value:s.status,onChange:c=>i({...s,status:c.target.value}),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"sent",children:""}),a.jsx("option",{value:"paid",children:""}),a.jsx("option",{value:"partial",children:" "}),a.jsx("option",{value:"overdue",children:""})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:c.invoiceNumber}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.clientName})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${c.status==="paid"?"bg-green-100 text-green-800":c.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[c.total.toLocaleString()," TND"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"font-semibold text-red-600",children:[c.remainingAmount.toLocaleString()," TND"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" :"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:new Date(c.dueDate).toLocaleDateString("ar-TN")})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>o(`/commercial/invoices/${c._id}`),className:"flex-1 px-3 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg text-sm flex items-center justify-center gap-2 transition-colors",children:[a.jsx(Cn,{size:16}),""]})})]},c._id))}),e.length===0&&a.jsx("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})})]})},Ype=()=>{const{id:e}=On(),t=Se(),[r,n]=N.useState(null),[s,i]=N.useState(!0);N.useEffect(()=>{o()},[e]);const o=async()=>{try{i(!0);const l=await W.get(`/commercial/invoices/${e}`);l.data.success&&n(l.data.data)}catch{E.error("    "),t("/commercial/invoices")}finally{i(!1)}};return s||!r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>t("/commercial/invoices"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:[a.jsx(Rr,{size:20}),""]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[" #",r.invoiceNumber]}),a.jsxs("button",{className:"px-4 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg flex items-center gap-2",children:[a.jsx(Tn,{size:20})," PDF"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.clientName}),r.clientAddress&&a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.clientAddress})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:" "}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[": ",new Date(r.createdAt).toLocaleDateString("ar-TN")]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[" : ",new Date(r.dueDate).toLocaleDateString("ar-TN")]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[": ",r.status]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:""}),a.jsx("div",{className:"space-y-3",children:r.items.map((l,c)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:l.productName}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.quantity,"  ",l.unitPrice.toLocaleString()," TND"]})]}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[l.total.toLocaleString()," TND"]})]},c))})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" :"}),a.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:[r.subtotal.toLocaleString()," TND"]})]}),r.discount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),a.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:["-",r.discount.toLocaleString()," TND"]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:":"}),a.jsxs("span",{className:"text-gold-600",children:[r.total.toLocaleString()," TND"]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-2",children:[a.jsx("span",{className:"text-red-600",children:":"}),a.jsxs("span",{className:"text-red-600",children:[r.remainingAmount.toLocaleString()," TND"]})]})]})]})]})},Qpe=()=>{const[e,t]=N.useState({invoices:[],clientTotals:[]}),[r,n]=N.useState(!0),s=Se();N.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0);const l=await W.get("/commercial/invoices/unpaid/list");l.data.success&&t(l.data.data)}catch{E.error("      ")}finally{n(!1)}};if(r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})});const o=e.invoices.reduce((l,c)=>l+c.remainingAmount,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),a.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 px-4 py-2 rounded-lg",children:[a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[o.toLocaleString()," TND"]})]})]}),e.clientTotals.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"    "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.clientTotals.map(l=>a.jsxs("div",{onClick:()=>s(`/commercial/clients/${l._id}`),className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[l.totalUnpaid.toLocaleString()," TND"]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[l.invoiceCount," "]})]},l._id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"   "})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:" "}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:" "}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:" "}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.invoices.map(l=>a.jsxs("tr",{className:l.isOverdue?"bg-red-50 dark:bg-red-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:l.invoiceNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:l.clientName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(l.dueDate).toLocaleDateString("ar-TN")}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600",children:[l.remainingAmount.toLocaleString()," TND"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.status==="overdue"||l.isOverdue?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:l.isOverdue?"":l.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>s(`/commercial/invoices/${l._id}`),className:"text-gold-600 hover:text-gold-700 flex items-center gap-1",children:[a.jsx(Cn,{size:16}),""]}),a.jsxs("button",{onClick:()=>s(`/commercial/clients/${l.clientId._id||l.clientId}`),className:"text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[a.jsx(jb,{size:16}),""]})]})})]},l._id))})]})}),e.invoices.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"    "})})]})]})},Zpe=()=>{Se();const[e]=em();return e.get("clientId"),a.jsx("div",{children:a.jsx(D$,{})})},Jpe=()=>{const{user:e}=cn(),[t,r]=N.useState("profile"),[n,s]=N.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||""}),[i,o]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[l,c]=N.useState(!1),d=async f=>{f.preventDefault();try{c(!0),E.success("    ")}catch{E.error("     ")}finally{c(!1)}},u=async f=>{if(f.preventDefault(),i.newPassword!==i.confirmPassword){E.error("   ");return}try{c(!0),E.success("    "),o({currentPassword:"",newPassword:"",confirmPassword:""})}catch{E.error("     ")}finally{c(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex gap-4 px-6",children:[a.jsxs("button",{onClick:()=>r("profile"),className:`py-4 px-2 border-b-2 transition-colors ${t==="profile"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Mf,{size:20,className:"inline ml-2"})," "]}),a.jsxs("button",{onClick:()=>r("password"),className:`py-4 px-2 border-b-2 transition-colors ${t==="password"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Df,{size:20,className:"inline ml-2"})," "]}),a.jsxs("button",{onClick:()=>r("notifications"),className:`py-4 px-2 border-b-2 transition-colors ${t==="notifications"?"border-gold-600 text-gold-600":"border-transparent text-gray-600 dark:text-gray-400"}`,children:[a.jsx(CF,{size:20,className:"inline ml-2"}),""]})]})}),a.jsxs("div",{className:"p-6",children:[t==="profile"&&a.jsxs("form",{onSubmit:d,className:"space-y-4 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),a.jsx("input",{type:"text",value:n.name,onChange:f=>s({...n,name:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"email",value:n.email,onChange:f=>s({...n,email:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),a.jsx("input",{type:"tel",value:n.phone,onChange:f=>s({...n,phone:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg transition-colors",children:" "})]}),t==="password"&&a.jsxs("form",{onSubmit:u,className:"space-y-4 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"password",required:!0,value:i.currentPassword,onChange:f=>o({...i,currentPassword:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"password",required:!0,minLength:6,value:i.newPassword,onChange:f=>o({...i,newPassword:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"  "}),a.jsx("input",{type:"password",required:!0,value:i.confirmPassword,onChange:f=>o({...i,confirmPassword:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-gold-600 hover:bg-gold-700 text-white rounded-lg transition-colors",children:"  "})]}),t==="notifications"&&a.jsx("div",{className:"space-y-4 max-w-md",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})})]})]})]})},ege=()=>{const{user:e,loading:t}=cn(),r=Se(),n=ln();return N.useEffect(()=>{n.pathname!=="/pos"&&r("/pos",{replace:!0})},[n.pathname,r]),N.useEffect(()=>{const s=()=>{window.location.pathname.startsWith("/shop")&&(window.history.pushState(null,"","/pos"),r("/pos",{replace:!0}))};return window.history.pushState(null,"","/pos"),window.addEventListener("popstate",s),()=>{window.removeEventListener("popstate",s)}},[r]),t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsx(M$,{})},GP=({active:e,payload:t,label:r})=>{const n=document.documentElement.classList.contains("dark");return e&&t&&t.length?a.jsxs("div",{className:`rounded-lg border p-3 shadow-lg ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[a.jsx("p",{className:`mb-2 font-semibold ${n?"text-gray-100":"text-gray-900"}`,children:r}),t.map((s,i)=>a.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,style:{color:s.color},children:`${s.name}: ${typeof s.value=="number"?s.value.toLocaleString():s.value}`},i))]}):null},tge=({stockData:e})=>{const t=document.documentElement.classList.contains("dark"),r=e.reduce((n,s)=>n+s.value,0);return a.jsx("div",{className:"flex justify-center items-center gap-6 mt-4 flex-wrap",children:e.map((n,s)=>{const i=r>0?(n.value/r*100).toFixed(0):0;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:n.color}}),a.jsxs("span",{className:`text-sm ${t?"text-gray-300":"text-gray-700"}`,children:[n.name,": ",i,"%"]})]},s)})})},rge=()=>{const e=Se(),[t,r]=N.useState({categories:0,products:0,specialProducts:0,users:0,orders:0,pendingOrders:0,revenue:0,profit:0,creditInvoices:0,unpaidInvoices:0,unpaidAmount:0}),[n,s]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState([]),[d,u]=N.useState([]),[f,h]=N.useState([]),[p,m]=N.useState(!0),[x,y]=N.useState("all"),[g,v]=N.useState(5),[b,w]=N.useState(()=>{const A=new Date;return A.setMonth(A.getMonth()-6),A.toISOString().split("T")[0]}),[j,k]=N.useState(()=>new Date().toISOString().split("T")[0]);N.useEffect(()=>{P(),O()},[]);const P=async()=>{try{const[A,C,T,F,z,M]=await Promise.all([W.get("/categories"),W.get("/products"),W.get("/special-products"),W.get("/orders"),W.get("/invoices"),W.get("/users").catch(()=>({data:{data:[]}}))]),L=F.data.data||[],V=z.data.data||[],$=M.data.data||[],_=V.filter(q=>{const Y=!q.invoiceType||q.invoiceType==="client",re=q.status==="paid"||q.remainingAmount!==void 0&&q.remainingAmount===0;return Y&&re}),U=_.reduce((q,Y)=>q+(Y.total||0),0),I=_.reduce((q,Y)=>{if(Y.orderId){const re=typeof Y.orderId=="object"&&Y.orderId._id?Y.orderId._id:Y.orderId,J=L.find(ve=>{var se;const Pe=typeof ve._id=="object"?ve._id.toString():(se=ve._id)==null?void 0:se.toString(),te=typeof re=="object"?re.toString():re==null?void 0:re.toString();return Pe===te});return q+((J==null?void 0:J.profit)||0)}return q},0),B=V.filter(q=>{const Y=!q.invoiceType||q.invoiceType==="client",re=q.status!=="paid"&&q.status!=="canceled"&&(q.remainingAmount===void 0||q.remainingAmount>0);return Y&&re});s(B.slice(0,10)),r({categories:A.data.count||0,products:C.data.count||0,specialProducts:T.data.count||0,users:$.length||0,orders:L.length,pendingOrders:L.filter(q=>q.status==="pending").length,revenue:U,profit:I,creditInvoices:V.filter(q=>q.status==="partial"||q.status==="overdue").length,unpaidInvoices:B.length,unpaidAmount:B.reduce((q,Y)=>q+(Y.remainingAmount||Y.total||0),0)})}catch{}finally{o(!1)}},S=[{label:" ",value:`${t.revenue.toLocaleString()} TND`,icon:Nr,color:"bg-gold-500"},{label:"",value:`${t.profit.toLocaleString()} TND`,icon:Nr,color:"bg-green-500"},{label:" ",value:t.orders,icon:Ot,color:"bg-gold-600"},{label:" ",value:t.products,icon:Ht,color:"bg-gold-600"},{label:" ",value:t.specialProducts,icon:yb,color:"bg-gold-500"},{label:" ",value:t.categories,icon:IC,color:"bg-gold-500"},{label:" ",value:t.users,icon:sn,color:"bg-gold-500"},{label:" ",value:t.pendingOrders,icon:wr,color:"bg-gold-600"}],O=async()=>{try{m(!0);const[A,C,T]=await Promise.all([W.get("/analytics/top-products",{params:{startDate:b,endDate:j,limit:g}}).catch(()=>({data:{data:[]}})),W.get("/analytics/stock-distribution").catch(()=>({data:{data:{}}})),W.get("/analytics/low-stock",{params:{threshold:10}}).catch(()=>({data:{data:[]}}))]),F=(A.data.data||[]).slice(0,g).map(V=>{var $;return{name:(($=V.productName)==null?void 0:$.substring(0,15))||" ",sales:V.quantity||0,revenue:V.revenue||0}});u(F);const M=(C.data.data||{}).counts||{},L=[{name:"",value:M.available||0,color:"#10B981"},{name:"",value:M.lowStock||0,color:"#F59E0B"},{name:"",value:M.outOfStock||0,color:"#EF4444"}];h(L),c(T.data.data||[])}catch(A){console.error("Error fetching charts data:",A),E.error("      ")}finally{m(!1)}};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map((A,C)=>{const T=A.icon;return a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:A.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:A.value})]}),a.jsx("div",{className:`${A.color} p-3 rounded-lg`,children:a.jsx(T,{className:"text-white",size:24})})]})},C)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:" "}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:" :"}),a.jsx("input",{type:"number",min:"1",max:"20",value:g,onChange:A=>{const C=parseInt(A.target.value)||5;v(Math.min(Math.max(1,C),20))},onBlur:O,className:"w-16 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:":"}),a.jsx("input",{type:"date",value:b,onChange:A=>w(A.target.value),onBlur:O,className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:":"}),a.jsx("input",{type:"date",value:j,onChange:A=>k(A.target.value),onBlur:O,className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),p?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):d.length>0?a.jsxs("div",{className:"pt-11",children:[a.jsx(Ut,{width:"100%",height:350,children:a.jsxs(si,{data:d,margin:{top:20,right:20,left:20,bottom:60},barCategoryGap:"20%",children:[a.jsx(tn,{strokeDasharray:"3 3",stroke:document.documentElement.classList.contains("dark")?"#374151":"#E5E7EB"}),a.jsx(or,{dataKey:"name",angle:0,textAnchor:"middle",height:60,tick:{fontSize:14,fill:document.documentElement.classList.contains("dark")?"#D1D5DB":"#374151",fontWeight:600},stroke:document.documentElement.classList.contains("dark")?"#9CA3AF":"#6B7280",interval:0}),a.jsx(lr,{width:50,tick:{fontSize:12,fill:document.documentElement.classList.contains("dark")?"#D1D5DB":"#374151",fontWeight:500},stroke:document.documentElement.classList.contains("dark")?"#9CA3AF":"#6B7280"}),a.jsx(We,{content:a.jsx(GP,{})}),a.jsx(it,{dataKey:"sales",name:" ",radius:[4,4,0,0],children:d.map((A,C)=>{const T=["#FFD700","#10B981","#3B82F6","#F59E0B","#EF4444"];return a.jsx(qn,{fill:T[C%T.length]},`cell-${C}`)})})]})}),a.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:d.map((A,C)=>{const T=["#FFD700","#10B981","#3B82F6","#F59E0B","#EF4444"];return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:T[C%T.length]}}),a.jsx("span",{className:"text-base font-medium text-gray-700 dark:text-gray-300",children:A.name})]},C)})})]}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:"   "})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:" "}),p?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):f.length>0?a.jsxs(a.Fragment,{children:[a.jsx(Ut,{width:"100%",height:350,children:a.jsxs(fl,{children:[a.jsx(Sr,{data:f,cx:"50%",cy:"45%",labelLine:!1,label:!1,outerRadius:120,fill:"#FFD700",dataKey:"value",children:f.map((A,C)=>a.jsx(qn,{fill:A.color},`cell-${C}`))}),a.jsx(We,{content:a.jsx(GP,{})})]})}),a.jsx(tge,{stockData:f})]}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:"   "})]})]}),n.length>0&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ef,{className:"text-red-500",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"  "})]}),a.jsx("button",{onClick:()=>e("/admin/invoices?status=pending&type=client"),className:"btn-secondary text-sm",children:" "})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:" "}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:" "}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(A=>{var C,T,F,z;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:A.invoiceNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:A.clientName||A.displayName||" "}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[((C=A.total)==null?void 0:C.toLocaleString())||0," TND"]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[((T=A.paidAmount)==null?void 0:T.toLocaleString())||0," TND"]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600 dark:text-red-400",children:[((F=A.remainingAmount)==null?void 0:F.toLocaleString())||((z=A.total)==null?void 0:z.toLocaleString())||0," TND"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:A.dueDate?new Date(A.dueDate).toLocaleDateString("fr-FR"):"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.status==="overdue"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":A.status==="partial"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:A.status==="overdue"?"":A.status==="partial"?"":A.status==="pending"?" ":A.status||" "})})]},A._id)})})]})})]}),l.length>0&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ef,{className:"text-red-500",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"   "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:":"}),a.jsxs("select",{value:x,onChange:A=>y(A.target.value),className:"px-4 py-2 rounded-lg text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[a.jsx("option",{value:"all",children:""}),a.jsx("option",{value:"low",children:""}),a.jsx("option",{value:"out",children:""})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:" "}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:" "}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.flatMap(A=>A.variants&&A.variants.length>0?A.variants.map(C=>({productId:A._id,productName:A.name,category:A.category,variantName:A.variantName||"",variantValue:C.value,stock:C.stock,isVariant:!0})):[{productId:A._id,productName:A.name,category:A.category,variantName:null,variantValue:null,stock:A.stock||0,isVariant:!1}]).filter(A=>x==="low"?A.stock>0:x==="out"?A.stock===0:!0).map((A,C)=>{var T;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:[A.productName,A.isVariant&&a.jsxs("span",{className:"block text-xs text-gray-500 dark:text-gray-400 mt-1",children:[A.variantName,": ",A.variantValue]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:((T=A.category)==null?void 0:T.name)||" "}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:A.stock||0}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.stock===0?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:A.stock===0?"":""})})]},`${A.productId}-${A.variantValue||"general"}-${C}`)})})]})})]})]})},nge=e=>{switch(e){case"admin":return"/admin/dashboard";case"commercial":return"/commercial";case"saler":case"store_cashier":case"cashier":return"/pos";default:return"/shop"}},age=()=>{const{user:e,loading:t}=cn(),{user:r,loading:n}=Xo(),s=e||r;return t||n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):s?a.jsx(Jr,{to:nge(s.role),replace:!0}):a.jsx(Jr,{to:"/login",replace:!0})},sge=()=>{const{id:e}=On(),{user:t,loading:r}=cn();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600"})}):a.jsx(Jr,{to:`/admin/orders/${e}`,replace:!0})};function ige(){return a.jsx(WR,{children:a.jsx(jI,{children:a.jsx(VR,{children:a.jsx(HR,{children:a.jsxs(qR,{children:[a.jsx(f5,{position:"top-center",toastOptions:{style:{border:"1px solid #FFD700",padding:"12px 16px"},iconTheme:{primary:"#FFD700",secondary:"#1f2937"},success:{iconTheme:{primary:"#FFD700",secondary:"#1f2937"}},error:{iconTheme:{primary:"#FFD700",secondary:"#1f2937"}}}}),a.jsxs(hI,{children:[a.jsx(de,{path:"/",element:a.jsx(age,{})}),a.jsx(de,{path:"/login",element:a.jsx(JF,{})}),a.jsx(de,{path:"/orders/:id",element:a.jsx(sge,{})}),a.jsx(de,{path:"/orders",element:a.jsx(Jr,{to:"/admin/orders",replace:!0})}),a.jsxs(de,{path:"/shop",element:a.jsx(mu,{allowedRoles:["client","user"],blockedRoles:["cashier","store_cashier","saler"],children:a.jsx(ZF,{})}),children:[a.jsx(de,{index:!0,element:a.jsx(iB,{})}),a.jsx(de,{path:"categories",element:a.jsx(lB,{})}),a.jsx(de,{path:"categories/:id",element:a.jsx(fB,{})}),a.jsx(de,{path:"products",element:a.jsx(dB,{})}),a.jsx(de,{path:"products/:id",element:a.jsx(uB,{})}),a.jsx(de,{path:"special-products",element:a.jsx(mB,{})}),a.jsx(de,{path:"special-products/:id",element:a.jsx(hB,{})}),a.jsx(de,{path:"cart",element:a.jsx(pB,{})}),a.jsx(de,{path:"checkout",element:a.jsx(gB,{})}),a.jsx(de,{path:"profile",element:a.jsx(yB,{})}),a.jsx(de,{path:"orders/:id",element:a.jsx(vB,{})})]}),a.jsxs(de,{path:"/admin",element:a.jsx(mu,{allowedRoles:["admin"],children:a.jsx(Rpe,{})}),children:[a.jsx(de,{index:!0,element:a.jsx(Jr,{to:"/admin/dashboard",replace:!0})}),a.jsx(de,{path:"dashboard",element:a.jsx(rge,{})}),a.jsx(de,{path:"categories",element:a.jsx(jB,{})}),a.jsx(de,{path:"products",element:a.jsx(NB,{})}),a.jsx(de,{path:"special-products",element:a.jsx(SB,{})}),a.jsx(de,{path:"inventory",element:a.jsx(AB,{})}),a.jsx(de,{path:"orders",element:a.jsx(TB,{})}),a.jsx(de,{path:"orders/:id",element:a.jsx(CB,{})}),a.jsx(de,{path:"invoices",element:a.jsx(_B,{})}),a.jsx(de,{path:"invoices/:id",element:a.jsx($B,{})}),a.jsx(de,{path:"pos",element:a.jsx(M$,{})}),a.jsx(de,{path:"suppliers",element:a.jsx(kpe,{})}),a.jsx(de,{path:"expenses",element:a.jsx(Ppe,{})}),a.jsx(de,{path:"expenses/categories",element:a.jsx(Ope,{})}),a.jsx(de,{path:"returns",element:a.jsx(Tpe,{})}),a.jsx(de,{path:"crm",element:a.jsx(Cpe,{})}),a.jsx(de,{path:"analytics",element:a.jsx(upe,{})}),a.jsx(de,{path:"analytics/commercials",element:a.jsx(fpe,{})}),a.jsx(de,{path:"analytics/commercials/advanced",element:a.jsx(gpe,{})}),a.jsx(de,{path:"analytics/orders-products",element:a.jsx(xpe,{})}),a.jsx(de,{path:"analytics/commercials/:id",element:a.jsx(bpe,{})}),a.jsx(de,{path:"audit-logs",element:a.jsx(jpe,{})}),a.jsx(de,{path:"users",element:a.jsx(Epe,{})}),a.jsx(de,{path:"homepage",element:a.jsx(Jr,{to:"/admin/homepage/hero",replace:!0})}),a.jsx(de,{path:"homepage/hero",element:a.jsx(Dpe,{})}),a.jsx(de,{path:"homepage/featured",element:a.jsx(Mpe,{})}),a.jsx(de,{path:"homepage/top-sellers",element:a.jsx(Ipe,{})}),a.jsx(de,{path:"settings",element:a.jsx($pe,{})})]}),a.jsxs(de,{path:"/commercial",element:a.jsx(mu,{allowedRoles:["commercial","admin"],children:a.jsx(Lpe,{})}),children:[a.jsx(de,{index:!0,element:a.jsx(Fpe,{})}),a.jsx(de,{path:"clients",element:a.jsx(Bpe,{})}),a.jsx(de,{path:"clients/:id",element:a.jsx(Upe,{})}),a.jsx(de,{path:"orders",element:a.jsx(Kpe,{})}),a.jsx(de,{path:"orders/:id",element:a.jsx(Gpe,{})}),a.jsx(de,{path:"invoices",element:a.jsx(Xpe,{})}),a.jsx(de,{path:"invoices/:id",element:a.jsx(Ype,{})}),a.jsx(de,{path:"unpaid",element:a.jsx(Qpe,{})}),a.jsx(de,{path:"pos",element:a.jsx(Zpe,{})}),a.jsx(de,{path:"settings",element:a.jsx(Jpe,{})})]}),a.jsx(de,{path:"/pos",element:a.jsx(mu,{allowedRoles:["saler","store_cashier","cashier","admin"],children:a.jsx(ege,{})})})]})]})})})})})}_g.createRoot(document.getElementById("root")).render(a.jsx(R.StrictMode,{children:a.jsx(ige,{})}));
